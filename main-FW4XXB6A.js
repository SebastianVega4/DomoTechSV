var sk=Object.defineProperty,ak=Object.defineProperties;var ck=Object.getOwnPropertyDescriptors;var X0=Object.getOwnPropertySymbols,uk=Object.getPrototypeOf,lk=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,hk=Reflect.get;var eb=(n,e,t)=>e in n?sk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})lk.call(e,t)&&eb(n,t,e[t]);if(X0)for(var t of X0(e))dk.call(e,t)&&eb(n,t,e[t]);return n},ae=(n,e)=>ak(n,ck(e));var ni=(n,e,t)=>hk(uk(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var mm;function ym(){return mm}function Cr(n){let e=mm;return mm=n,e}var fk=Symbol("NotFound"),nd=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function _s(n){return n===fk||n?.name==="\u0275NotFound"}function ad(n,e){return Object.is(n,e)}var lt=null,rd=!1,vm=1,pk=null,St=Symbol("SIGNAL");function ue(n){let e=lt;return lt=n,e}function cd(){return lt}var io={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Es(n){if(rd)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(hd(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&wc(lt)){let t=lt.producerNode[e];dd(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=wc(lt)?nb(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function tb(){vm++}function ud(n){if(!(wc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===vm)){if(!n.producerMustRecompute(n)&&!Cc(n)){sd(n);return}n.producerRecomputeValue(n),sd(n)}}function _m(n){if(n.liveConsumerNode===void 0)return;let e=rd;rd=!0;try{for(let t of n.liveConsumerNode)t.dirty||gk(t)}finally{rd=e}}function Em(){return lt?.consumerAllowSignalWrites!==!1}function gk(n){n.dirty=!0,_m(n),n.consumerMarkedDirty?.(n)}function sd(n){n.dirty=!1,n.lastCleanEpoch=vm}function oo(n){return n&&(n.nextProducerIndex=0),ue(n)}function Is(n,e){if(ue(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(wc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)dd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Cc(n){hd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ud(t),r!==t.version))return!0}return!1}function ld(n){if(hd(n),wc(n))for(let e=0;e<n.producerNode.length;e++)dd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function nb(n,e,t){if(rb(n),n.liveConsumerNode.length===0&&ib(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=nb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function dd(n,e){if(rb(n),n.liveConsumerNode.length===1&&ib(n))for(let r=0;r<n.producerNode.length;r++)dd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hd(i),i.producerIndexOfThis[r]=e}}function wc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function rb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ib(n){return n.producerNode!==void 0}function fd(n){pk?.(n)}function pd(n,e){let t=Object.create(mk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ud(t),Es(t),t.value===Ic)throw t.error;return t.value};return r[St]=t,fd(t),r}var id=Symbol("UNSET"),od=Symbol("COMPUTING"),Ic=Symbol("ERRORED"),mk=ae(V({},io),{value:id,dirty:!0,error:null,equal:ad,kind:"computed",producerMustRecompute(n){return n.value===id||n.value===od},producerRecomputeValue(n){if(n.value===od)throw new Error("");let e=n.value;n.value=od;let t=oo(n),r,i=!1;try{r=n.computation(),ue(null),i=e!==id&&e!==Ic&&r!==Ic&&n.equal(e,r)}catch(o){r=Ic,n.error=o}finally{Is(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function yk(){throw new Error}var ob=yk;function sb(n){ob(n)}function Im(n){ob=n}var vk=null;function wm(n,e){let t=Object.create(gd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ab(t);return r[St]=t,fd(t),[r,s=>ws(t,s),s=>Cm(t,s)]}function ab(n){return Es(n),n.value}function ws(n,e){Em()||sb(n),n.equal(n.value,e)||(n.value=e,_k(n))}function Cm(n,e){Em()||sb(n),ws(n,e(n.value))}var gd=ae(V({},io),{equal:ad,value:void 0,kind:"signal"});function _k(n){n.version++,tb(),_m(n),vk?.(n)}function oe(n){return typeof n=="function"}function Cs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var md=Cs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function so(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof md?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cb(o)}catch(s){e=e??[],s instanceof md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&so(t,e)}remove(e){let{_finalizers:t}=this;t&&so(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var bm=$e.EMPTY;function yd(n){return n instanceof $e||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function cb(n){oe(n)?n():n.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bs={setTimeout(n,e,...t){let{delegate:r}=bs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vd(n){bs.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(n);else throw n})}function bc(){}var ub=Tm("C",void 0,void 0);function lb(n){return Tm("E",void 0,n)}function db(n){return Tm("N",n,void 0)}function Tm(n,e,t){return{kind:n,value:e,error:t}}var ao=null;function Ts(n){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!ao;if(e&&(ao={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ao;if(ao=null,t)throw r}}else n()}function hb(n){Mn.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=n)}var co=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yd(e)&&e.add(this)):this.destination=wk}static create(e,t,r){return new Ds(e,t,r)}next(e){this.isStopped?Sm(db(e),this):this._next(e)}error(e){this.isStopped?Sm(lb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sm(ub,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ek=Function.prototype.bind;function Dm(n,e){return Ek.call(n,e)}var Am=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_d(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_d(r)}else _d(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_d(t)}}},Ds=class extends co{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dm(e.next,o),error:e.error&&Dm(e.error,o),complete:e.complete&&Dm(e.complete,o)}):i=e}this.destination=new Am(i)}};function _d(n){Mn.useDeprecatedSynchronousErrorHandling?hb(n):vd(n)}function Ik(n){throw n}function Sm(n,e){let{onStoppedNotification:t}=Mn;t&&bs.setTimeout(()=>t(n,e))}var wk={closed:!0,next:bc,error:Ik,complete:bc};var Ss=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function Ed(...n){return Mm(n)}function Mm(n){return n.length===0?rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=bk(t)?t:new Ds(t,r,i);return Ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fb(r),new r((i,o)=>{let s=new Ds({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ss](){return this}pipe(...t){return Mm(t)(this)}toPromise(t){return t=fb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fb(n){var e;return(e=n??Mn.Promise)!==null&&e!==void 0?e:Promise}function Ck(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function bk(n){return n&&n instanceof co||Ck(n)&&yd(n)}function Rm(n){return oe(n?.lift)}function ve(n){return e=>{if(Rm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Pm(n,e,t,r,i)}var Pm=class extends co{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function As(){return ve((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ms=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return As()(this)}};var pb=Cs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Id(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pb}next(t){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?bm:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,so(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new Id(e,t),n})(),Id=class extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:bm}};var dt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Nm={now(){return(Nm.delegate||Date).now()},delegate:void 0};var wd=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Tc={setInterval(n,e,...t){let{delegate:r}=Tc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Tc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Rs=class extends wd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Tc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Tc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,so(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ps=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ps.now=Nm.now;var Ns=class extends Ps{constructor(e,t=Ps.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Om=new Ns(Rs);var Cd=class extends Rs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var bd=class extends Ns{};var xm=new bd(Cd);var zt=new ne(n=>n.complete());function gb(n){return n&&oe(n.schedule)}function mb(n){return n[n.length-1]}function Td(n){return oe(mb(n))?n.pop():void 0}function ri(n){return gb(mb(n))?n.pop():void 0}function km(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function vb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function yb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uo(n){return this instanceof uo?(this.v=n,this):new uo(n)}function _b(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(O){return new Promise(function(P,j){o.push([y,O,P,j])>1||u(y,O)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(O){g(o[0][3],O)}}function l(y){y.value instanceof uo?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Eb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yb=="function"?yb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Dd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Sd(n){return oe(n?.then)}function Ad(n){return oe(n[Ss])}function Md(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Rd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Tk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pd=Tk();function Nd(n){return oe(n?.[Pd])}function Od(n){return _b(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield uo(t.read());if(i)return yield uo(void 0);yield yield uo(r)}}finally{t.releaseLock()}})}function xd(n){return oe(n?.getReader)}function rt(n){if(n instanceof ne)return n;if(n!=null){if(Ad(n))return Dk(n);if(Dd(n))return Sk(n);if(Sd(n))return Ak(n);if(Md(n))return Ib(n);if(Nd(n))return Mk(n);if(xd(n))return Rk(n)}throw Rd(n)}function Dk(n){return new ne(e=>{let t=n[Ss]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Sk(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Ak(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,vd)})}function Mk(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ib(n){return new ne(e=>{Pk(n,e).catch(t=>e.error(t))})}function Rk(n){return Ib(Od(n))}function Pk(n,e){var t,r,i,o;return vb(this,void 0,void 0,function*(){try{for(t=Eb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Gt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ii(n,e=0){return ve((t,r)=>{t.subscribe(pe(r,i=>Gt(r,n,()=>r.next(i),e),()=>Gt(r,n,()=>r.complete(),e),i=>Gt(r,n,()=>r.error(i),e)))})}function oi(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wb(n,e){return rt(n).pipe(oi(e),ii(e))}function Cb(n,e){return rt(n).pipe(oi(e),ii(e))}function bb(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Tb(n,e){return new ne(t=>{let r;return Gt(t,e,()=>{r=n[Pd](),Gt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function kd(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Gt(t,e,()=>{let r=n[Symbol.asyncIterator]();Gt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Db(n,e){return kd(Od(n),e)}function Sb(n,e){if(n!=null){if(Ad(n))return wb(n,e);if(Dd(n))return bb(n,e);if(Sd(n))return Cb(n,e);if(Md(n))return kd(n,e);if(Nd(n))return Tb(n,e);if(xd(n))return Db(n,e)}throw Rd(n)}function ke(n,e){return e?Sb(n,e):rt(n)}function Z(...n){let e=ri(n);return ke(n,e)}function Os(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function Fm(n){return!!n&&(n instanceof ne||oe(n.lift)&&oe(n.subscribe))}var br=Cs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ve((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Nk}=Array;function Ok(n,e){return Nk(e)?n(...e):n(e)}function Fd(n){return te(e=>Ok(n,e))}var{isArray:xk}=Array,{getPrototypeOf:kk,prototype:Fk,keys:Lk}=Object;function Ld(n){if(n.length===1){let e=n[0];if(xk(e))return{args:e,keys:null};if(Vk(e)){let t=Lk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Vk(n){return n&&typeof n=="object"&&kk(n)===Fk}function Vd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Dc(...n){let e=ri(n),t=Td(n),{args:r,keys:i}=Ld(n);if(r.length===0)return ke([],e);let o=new ne(jk(r,e,i?s=>Vd(i,s):rn));return t?o.pipe(Fd(t)):o}function jk(n,e,t=rn){return r=>{Ab(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ab(e,()=>{let l=ke(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ab(n,e,t){n?Gt(t,n,e):e()}function Mb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?T(O):u.push(O),T=O=>{o&&e.next(O),l++;let P=!1;rt(t(O,h++)).subscribe(pe(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?Gt(e,s,()=>T(j)):T(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(pe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ye(n,e,t=1/0){return oe(e)?Ye((r,i)=>te((o,s)=>e(r,o,i,s))(rt(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>Mb(r,i,n,t)))}function xs(n=1/0){return Ye(rn,n)}function Rb(){return xs(1)}function ks(...n){return Rb()(ke(n,ri(n)))}function Sc(n){return new ne(e=>{rt(n()).subscribe(e)})}function Lm(...n){let e=Td(n),{args:t,keys:r}=Ld(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;rt(t[h]).subscribe(pe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Vd(r,a):a),o.complete())}))}});return e?i.pipe(Fd(e)):i}function ht(n,e){return ve((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Tr(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=rt(n(s,Tr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Pb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Gn(n,e){return oe(e)?Ye(n,e,1):Ye(n,1)}function si(n){return ve((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dr(n){return n<=0?()=>zt:ve((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jd(n=Uk){return ve((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Uk(){return new br}function lo(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Sr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):rn,Dr(1),t?si(e):jd(()=>new br))}function Fs(n){return n<=0?()=>zt:ve((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):rn,Fs(1),t?si(e):jd(()=>new br))}function Ud(n,e){return ve(Pb(n,e,arguments.length>=2,!0))}function Bd(...n){let e=ri(n);return ve((t,r)=>{(e?ks(n,t,e):ks(n,t)).subscribe(r)})}function Lt(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;rt(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $d(n){return ve((e,t)=>{rt(n).subscribe(pe(t,()=>t.complete(),bc)),!t.closed&&e.subscribe(t)})}function pt(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}function Nb(n){let e=ue(null);try{return n()}finally{ue(e)}}var Wd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(Vs(e,t)),this.code=e}};function Bk(n){return`NG0${Math.abs(n)}`}function Vs(n,e){return`${Bk(n)}${e?": "+e:""}`}var Rr=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function Fb(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Jm(n,e){return n?e?`${n} ${e}`:n:e||""}var $k=Fe({__forward_ref__:Fe});function jt(n){return n.__forward_ref__=jt,n.toString=function(){return Wt(this())},n}function Et(n){return Zm(n)?n():n}function Zm(n){return typeof n=="function"&&n.hasOwnProperty($k)&&n.__forward_ref__===jt}function Lb(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pc(n){return Hk(n,Kd)}function Xm(n){return Pc(n)!==null}function Hk(n,e){return n.hasOwnProperty(e)&&n[e]||null}function qk(n){let e=n?.[Kd]??null;return e||null}function Um(n){return n&&n.hasOwnProperty(qd)?n[qd]:null}var Kd=Fe({\u0275prov:Fe}),qd=Fe({\u0275inj:Fe}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ey(n){return n&&!!n.\u0275providers}var ty=Fe({\u0275cmp:Fe}),ny=Fe({\u0275dir:Fe}),ry=Fe({\u0275pipe:Fe}),iy=Fe({\u0275mod:Fe}),Mc=Fe({\u0275fac:Fe}),mo=Fe({__NG_ELEMENT_ID__:Fe}),Ob=Fe({__NG_ENV_ID__:Fe});function Nc(n){return typeof n=="string"?n:n==null?"":String(n)}function Vb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nc(n)}function oy(n,e){throw new $(-200,n)}function Qd(n,e){throw new $(-201,!1)}var Bm;function jb(){return Bm}function Vt(n){let e=Bm;return Bm=n,e}function sy(n,e,t){let r=Pc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Qd(n,"Injector")}var zk={},ho=zk,$m="__NG_DI_FLAG__",Hm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=fo(t)||0;try{return this.injector.get(e,r&8?null:ho,r)}catch(i){if(_s(i))return i;throw i}}},zd="ngTempTokenPath",Gk="ngTokenPath",Wk=/\n/gm,Kk="\u0275",xb="__source";function Qk(n,e=0){let t=ym();if(t===void 0)throw new $(-203,!1);if(t===null)return sy(n,void 0,e);{let r=Yk(e),i=t.retrieve(n,r);if(_s(i)){if(r.optional)return null;throw i}return i}}function G(n,e=0){return(jb()||Qk)(Et(n),e)}function x(n,e){return G(n,fo(e))}function fo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yk(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function qm(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Jk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function ay(n,e){return n[$m]=e,n.prototype[$m]=e,n}function Jk(n){return n[$m]}function Zk(n,e,t,r){let i=n[zd];throw e[xb]&&i.unshift(e[xb]),n.message=Xk(`
`+n.message,i,t,r),n[Gk]=i,n[zd]=null,n}function Xk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Kk?n.slice(2):n;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Wk,`
  `)}`}function ai(n,e){let t=n.hasOwnProperty(Mc);return t?n[Mc]:null}function Yd(n,e){n.forEach(t=>Array.isArray(t)?Yd(t,e):e(t))}function cy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ub(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Bb(n,e,t){let r=js(n,e);return r>=0?n[r|1]=t:(r=~r,Ub(n,r,e,t)),r}function Jd(n,e){let t=js(n,e);if(t>=0)return n[t|1]}function js(n,e){return e1(n,e,1)}function e1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ui={},on=[],li=new H(""),uy=new H("",-1),ly=new H(""),Rc=class{get(e,t=ho){if(t===ho)throw new nd(`NullInjectorError: No provider for ${Wt(e)}!`);return t}};function dy(n){return n[iy]||null}function Pr(n){return n[ty]||null}function hy(n){return n[ny]||null}function $b(n){return n[ry]||null}function sn(n){return{\u0275providers:n}}function Hb(...n){return{\u0275providers:fy(!0,n),\u0275fromNgModule:!0}}function fy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Yd(e,s=>{let a=s;Gd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qb(i,o),t}function qb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];py(i,o=>{e(o,r)})}}function Gd(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=Um(n),s=!o&&Pr(n);if(!o&&!s){let u=n.ngModule;if(o=Um(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Gd(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Yd(o.imports,h=>{Gd(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&qb(l,e)}if(!a){let l=ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:on},i),e({provide:ly,useValue:i,multi:!0},i),e({provide:li,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;py(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function py(n,e){for(let t of n)ey(t)&&(t=t.\u0275providers),Array.isArray(t)?py(t,e):e(t)}var t1=Fe({provide:String,useValue:Fe});function zb(n){return n!==null&&typeof n=="object"&&t1 in n}function n1(n){return!!(n&&n.useExisting)}function r1(n){return!!(n&&n.useFactory)}function po(n){return typeof n=="function"}function Gb(n){return!!n.useClass}var xc=new H(""),Hd={},kb={},jm;function kc(){return jm===void 0&&(jm=new Rc),jm}var Ue=class{},go=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Gm(e,s=>this.processProvider(s)),this.records.set(uy,Ls(void 0,this)),i.has("environment")&&this.records.set(Ue,Ls(void 0,this));let o=this.records.get(xc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ly,on,{self:!0}))}retrieve(e,t){let r=fo(t)||0;try{return this.get(e,ho,r)}catch(i){if(_s(i))return i;throw i}}destroy(){Ac(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return Ac(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ac(this);let t=Cr(this),r=Vt(void 0),i;try{return e()}finally{Cr(t),Vt(r)}}get(e,t=ho,r){if(Ac(this),e.hasOwnProperty(Ob))return e[Ob](this);let i=fo(r),o,s=Cr(this),a=Vt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=c1(e)&&Pc(e);h&&this.injectableDefInScope(h)?l=Ls(zm(e),Hd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?kc():this.parent;return t=i&8&&t===ho?null:t,u.get(e,t)}catch(u){if(_s(u)){if((u[zd]=u[zd]||[]).unshift(Wt(e)),s)throw u;return Zk(u,e,"R3InjectorError",this.source)}else throw u}finally{Vt(a),Cr(s)}}resolveInjectorInitializers(){let e=ue(null),t=Cr(this),r=Vt(void 0),i;try{let o=this.get(li,on,{self:!0});for(let s of o)s()}finally{Cr(t),Vt(r),ue(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=po(e)?e:Et(e&&e.provide),r=o1(e);if(!po(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ls(void 0,Hd,!0),i.factory=()=>qm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ue(null);try{return t.value===kb?oy(Wt(e)):t.value===Hd&&(t.value=kb,t.value=t.factory()),typeof t.value=="object"&&t.value&&a1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zm(n){let e=Pc(n),t=e!==null?e.factory:ai(n);if(t!==null)return t;if(n instanceof H)throw new $(204,!1);if(n instanceof Function)return i1(n);throw new $(204,!1)}function i1(n){if(n.length>0)throw new $(204,!1);let t=qk(n);return t!==null?()=>t.factory(n):()=>new n}function o1(n){if(zb(n))return Ls(void 0,n.useValue);{let e=gy(n);return Ls(e,Hd)}}function gy(n,e,t){let r;if(po(n)){let i=Et(n);return ai(i)||zm(i)}else if(zb(n))r=()=>Et(n.useValue);else if(r1(n))r=()=>n.useFactory(...qm(n.deps||[]));else if(n1(n))r=()=>G(Et(n.useExisting));else{let i=Et(n&&(n.useClass||n.provide));if(s1(n))r=()=>new i(...qm(n.deps));else return ai(i)||zm(i)}return r}function Ac(n){if(n.destroyed)throw new $(205,!1)}function Ls(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function s1(n){return!!n.deps}function a1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function c1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Gm(n,e){for(let t of n)Array.isArray(t)?Gm(t,e):t&&ey(t)?Gm(t.\u0275providers,e):e(t)}function it(n,e){let t;n instanceof go?(Ac(n),t=n):t=new Hm(n);let r,i=Cr(t),o=Vt(void 0);try{return e()}finally{Cr(i),Vt(o)}}function Wb(){return jb()!==void 0||ym()!=null}var Pn=0,de=1,re=2,It=3,_n=4,En=5,Fc=6,Us=7,At=8,yo=9,Wn=10,Je=11,Bs=12,my=13,vo=14,In=15,_o=16,Eo=17,Io=18,Lc=19,yy=20,Ar=21,Zd=22,Vc=23,an=24,wo=25,cn=26,Kb=1;var di=7,jc=8,Uc=9,Kt=10;function Kn(n){return Array.isArray(n)&&typeof n[Kb]=="object"}function Nn(n){return Array.isArray(n)&&n[Kb]===!0}function vy(n){return(n.flags&4)!==0}function hi(n){return n.componentOffset>-1}function Xd(n){return(n.flags&1)===1}function Qn(n){return!!n.template}function $s(n){return(n[re]&512)!==0}function Co(n){return(n[re]&256)===256}var Qb="svg",Yb="math";function wn(n){for(;Array.isArray(n);)n=n[Pn];return n}function _y(n,e){return wn(e[n])}function On(n,e){return wn(e[n.index])}function eh(n,e){return n.data[e]}function Jb(n,e){return n[e]}function Ey(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Cn(n,e){let t=e[n];return Kn(t)?t:t[Pn]}function th(n){return(n[re]&128)===128}function Zb(n){return Nn(n[It])}function Bc(n,e){return e==null?null:n[e]}function Iy(n){n[Eo]=0}function wy(n){n[re]&1024||(n[re]|=1024,th(n)&&Hs(n))}function Xb(n,e){for(;n>0;)e=e[vo],n--;return e}function $c(n){return!!(n[re]&9216||n[an]?.dirty)}function nh(n){n[Wn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),$c(n)&&Hs(n)}function Hs(n){n[Wn].changeDetectionScheduler?.notify(0);let e=ci(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!th(e)));)e=ci(e)}function Cy(n,e){if(Co(n))throw new $(911,!1);n[Ar]===null&&(n[Ar]=[]),n[Ar].push(e)}function eT(n,e){if(n[Ar]===null)return;let t=n[Ar].indexOf(e);t!==-1&&n[Ar].splice(t,1)}function ci(n){let e=n[It];return Nn(e)?e[It]:e}function tT(n){return n[Us]??=[]}function nT(n){return n.cleanup??=[]}var he={lFrame:vT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Hc=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Hc||{}),u1=0,Wm=!1;function rT(){return he.lFrame.elementDepthCount}function iT(){he.lFrame.elementDepthCount++}function oT(){he.lFrame.elementDepthCount--}function by(){return he.bindingsEnabled}function sT(){return he.skipHydrationRootTNode!==null}function aT(n){return he.skipHydrationRootTNode===n}function cT(){he.skipHydrationRootTNode=null}function we(){return he.lFrame.lView}function Ut(){return he.lFrame.tView}function Qt(n){return he.lFrame.contextLView=n,n[At]}function Yt(n){return he.lFrame.contextLView=null,n}function Mt(){let n=Ty();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ty(){return he.lFrame.currentTNode}function uT(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qs(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function Dy(){return he.lFrame.isParent}function lT(){he.lFrame.isParent=!1}function Sy(n){Lb("Must never be called in production mode"),u1=n}function Ay(){return Wm}function My(n){let e=Wm;return Wm=n,e}function Ry(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dT(n){return he.lFrame.bindingIndex=n}function qc(){return he.lFrame.bindingIndex++}function hT(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fT(){return he.lFrame.inI18n}function pT(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,rh(e)}function gT(){return he.lFrame.currentDirectiveIndex}function rh(n){he.lFrame.currentDirectiveIndex=n}function mT(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Py(n){he.lFrame.currentQueryIndex=n}function l1(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[En]:null}function Ny(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=l1(o),i===null||(o=o[vo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=yT();return r.currentTNode=e,r.lView=n,!0}function ih(n){let e=yT(),t=n[de];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yT(){let n=he.lFrame,e=n===null?null:n.child;return e===null?vT(n):e}function vT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _T(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Oy=_T;function oh(){let n=_T();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ET(n){return(he.lFrame.contextLView=Xb(n,he.lFrame.contextLView))[At]}function bo(){return he.lFrame.selectedIndex}function fi(n){he.lFrame.selectedIndex=n}function sh(){let n=he.lFrame;return eh(n.tView,n.selectedIndex)}function IT(){return he.lFrame.currentNamespace}var wT=!0;function ah(){return wT}function ch(n){wT=n}function Km(n,e=null,t=null,r){let i=xy(n,e,t,r);return i.resolveInjectorInitializers(),i}function xy(n,e=null,t=null,r,i=new Set){let o=[t||on,Hb(n)];return r=r||(typeof n=="object"?void 0:Wt(n)),new go(o,e||kc(),r||null,i)}var He=class n{static THROW_IF_NOT_FOUND=ho;static NULL=new Rc;static create(e,t){if(Array.isArray(e))return Km({name:""},t,e,"");{let r=e.name??"";return Km({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>G(uy)});static __NG_ELEMENT_ID__=-1},qe=new H(""),Nr=(()=>{class n{static __NG_ELEMENT_ID__=d1;static __NG_ENV_ID__=t=>t}return n})(),Qm=class extends Nr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Co(this._lView)}onDestroy(e){let t=this._lView;return Cy(t,e),()=>eT(t,e)}};function d1(){return new Qm(we())}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Jt=new H("",{providedIn:"root",factory:()=>{let n=x(Ue),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Rn),e.handleError(t))}}}),CT={provide:li,useValue:()=>void x(Rn),multi:!0};function ky(n){return typeof n=="function"&&n[St]!==void 0}function Yn(n,e){let[t,r,i]=wm(n,e?.equal),o=t,s=o[St];return o.set=r,o.update=i,o.asReadonly=bT.bind(o),o}function bT(){let n=this[St];if(n.readonlyFn===void 0){let e=()=>this();e[St]=n,n.readonlyFn=e}return n.readonlyFn}function Fy(n){return ky(n)&&typeof n.set=="function"}var Mr=class{},uh=new H("",{providedIn:"root",factory:()=>!1});var Ly=new H(""),Vy=new H("");var lh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=h1}return n})();function h1(){return new lh(we(),Mt())}var Or=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),pi=(()=>{class n{internalPendingTasks=x(Or);scheduler=x(Mr);errorHandler=x(Jt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function zc(...n){}var jy=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Ym})}return n})(),Ym=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ks(n){return{toString:n}.toString()}var dh="__parameters__";function E1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nD(n,e,t){return Ks(()=>{let r=E1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(dh)?u[dh]:Object.defineProperty(u,dh,{value:[]})[dh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Zt=ay(nD("Optional"),8);var rD=ay(nD("SkipSelf"),4);function I1(n){return typeof n=="function"}var yh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var kr=(()=>{let n=()=>oD;return n.ngInherit=!0,n})();function oD(n){return n.type.prototype.ngOnChanges&&(n.setInput=C1),w1}function w1(){let n=aD(this),e=n?.current;if(e){let t=n.previous;if(t===ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function C1(n,e,t,r,i){let o=this.declaredInputs[r],s=aD(n)||b1(n,{previous:ui,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new yh(l&&l.currentValue,t,u===ui),iD(n,e,i,t)}var sD="__ngSimpleChanges__";function aD(n){return n[sD]||null}function b1(n,e){return n[sD]=e}var TT=[];var Ae=function(n,e=null,t){for(let r=0;r<TT.length;r++){let i=TT[r];i(n,e,t)}};function T1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=oD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ph(n,e,t){uD(n,e,3,t)}function gh(n,e,t,r){(n[re]&3)===t&&uD(n,e,t,r)}function Uy(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function uD(n,e,t,r){let i=r!==void 0?n[Eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Eo]+=65536),(a<o||o==-1)&&(D1(n,t,e,u),n[Eo]=(n[Eo]&4294901760)+u+2),u++}function DT(n,e){Ae(4,n,e);let t=ue(null);try{e.call(n)}finally{ue(t),Ae(5,n,e)}}function D1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[Eo]>>16&&(n[re]&3)===e&&(n[re]+=16384,DT(a,o)):DT(a,o)}var Gs=-1,So=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function S1(n){return(n.flags&8)!==0}function A1(n){return(n.flags&16)!==0}function M1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];R1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function lD(n){return n===3||n===4||n===6}function R1(n){return n.charCodeAt(0)===64}function Kc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ST(n,t,i,null,e[++r]):ST(n,t,i,null,null))}}return n}function ST(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function dD(n){return n!==Gs}function vh(n){return n&32767}function P1(n){return n>>16}function _h(n,e){let t=P1(n),r=e;for(;t>0;)r=r[vo],t--;return r}var Jy=!0;function Eh(n){let e=Jy;return Jy=n,e}var N1=256,hD=N1-1,fD=5,O1=0,Jn={};function x1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(mo)&&(r=t[mo]),r==null&&(r=t[mo]=O1++);let i=r&hD,o=1<<i;e.data[n+(i>>fD)]|=o}function Ih(n,e){let t=pD(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,By(r.data,n),By(e,null),By(r.blueprint,null));let i=mv(n,e),o=n.injectorIndex;if(dD(i)){let s=vh(i),a=_h(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function By(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=_D(i),r===null)return Gs;if(t++,i=i[vo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Gs}function Zy(n,e,t){x1(n,e,t)}function k1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(lD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function gD(n,e,t){if(t&8||n!==void 0)return n;Qd(e,"NodeInjector")}function mD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[yo],o=Vt(void 0);try{return i?i.get(e,r,t&8):sy(e,r,t&8)}finally{Vt(o)}}return gD(r,e,t)}function yD(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=U1(n,e,t,r,Jn);if(s!==Jn)return s}let o=vD(n,e,t,r,Jn);if(o!==Jn)return o}return mD(e,t,r,i)}function vD(n,e,t,r,i){let o=V1(t);if(typeof o=="function"){if(!Ny(e,n,r))return r&1?gD(i,t,r):mD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Qd(t);else return s}finally{Oy()}}else if(typeof o=="number"){let s=null,a=pD(n,e),u=Gs,l=r&1?e[In][En]:null;for((a===-1||r&4)&&(u=a===-1?mv(n,e):e[a+8],u===Gs||!MT(r,!1)?a=-1:(s=e[de],a=vh(u),e=_h(u,e)));a!==-1;){let h=e[de];if(AT(o,a,h.data)){let p=F1(a,e,t,s,r,l);if(p!==Jn)return p}u=e[a+8],u!==Gs&&MT(r,e[de].data[a+8]===l)&&AT(o,a,e)?(s=h,a=vh(u),e=_h(u,e)):a=-1}}return i}function F1(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],u=r==null?hi(a)&&Jy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=L1(a,s,t,u,l);return h!==null?wh(e,s,h,a):Jn}function L1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Qn(y)&&y.type===t)return u}return null}function wh(n,e,t,r){let i=n[t],o=e.data;if(i instanceof So){let s=i;s.resolving&&oy(Vb(o[t]));let a=Eh(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?Vt(s.injectImpl):null,p=Ny(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&T1(t,o[t],e)}finally{h!==null&&Vt(h),Eh(a),s.resolving=!1,Oy()}}return i}function V1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(mo)?n[mo]:void 0;return typeof e=="number"?e>=0?e&hD:j1:e}function AT(n,e,t){let r=1<<n;return!!(t[e+(n>>fD)]&r)}function MT(n,e){return!(n&2)&&!(n&1&&e)}var Do=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yD(this._tNode,this._lView,e,fo(r),t)}};function j1(){return new Do(Mt(),we())}function un(n){return Ks(()=>{let e=n.prototype.constructor,t=e[Mc]||Xy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Mc]||Xy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xy(n){return Zm(n)?()=>{let e=Xy(Et(n));return e&&e()}:ai(n)}function U1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!$s(s);){let a=vD(o,s,t,r|2,Jn);if(a!==Jn)return a;let u=o.parent;if(!u){let l=s[yy];if(l){let h=l.get(t,Jn,r);if(h!==Jn)return h}u=_D(s),s=s[vo]}o=u}return i}function _D(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function Zc(n){return k1(Mt(),n)}function B1(){return xh(Mt(),we())}function xh(n,e){return new kn(On(n,e))}var kn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=B1}return n})();function ED(n){return(n.flags&128)===128}var yv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yv||{}),ID=new Map,$1=0;function H1(){return $1++}function q1(n){ID.set(n[Lc],n)}function ev(n){ID.delete(n[Lc])}var RT="__ngContext__";function Xc(n,e){Kn(e)?(n[RT]=e[Lc],q1(e)):n[RT]=e}function wD(n){return bD(n[Bs])}function CD(n){return bD(n[_n])}function bD(n){for(;n!==null&&!Nn(n);)n=n[_n];return n}var tv;function vv(n){tv=n}function TD(){if(tv!==void 0)return tv;if(typeof document<"u")return document;throw new $(210,!1)}var kh=new H("",{providedIn:"root",factory:()=>z1}),z1="ng",Fh=new H(""),yi=new H("",{providedIn:"platform",factory:()=>"unknown"});var Lh=new H("",{providedIn:"root",factory:()=>TD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var G1="h",W1="b";var DD=!1,SD=new H("",{providedIn:"root",factory:()=>DD});var K1=(n,e,t,r)=>{};function Q1(n,e,t,r){K1(n,e,t,r)}var Y1=()=>null;function AD(n,e,t=!1){return Y1(n,e,t)}function MD(n,e){let t=n.contentQueries;if(t!==null){let r=ue(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Py(o),a.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function nv(n,e,t){Py(0);let r=ue(null);try{e(n,t)}finally{ue(r)}}function RD(n,e,t){if(vy(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ue(r)}}}var xr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xr||{});var hh;function J1(){if(hh===void 0&&(hh=null,Rr.trustedTypes))try{hh=Rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hh}function PT(n){return J1()?.createScriptURL(n)||n}var Ch=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wd})`}};function eu(n){return n instanceof Ch?n.changingThisBreaksApplicationSecurity:n}function _v(n,e){let t=PD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Wd})`)}return t===e}function PD(n){return n instanceof Ch&&n.getTypeName()||null}var Z1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ND(n){return n=String(n),n.match(Z1)?n:"unsafe:"+n}var Vh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vh||{});function vi(n){let e=xD();return e?e.sanitize(Vh.URL,n)||"":_v(n,"URL")?eu(n):ND(Nc(n))}function OD(n){let e=xD();if(e)return PT(e.sanitize(Vh.RESOURCE_URL,n)||"");if(_v(n,"ResourceURL"))return PT(eu(n));throw new $(904,!1)}function X1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?OD:vi}function Ev(n,e,t){return X1(e,t)(n)}function xD(){let n=we();return n&&n[Wn].sanitizer}function kD(n){return n instanceof Function?n():n}function eF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var FD="ng-template";function tF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&eF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Iv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Iv(n){return n.type===4&&n.value!==FD}function nF(n,e,t){let r=n.type===4&&!t?FD:n.value;return e===r}function rF(n,e,t){let r=4,i=n.attrs,o=i!==null?sF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!xn(r)&&!xn(u))return!1;if(s&&xn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!nF(n,u,t)||u===""&&e.length===1){if(xn(r))return!1;s=!0}}else if(r&8){if(i===null||!tF(n,i,u,t)){if(xn(r))return!1;s=!0}}else{let l=e[++a],h=iF(u,i,Iv(n),t);if(h===-1){if(xn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(xn(r))return!1;s=!0}}}}return xn(r)||s}function xn(n){return(n&1)===0}function iF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return aF(e,n)}function oF(n,e,t=!1){for(let r=0;r<e.length;r++)if(rF(n,e[r],t))return!0;return!1}function sF(n){for(let e=0;e<n.length;e++){let t=n[e];if(lD(t))return e}return n.length}function aF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function NT(n,e){return n?":not("+e.trim()+")":e}function cF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xn(s)&&(e+=NT(o,i),i=""),r=s,o=o||!xn(r);t++}return i!==""&&(e+=NT(o,i)),e}function uF(n){return n.map(cF).join(",")}function lF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!xn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Fr={};function dF(n,e){return n.createText(e)}function hF(n,e,t){n.setValue(e,t)}function LD(n,e,t){return n.createElement(e,t)}function bh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function VD(n,e,t){n.appendChild(e,t)}function OT(n,e,t,r,i){r!==null?bh(n,e,t,r,i):VD(n,e,t)}function fF(n,e,t){n.removeChild(null,e,t)}function pF(n,e,t){n.setAttribute(e,"style",t)}function gF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&M1(n,e,r),i!==null&&gF(n,e,i),o!==null&&pF(n,e,o)}function wv(n,e,t,r,i,o,s,a,u,l,h){let p=cn+r,g=p+i,y=mF(p,g),T=typeof l=="function"?l():l;return y[de]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function mF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Fr);return t}function yF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=wv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Cv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Pn]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),Iy(p),p[It]=p[vo]=n,p[At]=t,p[Wn]=s||n&&n[Wn],p[Je]=a||n&&n[Je],p[yo]=u||n&&n[yo]||null,p[En]=o,p[Lc]=H1(),p[Fc]=h,p[yy]=l,p[In]=e.type==2?n[In]:p,p}function vF(n,e,t){let r=On(e,n),i=yF(t),o=n[Wn].rendererFactory,s=bv(n,Cv(n,i,null,UD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function UD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function BD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bv(n,e){return n[Bs]?n[my][_n]=e:n[Bs]=e,n[my]=e,e}function F(n=1){$D(Ut(),we(),bo()+n,!1)}function $D(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ph(e,o,t)}else{let o=n.preOrderHooks;o!==null&&gh(e,o,0,t)}fi(t)}var jh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(jh||{});function rv(n,e,t,r){let i=ue(null);try{let[o,s,a]=n.inputs[t],u=null;(s&jh.SignalBased)!==0&&(u=e[o][St]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):iD(e,u,o,r)}finally{ue(i)}}function HD(n,e,t,r,i){let o=bo(),s=r&2;try{fi(-1),s&&e.length>cn&&$D(n,e,cn,!1),Ae(s?2:0,i,t),t(r,i)}finally{fi(o),Ae(s?3:1,i,t)}}function Tv(n,e,t){TF(n,e,t),(t.flags&64)===64&&DF(n,e,t)}function qD(n,e,t=On){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function _F(n,e,t,r){let o=r.get(SD,DD)||t===xr.ShadowDom,s=n.selectRootElement(e,o);return EF(s),s}function EF(n){IF(n)}var IF=()=>null;function wF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function zD(n,e,t,r,i,o){let s=e[de];if(Dv(n,s,e,t,r)){hi(n)&&bF(e,n.index);return}CF(n,e,t,r,i,o)}function CF(n,e,t,r,i,o){if(n.type&3){let s=On(n,e);t=wF(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function bF(n,e){let t=Cn(e,n);t[re]&16||(t[re]|=64)}function TF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;hi(t)&&vF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ih(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=wh(e,n,s,t);if(Xc(u,e),o!==null&&RF(e,s-r,u,a,t,o),Qn(a)){let l=Cn(t.index,e);l[At]=wh(e,n,s,t)}}}function DF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=gT();try{fi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];rh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&SF(u,l)}}finally{fi(-1),rh(s)}}function SF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function GD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];oF(e,o.selectors,!1)&&(r??=[],Qn(o)?r.unshift(o):r.push(o))}return r}function AF(n,e,t,r,i,o){let s=On(n,e);MF(e[Je],s,o,n.value,t,r,i)}function MF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Nc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function RF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];rv(r,t,u,l)}}function PF(n,e){let t=n[yo];if(!t)return;t.get(Jt,null)?.(e)}function Dv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];rv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];rv(h,l,r,i),a=!0}return a}function NF(n,e){let t=Cn(e,n),r=t[de];OF(r,t);let i=t[Pn];i!==null&&t[Fc]===null&&(t[Fc]=AD(i,t[yo])),Ae(18),Sv(r,t,t[At]),Ae(19,t[At])}function OF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Sv(n,e,t){ih(e);try{let r=n.viewQuery;r!==null&&nv(1,r,t);let i=n.template;i!==null&&HD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Io]?.finishViewCreation(n),n.staticContentQueries&&MD(n,e),n.staticViewQueries&&nv(2,n.viewQuery,t);let o=n.components;o!==null&&xF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,oh()}}function xF(n,e){for(let t=0;t<e.length;t++)NF(n,e[t])}function kF(n,e,t,r){let i=ue(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=Cv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[_o]=l;let h=n[Io];return h!==null&&(u[Io]=h.createEmbeddedView(o)),Sv(o,u,t),u}finally{ue(i)}}function xT(n,e){return!e||e.firstChild===null||ED(n)}var kT=!1,FF=new H(""),LF;function Av(n,e){return LF(n,e)}var Zn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zn||{});function Mv(n){return(n.flags&32)===32}function zs(n,e,t,r,i){if(r!=null){let o,s=!1;Nn(r)?o=r:Kn(r)&&(s=!0,r=r[Pn]);let a=wn(r);n===0&&t!==null?i==null?VD(e,t,a):bh(e,t,a,i||null,!0):n===1&&t!==null?bh(e,t,a,i||null,!0):n===2?fF(e,a,s):n===3&&e.destroyNode(a),o!=null&&QF(e,n,o,t,i)}}function VF(n,e){WD(n,e),e[Pn]=null,e[En]=null}function jF(n,e,t,r,i,o){r[Pn]=i,r[En]=e,Uh(n,r,t,1,i,o)}function WD(n,e){e[Wn].changeDetectionScheduler?.notify(9),Uh(n,e,e[Je],2,null,null)}function UF(n){let e=n[Bs];if(!e)return $y(n[de],n);for(;e;){let t=null;if(Kn(e))t=e[Bs];else{let r=e[Kt];r&&(t=r)}if(!t){for(;e&&!e[_n]&&e!==n;)Kn(e)&&$y(e[de],e),e=e[It];e===null&&(e=n),Kn(e)&&$y(e[de],e),t=e&&e[_n]}e=t}}function Rv(n,e){let t=n[Uc],r=t.indexOf(e);t.splice(r,1)}function KD(n,e){if(Co(e))return;let t=e[Je];t.destroyNode&&Uh(n,e,t,3,null,null),UF(e)}function $y(n,e){if(Co(e))return;let t=ue(null);try{e[re]&=-129,e[re]|=256,e[an]&&ld(e[an]),$F(n,e),BF(n,e),e[de].type===1&&e[Je].destroy();let r=e[_o];if(r!==null&&Nn(e[It])){r!==e[It]&&Rv(r,e);let i=e[Io];i!==null&&i.detachView(n)}ev(e)}finally{ue(t)}}function BF(n,e){let t=n.cleanup,r=e[Us];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Us]=null);let i=e[Ar];if(i!==null){e[Ar]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Vc];if(o!==null){e[Vc]=null;for(let s of o)s.destroy()}}function $F(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof So)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ae(4,a,u);try{u.call(a)}finally{Ae(5,a,u)}}else{Ae(4,i,o);try{o.call(i)}finally{Ae(5,i,o)}}}}}function HF(n,e,t){return qF(n,e.parent,t)}function qF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Pn];if(hi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xr.None||i===xr.Emulated)return null}return On(r,t)}function zF(n,e,t){return WF(n,e,t)}function GF(n,e,t){return n.type&40?On(n,t):null}var WF=GF,FT;function Pv(n,e,t,r){let i=HF(n,r,e),o=e[Je],s=r.parent||e[En],a=zF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)OT(o,i,t[u],a,!1);else OT(o,i,t,a,!1);FT!==void 0&&FT(o,r,e,t,i)}function Gc(n,e){if(e!==null){let t=e.type;if(t&3)return On(e,n);if(t&4)return iv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Gc(n,r);{let i=n[e.index];return Nn(i)?iv(-1,i):wn(i)}}else{if(t&128)return Gc(n,e.next);if(t&32)return Av(e,n)()||wn(n[e.index]);{let r=QD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ci(n[In]);return Gc(i,r)}else return Gc(n,e.next)}}}return null}function QD(n,e){if(e!==null){let r=n[In][En],i=e.projection;return r.projection[i]}return null}function iv(n,e){let t=Kt+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return Gc(r,i)}return e[di]}function Nv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Xc(wn(a),r),t.flags|=2),!Mv(t))if(u&8)Nv(n,e,t.child,r,i,o,!1),zs(e,n,i,a,o);else if(u&32){let l=Av(t,r),h;for(;h=l();)zs(e,n,i,h,o);zs(e,n,i,a,o)}else u&16?KF(n,e,r,t,i,o):zs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Uh(n,e,t,r,i,o){Nv(t,r,n.firstChild,e,i,o,!1)}function KF(n,e,t,r,i,o){let s=t[In],u=s[En].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];zs(e,n,i,h,o)}else{let l=u,h=s[It];ED(r)&&(l.flags|=128),Nv(n,e,l,h,i,o,!0)}}function QF(n,e,t,r,i){let o=t[di],s=wn(t);o!==s&&zs(e,n,r,o,i);for(let a=Kt;a<t.length;a++){let u=t[a];Uh(u[de],u,n,e,r,o)}}function YF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zn.Important),n.setStyle(t,r,i,o))}}function Qc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),Nn(o)&&YD(o,r);let s=t.type;if(s&8)Qc(n,e,t.child,r);else if(s&32){let a=Av(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=QD(e,t);if(Array.isArray(a))r.push(...a);else{let u=ci(e[In]);Qc(u[de],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YD(n,e){for(let t=Kt;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Qc(r[de],r,i,e)}n[di]!==n[Pn]&&e.push(n[di])}function JD(n){if(n[wo]!==null){for(let e of n[wo])e.impl.addSequence(e);n[wo].length=0}}var ZD=[];function JF(n){return n[an]??ZF(n)}function ZF(n){let e=ZD.pop()??Object.create(eL);return e.lView=n,e}function XF(n){n.lView[an]!==n&&(n.lView=null,ZD.push(n))}var eL=ae(V({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Hs(n.lView)},consumerOnSignalRead(){this.lView[an]=this}});function tL(n){let e=n[an]??Object.create(nL);return e.lView=n,e}var nL=ae(V({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ci(n.lView);for(;e&&!XD(e[de]);)e=ci(e);e&&wy(e)},consumerOnSignalRead(){this.lView[an]=this}});function XD(n){return n.type!==2}function eS(n){if(n[Vc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Vc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var rL=100;function Ov(n,e=0){let r=n[Wn].rendererFactory,i=!1;i||r.begin?.();try{iL(n,e)}finally{i||r.end?.()}}function iL(n,e){let t=Ay();try{My(!0),ov(n,e);let r=0;for(;$c(n);){if(r===rL)throw new $(103,!1);r++,ov(n,1)}}finally{My(t)}}function tS(n,e){Sy(e?Hc.Exhaustive:Hc.OnlyDirtyViews);try{Ov(n)}finally{Sy(Hc.Off)}}function oL(n,e,t,r){if(Co(e))return;let i=e[re],o=!1,s=!1;ih(e);let a=!0,u=null,l=null;o||(XD(n)?(l=JF(e),u=oo(l)):cd()===null?(a=!1,l=tL(e),u=oo(l)):e[an]&&(ld(e[an]),e[an]=null));try{Iy(e),dT(n.bindingStartIndex),t!==null&&HD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&ph(e,y,null)}else{let y=n.preOrderHooks;y!==null&&gh(e,y,0,null),Uy(e,0)}if(s||sL(e),eS(e),nS(e,0),n.contentQueries!==null&&MD(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&ph(e,y)}else{let y=n.contentHooks;y!==null&&gh(e,y,1),Uy(e,1)}cL(n,e);let p=n.components;p!==null&&iS(e,p,0);let g=n.viewQuery;if(g!==null&&nv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&ph(e,y)}else{let y=n.viewHooks;y!==null&&gh(e,y,2),Uy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Zd]){for(let y of e[Zd])y();e[Zd]=null}o||(JD(e),e[re]&=-73)}catch(h){throw o||Hs(e),h}finally{l!==null&&(Is(l,u),a&&XF(l)),oh()}}function nS(n,e){for(let t=wD(n);t!==null;t=CD(t))for(let r=Kt;r<t.length;r++){let i=t[r];rS(i,e)}}function sL(n){for(let e=wD(n);e!==null;e=CD(e)){if(!(e[re]&2))continue;let t=e[Uc];for(let r=0;r<t.length;r++){let i=t[r];wy(i)}}}function aL(n,e,t){Ae(18);let r=Cn(e,n);rS(r,t),Ae(19,r[At])}function rS(n,e){th(n)&&ov(n,e)}function ov(n,e){let r=n[de],i=n[re],o=n[an],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cc(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)oL(r,n,r.template,n[At]);else if(i&8192){let a=ue(null);try{eS(n),nS(n,1);let u=r.components;u!==null&&iS(n,u,1),JD(n)}finally{ue(a)}}}function iS(n,e,t){for(let r=0;r<e.length;r++)aL(n,e[r],t)}function cL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)fi(~i);else{let o=i,s=t[++r],a=t[++r];pT(s,o);let u=e[o];Ae(24,u),a(2,u),Ae(25,u)}}}finally{fi(-1)}}function xv(n,e){let t=Ay()?64:1088;for(n[Wn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=ci(n);if($s(n)&&!r)return n;n=r}return null}function oS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function uL(n,e,t,r=!0){let i=e[de];if(lL(i,e,n,t),r){let s=iv(t,n),a=e[Je],u=a.parentNode(n[di]);u!==null&&jF(i,n[En],a,e,u,s)}let o=e[Fc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sv(n,e){if(n.length<=Kt)return;let t=Kt+e,r=n[t];if(r){let i=r[_o];i!==null&&i!==n&&Rv(i,r),e>0&&(n[t-1][_n]=r[_n]);let o=Oc(n,Kt+e);VF(r[de],r);let s=o[Io];s!==null&&s.detachView(o[de]),r[It]=null,r[_n]=null,r[re]&=-129}return r}function lL(n,e,t,r){let i=Kt+r,o=t.length;r>0&&(t[i-1][_n]=e),r<o-Kt?(e[_n]=t[i],cy(t,Kt+r,e)):(t.push(e),e[_n]=null),e[It]=t;let s=e[_o];s!==null&&t!==s&&sS(s,e);let a=e[Io];a!==null&&a.insertView(n),nh(e),e[re]|=128}function sS(n,e){let t=n[Uc],r=e[It];if(Kn(r))n[re]|=2;else{let i=r[It][In];e[In]!==i&&(n[re]|=2)}t===null?n[Uc]=[e]:t.push(e)}var gi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[de];return Qc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return Co(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(Nn(e)){let t=e[jc],r=t?t.indexOf(this):-1;r>-1&&(sv(e,r),Oc(t,r))}this._attachedToViewContainer=!1}KD(this._lView[de],this._lView)}onDestroy(e){Cy(this._lView,e)}markForCheck(){xv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){nh(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Ov(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[yo].get(FF,kT)}catch{this.exhaustive=kT}}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$s(this._lView),t=this._lView[_o];t!==null&&!e&&Rv(t,this._lView),WD(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=$s(this._lView),r=this._lView[_o];r!==null&&!t&&sS(r,this._lView),nh(this._lView)}};var tu=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=dL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=kF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new gi(o)}}return n})();function dL(){return hL(Mt(),we())}function hL(n,e){return n.type&4?new tu(e,n,xh(n,e)):null}function kv(n,e,t,r,i){let o=n.data[e];if(o===null)o=fL(n,e,t,r,i),fT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=uT();o.injectorIndex=s===null?-1:s.injectorIndex}return qs(o,!0),o}function fL(n,e,t,r,i){let o=Ty(),s=Dy(),a=s?o:o&&o.parent,u=n.data[e]=gL(n,a,t,e,r,i);return pL(n,u,o,s),u}function pL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function gL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var eY=new RegExp(`^(\\d+)*(${W1}|${G1})*(.*)`);var mL=()=>null;function LT(n,e){return mL(n,e)}var aS=class{},Bh=class{},av=class{resolveComponentFactory(e){throw new $(917,!1)}},nu=class{static NULL=new av},Ao=class{},Xn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>yL()}return n})();function yL(){let n=we(),e=Mt(),t=Cn(e.index,n);return(Kn(t)?t:n)[Je]}var cS=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var mh={},cv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,mh,r);return i!==mh||t===mh?i:this.parentInjector.get(e,t,r)}};function VT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Jm(i,a);else if(o==2){let u=a,l=e[++s];r=Jm(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function K(n,e=0){let t=we();if(t===null)return G(n,e);let r=Mt();return yD(r,t,Et(n),e)}function Fv(){let n="invalid";throw new Error(n)}function uS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}EL(n,e,t,a,o,u,l)}o!==null&&r!==null&&vL(t,r,o)}function vL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function _L(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function EL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&Qn(y)&&(u=!0,_L(n,t,g)),Zy(Ih(t,e),n,y.type)}DL(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=BD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=Kc(t.mergedAttrs,y.hostAttrs),wL(n,t,e,p,y),TL(p,y,i),s!==null&&s.has(y)){let[O,P]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}IL(n,t,o)}function IL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))jT(0,e,i,r),jT(1,e,i,r),BT(e,r,!1);else{let o=t.get(i);UT(0,e,o,r),UT(1,e,o,r),BT(e,r,!0)}}}function jT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),lS(e,o)}}function UT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),lS(e,s)}}function lS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function BT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Iv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function wL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ai(i.type,!0)),s=new So(o,Qn(i),K);n.blueprint[r]=s,t[r]=s,CL(n,e,r,BD(n,t,i.hostVars,Fr),i)}function CL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;bL(s)!=a&&s.push(a),s.push(t,r,o)}}function bL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function TL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qn(e)&&(t[""]=n)}}function DL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dS(n,e,t,r,i,o,s,a){let u=e.consts,l=Bc(u,s),h=kv(e,n,2,r,l);return o&&uS(e,t,h,Bc(u,a),i),h.mergedAttrs=Kc(h.mergedAttrs,h.attrs),h.attrs!==null&&VT(h,h.attrs,!1),h.mergedAttrs!==null&&VT(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function hS(n,e){cD(n,e),vy(e)&&n.queries.elementEnd(e)}function Lv(n){return pS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function fS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function pS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function gS(n,e,t){return n[e]=t}function mi(n,e,t){if(t===Fr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function SL(n,e,t,r){let i=mi(n,e,t);return mi(n,e+1,r)||i}function Hy(n,e,t){return function r(i){let o=hi(n)?Cn(n.index,e):e;xv(o,5);let s=e[At],a=$T(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=$T(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function $T(n,e,t,r){let i=ue(null);try{return Ae(6,e,t),t(r)!==!1}catch(o){return PF(n,o),!1}finally{Ae(7,e,t),ue(i)}}function AL(n,e,t,r,i,o,s,a){let u=Xd(n),l=!1,h=null;if(!r&&u&&(h=ML(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=On(n,t),g=r?r(p):p;Q1(t,g,o,a);let y=i.listen(g,o,a),T=r?O=>r(wn(O[n.index])):n.index;mS(T,e,t,o,a,y,!1)}return l}function ML(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Us],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function mS(n,e,t,r,i,o,s){let a=e.firstCreatePass?nT(e):null,u=tT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function HT(n,e,t,r,i,o){let s=e[t],a=e[de],l=a.data[t].outputs[r],p=s[l].subscribe(o);mS(n.index,a,e,i,o,p,!0)}var uv=Symbol("BINDING");var Th=class extends nu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Pr(e);return new Mo(t,this.ngModule)}};function RL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&jh.SignalBased)!==0};return i&&(o.transform=i),o})}function PL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function NL(n,e,t){let r=e instanceof Ue?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new cv(t,r):t}function OL(n){let e=n.get(Ao,null);if(e===null)throw new $(407,!1);let t=n.get(cS,null),r=n.get(Mr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function xL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return LD(e,t,t==="svg"?Qb:t==="math"?Yb:null)}var Mo=class extends Bh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=RL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=uF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ae(22);let a=ue(null);try{let u=this.componentDef,l=kL(r,u,s,o),h=NL(u,i||this.ngModule,e),p=OL(h),g=p.rendererFactory.createRenderer(null,u),y=r?_F(g,r,u.encapsulation,h):xL(u,g),T=s?.some(qT)||o?.some(j=>typeof j!="function"&&j.bindings.some(qT)),O=Cv(null,l,null,512|UD(u),null,null,p,g,h,null,AD(y,h,!0));O[cn]=y,ih(O);let P=null;try{let j=dS(cn,l,O,"#host",()=>l.directiveRegistry,!0,0);y&&(jD(g,y,j),Xc(y,O)),Tv(l,O,j),RD(l,j,O),hS(l,j),t!==void 0&&LL(j,this.ngContentSelectors,t),P=Cn(j.index,O),O[At]=P[At],Sv(l,O,null)}catch(j){throw P!==null&&ev(P),ev(O),j}finally{Ae(23),oh()}return new Dh(this.componentType,O,!!T)}finally{ue(a)}}};function kL(n,e,t,r){let i=n?["ng-version","20.0.6"]:lF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[uv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[uv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=hy(p);u.push(g)}return wv(0,null,FL(o,s),1,a,u,null,null,null,[i],null)}function FL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function qT(n){let e=n[uv].kind;return e==="input"||e==="twoWay"}var Dh=class extends aS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=eh(t[de],cn),this.location=xh(this._tNode,t),this.instance=Cn(this._tNode.index,t)[At],this.hostView=this.changeDetectorRef=new gi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Dv(r,i[de],i,e,t);this.previousInputValues.set(e,t);let s=Cn(r.index,i);xv(s,1)}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var No=(()=>{class n{static __NG_ELEMENT_ID__=VL}return n})();function VL(){let n=Mt();return UL(n,we())}var jL=No,yS=class extends jL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xh(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){let e=mv(this._hostTNode,this._hostLView);if(dD(e)){let t=_h(e,this._hostLView),r=vh(e),i=t[de].data[r+8];return new Do(i,t)}else return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=LT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,xT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!I1(e),l;if(u)l=t;else{let P=t||{};l=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let h=u?e:new Mo(Pr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(Ue,null);j&&(o=j)}let g=Pr(h.componentType??{}),y=LT(this._lContainer,g?.id??null),T=y?.firstChild??null,O=h.create(p,i,T,o,s,a);return this.insertImpl(O.hostView,l,xT(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Zb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new yS(u,u[En],u[It]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return uL(s,i,o,r),e.attachToViewContainerRef(),cy(qy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);r&&(Oc(qy(this._lContainer),t),KD(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);return r&&Oc(qy(this._lContainer),t)!=null?new gi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function zT(n){return n[jc]}function qy(n){return n[jc]||(n[jc]=[])}function UL(n,e){let t,r=e[n.index];return Nn(r)?t=r:(t=oS(r,e,null,n),e[n.index]=t,bv(e,t)),$L(t,e,n,r),new yS(t,n,e)}function BL(n,e){let t=n[Je],r=t.createComment(""),i=On(e,n),o=t.parentNode(i);return bh(t,o,r,t.nextSibling(i),!1),r}var $L=zL,HL=()=>!1;function qL(n,e,t){return HL(n,e,t)}function zL(n,e,t,r){if(n[di])return;let i;t.type&8?i=wn(r):i=BL(e,t),n[di]=i}var GT=new Set;function Qs(n){GT.has(n)||(GT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ro=class{},$h=class{};var Sh=class extends Ro{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Th(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=dy(e);this._bootstrapComponents=kD(o.bootstrap),this._r3Injector=xy(e,t,[{provide:Ro,useValue:this},{provide:nu,useValue:this.componentFactoryResolver},...r],Wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ah=class extends $h{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sh(this.moduleType,e,[])}};var Yc=class extends Ro{injector;componentFactoryResolver=new Th(this);instance=null;constructor(e){super();let t=new go([...e.providers,{provide:Ro,useValue:this},{provide:nu,useValue:this.componentFactoryResolver}],e.parent||kc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ys(n,e,t=null){return new Yc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var GL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fy(!1,t.type),i=r.length>0?Ys([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(G(Ue))})}return n})();function Me(n){return Ks(()=>{let e=vS(n),t=ae(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(GL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qs("NgStandalone"),_S(t);let r=n.dependencies;return t.directiveDefs=WT(r,!1),t.pipeDefs=WT(r,!0),t.id=JL(t),t})}function WL(n){return Pr(n)||hy(n)}function KL(n){return n!==null}function Fn(n){return Ks(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function QL(n,e){if(n==null)return ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=jh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function YL(n){if(n==null)return ui;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ne(n){return Ks(()=>{let e=vS(n);return _S(e),e})}function ru(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function vS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ui,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:QL(n.inputs,e),outputs:YL(n.outputs),debugInfo:null}}function _S(n){n.features?.forEach(e=>e(n))}function WT(n,e){if(!n)return null;let t=e?$b:WL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(KL)}function JL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZL(n){return Object.getPrototypeOf(n.prototype).constructor}function Rt(n){let e=ZL(n.type),t=!0,r=[n];for(;e;){let i;if(Qn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zy(n.inputs),s.declaredInputs=zy(n.declaredInputs),s.outputs=zy(n.outputs);let a=i.hostBindings;a&&rV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&tV(n,u),l&&nV(n,l),XL(n,i),Fb(n.outputs,i.outputs),Qn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Rt&&(t=!1)}}e=Object.getPrototypeOf(e)}eV(r)}function XL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function eV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kc(i.hostAttrs,t=Kc(t,i.hostAttrs))}}function zy(n){return n===ui?{}:n===on?[]:n}function tV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function nV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function rV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function iV(n,e,t,r,i,o,s,a,u){let l=e.consts,h=kv(e,n,4,s||null,a||null);by()&&uS(e,t,h,Bc(l,u),GD),h.mergedAttrs=Kc(h.mergedAttrs,h.attrs),cD(e,h);let p=h.tView=wv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function oV(n,e,t,r,i,o,s,a,u,l,h){let p=t+cn,g=e.firstCreatePass?iV(p,e,n,r,i,o,s,a,l):e.data[p];u&&(g.flags|=u),qs(g,!1);let y=sV(e,n,g,t);ah()&&Pv(e,n,y,g),Xc(y,n);let T=oS(y,n,y,g);return n[p]=T,bv(n,T),qL(T,g,n),Xd(g)&&Tv(e,n,g),l!=null&&qD(n,g,h),g}function ye(n,e,t,r,i,o,s,a){let u=we(),l=Ut(),h=Bc(l.consts,o);return oV(u,l,n,e,t,r,i,h,void 0,s,a),ye}var sV=aV;function aV(n,e,t,r){return ch(!0),e[Je].createComment("")}var Hh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Hh||{}),Oo=new H(""),ES=!1,lv=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Wb()&&(this.destroyRef=x(Nr,{optional:!0})??void 0,this.pendingTasks=x(Or,{optional:!0})??void 0)}emit(e){let t=ue(null);try{super.next(e)}finally{ue(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ze=lv;function IS(n){let e,t;function r(){n=zc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function KT(n){return queueMicrotask(()=>n()),()=>{n=zc}}var Vv="isAngularZone",Mh=Vv+"_ID",cV=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ES}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,dV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uV,zc,zc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},uV={};function jv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function lV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){IS(()=>{n.callbackScheduled=!1,dv(n),n.isCheckStableRunning=!0,jv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),dv(n)}function dV(n){let e=()=>{lV(n)},t=cV++;n._inner=n._inner.fork({name:"angular",properties:{[Vv]:!0,[Mh]:t,[Mh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(hV(u))return r.invokeTask(o,s,a,u);try{return QT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),YT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return QT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!fV(u)&&e(),YT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,dv(n),jv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function dv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function QT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YT(n){n._nesting--,jv(n)}var Rh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function hV(n){return wS(n,"__ignore_ng_zone__")}function fV(n){return wS(n,"__scheduler_tick__")}function wS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Uv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),CS=[0,1,2,3],bS=(()=>{class n{ngZone=x(Ce);scheduler=x(Mr);errorHandler=x(Rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Oo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ae(16),this.executing=!0;for(let r of CS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ae(17)}register(t){let{view:r}=t;r!==void 0?((r[wo]??=[]).push(t),Hs(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Hh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ph=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wo];e&&(this.view[wo]=e.filter(t=>t!==this))}};function Bv(n,e){let t=e?.injector??x(He);return Qs("NgAfterNextRender"),gV(n,t,e,!0)}function pV(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function gV(n,e,t,r){let i=e.get(Uv);i.impl??=e.get(bS);let o=e.get(Oo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Nr):null,a=e.get(lh,null,{optional:!0}),u=new Ph(i.impl,pV(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var $v=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Hv=new H("");function _i(n){return!!n&&typeof n.then=="function"}function qv(n){return!!n&&typeof n.subscribe=="function"}var zv=new H("");function qh(n){return sn([{provide:zv,multi:!0,useValue:n}])}var Gv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(zv,{optional:!0})??[];injector=x(He);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=it(this.injector,i);if(_i(o))t.push(o);else if(qv(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iu=new H("");function TS(){Im(()=>{let n="";throw new $(600,n)})}function DS(n){return n.isBoundToModule}var mV=10;var xo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Jt);afterRenderManager=x(Uv);zonelessEnabled=x(uh);rootEffectScheduler=x(jy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){x(Oo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=He.NULL){return this._injector.get(Ce).run(()=>{Ae(10);let s=t instanceof Bh;if(!this._injector.get(Gv).done){let T="";throw new $(405,T)}let u;s?u=t:u=this._injector.get(nu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=DS(u)?void 0:this._injector.get(Ro),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Hv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Wc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Ae(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=ue(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(t),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ao,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<mV;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$c(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ov(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$c(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Wc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(iu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ei(n,e,t,r){let i=we(),o=qc();if(mi(i,o,e)){let s=Ut(),a=sh();AF(a,i,n,e,t,r)}return Ei}function Y(n,e,t){let r=we(),i=qc();if(mi(r,i,e)){let o=Ut(),s=sh();zD(s,r,n,e,r[Je],t)}return Y}function JT(n,e,t,r,i){Dv(e,n,t,i?"class":"style",r)}function b(n,e,t,r){let i=we(),o=Ut(),s=cn+n,a=i[Je],u=o.firstCreatePass?dS(s,o,i,e,GD,by(),t,r):o.data[s],l=yV(o,i,u,a,e,n);i[s]=l;let h=Xd(u);return qs(u,!0),jD(a,l,u),!Mv(u)&&ah()&&Pv(o,i,l,u),(rT()===0||h)&&Xc(l,i),iT(),h&&(Tv(o,i,u),RD(o,u,i)),r!==null&&qD(i,u),b}function w(){let n=Mt();Dy()?lT():(n=n.parent,qs(n,!1));let e=n;aT(e)&&cT(),oT();let t=Ut();return t.firstCreatePass&&hS(t,e),e.classesWithoutHost!=null&&S1(e)&&JT(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&A1(e)&&JT(t,e,we(),e.stylesWithoutHost,!1),w}function Bt(n,e,t,r){return b(n,e,t,r),w(),Bt}var yV=(n,e,t,r,i,o)=>(ch(!0),LD(r,i,IT()));function Lr(){return we()}var To=void 0;function vV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _V=["en",[["a","p"],["AM","PM"],To],[["AM","PM"],To,To],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],To,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],To,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",To,"{1} 'at' {0}",To],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vV],Gy={};function zh(n){let e=EV(n),t=ZT(e);if(t)return t;let r=e.split("-")[0];if(t=ZT(r),t)return t;if(r==="en")return _V;throw new $(701,!1)}function ZT(n){return n in Gy||(Gy[n]=Rr.ng&&Rr.ng.common&&Rr.ng.common.locales&&Rr.ng.common.locales[n]),Gy[n]}var ko=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ko||{});function EV(n){return n.toLowerCase().replace(/_/g,"-")}var ou="en-US";var IV=ou;function SS(n){typeof n=="string"&&(IV=n.toLowerCase().replace(/_/g,"-"))}function Re(n,e,t){let r=we(),i=Ut(),o=Mt();return AS(i,r,r[Je],o,n,e,t),Re}function AS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Hy(r,e,o),AL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Hy(r,e,o),HT(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Hy(r,e,o),HT(r,e,p,i,i,u)}}function be(n=1){return ET(n)}function fh(n,e){return n<<17|e<<2}function Po(n){return n>>17&32767}function wV(n){return(n&2)==2}function CV(n,e){return n&131071|e<<17}function hv(n){return n|2}function Ws(n){return(n&131068)>>2}function Wy(n,e){return n&-131069|e<<2}function bV(n){return(n&1)===1}function fv(n){return n|1}function TV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Po(s),u=Ws(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||js(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Po(n[a+1]);n[r+1]=fh(g,a),g!==0&&(n[g+1]=Wy(n[g+1],r)),n[a+1]=CV(n[a+1],r)}else n[r+1]=fh(a,0),a!==0&&(n[a+1]=Wy(n[a+1],r)),a=r;else n[r+1]=fh(u,0),a===0?a=r:n[u+1]=Wy(n[u+1],r),u=r;l&&(n[r+1]=hv(n[r+1])),XT(n,h,r,!0),XT(n,h,r,!1),DV(e,h,n,r,o),s=fh(a,u),o?e.classBindings=s:e.styleBindings=s}function DV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&js(o,e)>=0&&(t[r+1]=fv(t[r+1]))}function XT(n,e,t,r){let i=n[t+1],o=e===null,s=r?Po(i):Ws(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];SV(u,e)&&(a=!0,n[s+1]=r?fv(l):hv(l)),s=r?Po(l):Ws(l)}a&&(n[t+1]=r?hv(i):fv(i))}function SV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?js(n,e)>=0:!1}function $t(n,e){return AV(n,e,null,!0),$t}function AV(n,e,t,r){let i=we(),o=Ut(),s=hT(2);if(o.firstUpdatePass&&RV(o,n,s,r),e!==Fr&&mi(i,s,e)){let a=o.data[bo()];kV(o,a,i,i[Je],n,i[s+1]=FV(e,t),r,s)}}function MV(n,e){return e>=n.expandoStartIndex}function RV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[bo()],s=MV(n,t);LV(o,r)&&e===null&&!s&&(e=!1),e=PV(i,o,e,r),TV(i,o,e,t,s,r)}}function PV(n,e,t,r){let i=mT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ky(null,n,e,t,r),t=Jc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ky(i,n,e,t,r),o===null){let u=NV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ky(null,n,e,u[1],r),u=Jc(u,e.attrs,r),OV(n,e,r,u))}else o=xV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function NV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ws(r)!==0)return n[Po(r)]}function OV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Po(i)]=r}function xV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Jc(r,s,t)}return Jc(r,e.attrs,t)}function Ky(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Jc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Jc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Bb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function kV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=bV(l)?eD(u,e,t,i,Ws(l),s):void 0;if(!Nh(h)){Nh(o)||wV(l)&&(o=eD(u,null,t,i,a,s));let p=_y(bo(),t);YF(r,s,p,i,o)}}function eD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Fr&&(g=p?on:void 0);let y=p?Jd(g,r):h===r?g:void 0;if(l&&!Nh(y)&&(y=Jd(u,r)),Nh(y)&&(a=y,s))return a;let T=n[i+1];i=s?Po(T):Ws(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Jd(u,r))}return a}function Nh(n){return n!==void 0}function FV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wt(eu(n)))),n}function LV(n,e){return(n.flags&(e?8:16))!==0}function R(n,e=""){let t=we(),r=Ut(),i=n+cn,o=r.firstCreatePass?kv(r,i,1,e,null):r.data[i],s=VV(r,t,o,e,n);t[i]=s,ah()&&Pv(r,t,s,o),qs(o,!1)}var VV=(n,e,t,r,i)=>(ch(!0),dF(e[Je],r));function MS(n,e,t,r=""){return mi(n,qc(),t)?e+Nc(t)+r:Fr}function Oe(n){return Ze("",n),Oe}function Ze(n,e,t){let r=we(),i=MS(r,n,e,t);return i!==Fr&&jV(r,bo(),i),Ze}function jV(n,e,t){let r=_y(e,n);hF(n[Je],r,t)}function Ge(n,e,t){Fy(e)&&(e=e());let r=we(),i=qc();if(mi(r,i,e)){let o=Ut(),s=sh();zD(s,r,n,e,r[Je],t)}return Ge}function Xe(n,e){let t=Fy(n);return t&&n.set(e),t}function We(n,e){let t=we(),r=Ut(),i=Mt();return AS(r,t,t[Je],i,n,e),We}function Wv(n,e,t=""){return MS(we(),n,e,t)}function UV(n,e,t){let r=Ut();if(r.firstCreatePass){let i=Qn(n);pv(t,r.data,r.blueprint,i,!0),pv(e,r.data,r.blueprint,i,!1)}}function pv(n,e,t,r,i){if(n=Et(n),Array.isArray(n))for(let o=0;o<n.length;o++)pv(n[o],e,t,r,i);else{let o=Ut(),s=we(),a=Mt(),u=po(n)?n:Et(n.provide),l=gy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(po(n)||!n.multi){let y=new So(l,i,K),T=Yy(u,e,i?h:h+g,p);T===-1?(Zy(Ih(a,s),o,u),Qy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=Yy(u,e,h+g,p),T=Yy(u,e,h,h+g),O=y>=0&&t[y],P=T>=0&&t[T];if(i&&!P||!i&&!O){Zy(Ih(a,s),o,u);let j=HV(i?$V:BV,t.length,i,r,l);!i&&P&&(t[T].providerFactory=j),Qy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=RS(t[i?T:y],l,!i&&r);Qy(o,n,y>-1?y:T,j)}!i&&r&&P&&t[T].componentProviders++}}}function Qy(n,e,t,r){let i=po(e),o=Gb(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function RS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Yy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function BV(n,e,t,r){return gv(this.multi,[])}function $V(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wh(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),gv(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],gv(i,o);return o}function gv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function HV(n,e,t,r,i){let o=new So(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,RS(o,i,r&&!t),o}function Xt(n,e=[]){return t=>{t.providersResolver=(r,i)=>UV(r,i?i(n):n,e)}}function Kv(n,e,t,r){return qV(we(),Ry(),n,e,t,r)}function PS(n,e){let t=n[e];return t===Fr?void 0:t}function qV(n,e,t,r,i,o){let s=e+t;return mi(n,s,i)?gS(n,s+1,o?r.call(o,i):r(i)):PS(n,s+1)}function zV(n,e,t,r,i,o,s){let a=e+t;return SL(n,a,i,o)?gS(n,a+2,s?r.call(s,i,o):r(i,o)):PS(n,a+2)}function er(n,e){let t=Ut(),r,i=n+cn;t.firstCreatePass?(r=GV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ai(r.type,!0)),s,a=Vt(K);try{let u=Eh(!1),l=o();return Eh(u),Ey(t,we(),i,l),l}finally{Vt(a)}}function GV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function tr(n,e,t,r){let i=n+cn,o=we(),s=Jb(o,i);return WV(o,i)?zV(o,Ry(),e,s.transform,t,r,s):s.transform(t,r)}function WV(n,e){return n[de].data[e].pure}var Oh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Qv=(()=>{class n{compileModuleSync(t){return new Ah(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=dy(t),o=kD(i.declarations).reduce((s,a)=>{let u=Pr(a);return u&&s.push(new Mo(u)),s},[]);return new Oh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KV=(()=>{class n{zone=x(Ce);changeDetectionScheduler=x(Mr);applicationRef=x(xo);applicationErrorHandler=x(Jt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(ae(V({},OS()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:li,multi:!0,useFactory:()=>{let r=x(KV,{optional:!0});return()=>r.initialize()}},{provide:li,multi:!0,useFactory:()=>{let r=x(QV);return()=>{r.initialize()}}},e===!0?{provide:Ly,useValue:!0}:[],{provide:Vy,useValue:t??ES},{provide:Jt,useFactory:()=>{let r=x(Ce),i=x(Ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Rn),o.handleError(s))})}}}]}function OS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var QV=(()=>{class n{subscription=new $e;initialized=!1;zone=x(Ce);pendingTasks=x(Or);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xS=(()=>{class n{applicationErrorHandler=x(Jt);appRef=x(xo);taskService=x(Or);ngZone=x(Ce);zonelessEnabled=x(uh);tracing=x(Oo,{optional:!0});disableScheduling=x(Ly,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Vy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?KT:IS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YV(){return typeof $localize<"u"&&$localize.locale||ou}var su=new H("",{providedIn:"root",factory:()=>x(su,{optional:!0,skipSelf:!0})||YV()});function bn(n){return Nb(n)}function Js(n,e){return pd(n,e?.equal)}var kS=class{[St];constructor(e){this[St]=e}destroy(){this[St].destroy()}};var US=Symbol("InputSignalNode#UNSET"),d2=ae(V({},gd),{transformFn:void 0,applyValueToInputSignal(n,e){ws(n,e)}});function BS(n,e){let t=Object.create(d2);t.value=n,t.transformFn=e?.transform;function r(){if(Es(t),t.value===US){let i=null;throw new $(-950,i)}return t.value}return r[St]=t,r}var Wh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Zc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},h2=new H("");h2.__NG_ELEMENT_ID__=n=>{let e=Mt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new $(204,!1)};function FS(n,e){return BS(n,e)}function f2(n){return BS(US,n)}var $S=(FS.required=f2,FS);var Fo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},HS=new Fo("20.0.6");var Yv=new H(""),p2=new H("");function au(n){return!n.moduleRef}function g2(n){let e=au(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{au(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Jt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),au(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Yv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Yv);s.add(o),n.moduleRef.onDestroy(()=>{Wc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return y2(r,t,()=>{let o=e.get(Gv);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(su,ou);if(SS(s||ou),!e.get(p2,!0))return au(n)?e.get(xo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(au(n)){let u=e.get(xo);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return m2?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var m2;function y2(n,e,t){try{let r=t();return _i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Gh=null;function v2(n=[],e){return He.create({name:e,providers:[{provide:xc,useValue:"platform"},{provide:Yv,useValue:new Set([()=>Gh=null])},...n]})}function _2(n=[]){if(Gh)return Gh;let e=v2(n);return Gh=e,TS(),E2(e),e}function E2(n){let e=n.get(Fh,null);it(n,()=>{e?.forEach(t=>t())})}function t_(){return!1}var Lo=(()=>{class n{static __NG_ELEMENT_ID__=I2}return n})();function I2(n){return w2(Mt(),we(),(n&16)===16)}function w2(n,e,t){if(hi(n)&&!t){let r=Cn(n.index,e);return new gi(r,r)}else if(n.type&175){let r=e[In];return new gi(r,e)}return null}var Jv=class{constructor(){}supports(e){return Lv(e)}create(e){return new Zv(e)}},C2=(n,e)=>e,Zv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||C2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<LS(r,i,o)?t:r,a=LS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Lv(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Xv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},e_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Kh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new e_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function VS(){return new n_([new Jv])}var n_=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:VS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VS()),deps:[[n,new rD,new Zt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function qS(n){Ae(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_2(r),o=[NS({}),{provide:Mr,useExisting:xS},CT,...t||[]],s=new Yc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return g2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ae(9)}}function Ii(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function zS(n){let e=Pr(n);if(!e)return null;let t=new Mo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var KS=null;function Tn(){return KS}function r_(n){KS??=n}var cu=class{},uu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(QS),providedIn:"platform"})}return n})(),i_=new H(""),QS=(()=>{class n extends uu{_location;_history;_doc=x(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tn().getBaseHref(this._doc)}onPopState(t){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Qh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function GS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ln(n){return n&&n[0]!=="?"?`?${n}`:n}var Vn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(Jh),providedIn:"root"})}return n})(),Yh=new H(""),Jh=(()=>{class n extends Vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(uu),G(Yh,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wi=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D2(GS(WS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ln(r))}normalize(t){return n.stripTrailingSlash(T2(this._basePath,WS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ln;static joinWithSlash=Qh;static stripTrailingSlash=GS;static \u0275fac=function(r){return new(r||n)(G(Vn))};static \u0275prov=B({token:n,factory:()=>b2(),providedIn:"root"})}return n})();function b2(){return new wi(G(Vn))}function T2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function WS(n){return n.replace(/\/index.html$/,"")}function D2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var a_=(()=>{class n extends Vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Qh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(uu),G(Yh,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var c_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(c_||{});var nr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Zs(n,e){let t=zh(n),r=t[ko.NumberSymbols][e];if(typeof r>"u"){if(e===nr.CurrencyDecimal)return t[ko.NumberSymbols][nr.Decimal];if(e===nr.CurrencyGroup)return t[ko.NumberSymbols][nr.Group]}return r}function XS(n,e){return zh(n)[ko.NumberFormats][e]}var S2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,YS=22,Zh=".",lu="0",A2=";",M2=",",o_="#";function R2(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=Zs(t,nr.Infinity);else{let l=O2(n);s&&(l=N2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let Q=o.match(S2);if(Q===null)throw new $(2306,!1);let W=Q[1],me=Q[3],tt=Q[5];W!=null&&(h=s_(W)),me!=null&&(p=s_(me)),tt!=null?g=s_(tt):me!=null&&p>g&&(g=p)}x2(l,p,g);let y=l.digits,T=l.integerLen,O=l.exponent,P=[];for(u=y.every(Q=>!Q);T<h;T++)y.unshift(0);for(;T<0;T++)y.unshift(0);T>0?P=y.splice(T,y.length):(P=y,y=[0]);let j=[];for(y.length>=e.lgSize&&j.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)j.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&j.unshift(y.join("")),a=j.join(Zs(t,r)),P.length&&(a+=Zs(t,i)+P.join("")),O&&(a+=Zs(t,nr.Exponential)+"+"+O)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function eA(n,e,t){let r=XS(e,c_.Decimal),i=P2(r,Zs(e,nr.MinusSign));return R2(n,i,e,nr.Group,nr.Decimal,t)}function P2(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(A2),i=r[0],o=r[1],s=i.indexOf(Zh)!==-1?i.split(Zh):[i.substring(0,i.lastIndexOf(lu)+1),i.substring(i.lastIndexOf(lu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(o_));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===lu?t.minFrac=t.maxFrac=h+1:p===o_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(M2);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(o_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function N2(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function O2(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Zh))>-1&&(e=e.replace(Zh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===lu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===lu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>YS&&(r=r.splice(0,YS-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function x2(n,e,t){if(e>t)throw new $(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,y,T){return g=g+p,T[y]=g<10?g:g-10,u&&(T[y]===0&&y>=l?T.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function s_(n){let e=parseInt(n);if(isNaN(e))throw new $(2305,!1);return e}var Xh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),JS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);JS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(No),K(tu),K(n_))};static \u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function JS(n,e){n.context.$implicit=e.item}var dn=(()=>{class n{_viewContainer;_context=new ef;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(No),K(tu))};static \u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ef=class{$implicit=null;ngIf=null};function ZS(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function k2(n,e){return new $(2100,!1)}var du=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!F2(t))return null;i||=this._locale;try{let o=L2(t);return eA(o,i,r)}catch(o){throw k2(n,o.message)}}static \u0275fac=function(r){return new(r||n)(K(su,16))};static \u0275pipe=ru({name:"number",type:n,pure:!0})}return n})();function F2(n){return!(n==null||n===""||n!==n)}function L2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new $(2309,!1);return n}var Le=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fn({type:n});static \u0275inj=vn({})}return n})();function hu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vo=class{};var tA="browser",V2="server";function nA(n){return n===V2}var rA=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new u_(x(qe),window)})}return n})(),u_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ae(V({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=j2(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Vs(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ae(V({},t),{left:i-s[0],top:o-s[1]}))}};function j2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rf=new H(""),f_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(rf),G(Ce))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),fu=class{_doc;constructor(e){this._doc=e}manager},tf="ng-app-id";function iA(n){for(let e of n)e.remove()}function oA(n,e){let t=e.createElement("style");return t.textContent=n,t}function U2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${tf}="${e}"],link[${tf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(tf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function d_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var p_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=nA(o),U2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,oA);r?.forEach(i=>this.addUsage(i,this.external,d_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(iA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])iA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,oA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,d_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(tf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(qe),G(kh),G(Lh,8),G(yi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),l_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},g_=/%COMP%/g;var aA="%COMP%",B2=`_nghost-${aA}`,$2=`_ngcontent-${aA}`,H2=!0,q2=new H("",{providedIn:"root",factory:()=>H2});function z2(n){return $2.replace(g_,n)}function G2(n){return B2.replace(g_,n)}function cA(n,e){return e.map(t=>t.replace(g_,n))}var m_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new pu(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof nf?i.applyToHost(t):i instanceof gu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case xr.Emulated:o=new nf(u,l,r,this.appId,h,s,a,p,g);break;case xr.ShadowDom:return new h_(u,l,t,r,s,a,this.nonce,p,g);default:o=new gu(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(f_),G(p_),G(kh),G(q2),G(qe),G(yi),G(Ce),G(Lh),G(Oo,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),pu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(l_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=l_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=l_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zn.DashCase|Zn.Important)?e.style.setProperty(t,r,i&Zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Tn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function sA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var h_=class extends pu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=cA(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=d_(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gu=class extends pu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?cA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},nf=class extends gu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=z2(h),this.hostAttr=G2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var of=class n extends cu{supportsDOMEvents=!0;static makeCurrent(){r_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=W2();return t==null?null:K2(t)}resetBaseElement(){mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hu(document.cookie,e)}},mu=null;function W2(){return mu=mu||document.head.querySelector("base"),mu?mu.getAttribute("href"):null}function K2(n){return new URL(n,document.baseURI).pathname}var Q2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),lA=(()=>{class n extends fu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),uA=["alt","control","meta","shift"],Y2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},dA=(()=>{class n extends fu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Y2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uA.forEach(s=>{if(s!==i){let a=J2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function y_(n,e){return qS(V({rootComponent:n},Z2(e)))}function Z2(n){return{appProviders:[...rj,...n?.providers??[]],platformProviders:nj}}function X2(){of.makeCurrent()}function ej(){return new Rn}function tj(){return vv(document),document}var nj=[{provide:yi,useValue:tA},{provide:Fh,useValue:X2,multi:!0},{provide:qe,useFactory:tj}];var rj=[{provide:xc,useValue:"root"},{provide:Rn,useFactory:ej},{provide:rf,useClass:lA,multi:!0,deps:[qe]},{provide:rf,useClass:dA,multi:!0,deps:[qe]},m_,p_,f_,{provide:Ao,useExisting:m_},{provide:Vo,useClass:Q2},[]];var ea=class{},vu=class{},jo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var af=class{encodeKey(e){return hA(e)}encodeValue(e){return hA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ij(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var oj=/%(\d[a-f0-9])/gi,sj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hA(n){return encodeURIComponent(n).replace(oj,(e,t)=>sj[t]??e)}function sf(n){return`${n}`}var Ci=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new af,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=ij(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(sf):[sf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(sf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(sf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function aj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pA(n){return typeof Blob<"u"&&n instanceof Blob}function gA(n){return typeof FormData<"u"&&n instanceof FormData}function cj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var mA="Content-Type",yA="Accept",vA="X-Request-URL",_A="text/plain",EA="application/json",uj=`${EA}, ${_A}, */*`,yu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(aj(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jo,this.context??=new cf,!this.params)this.params=new Ci,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fA(this.body)||pA(this.body)||gA(this.body)||cj(this.body)?this.body:this.body instanceof Ci?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gA(this.body)?null:pA(this.body)?this.body.type||null:fA(this.body)?null:typeof this.body=="string"?_A:this.body instanceof Ci?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?EA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,T)=>y.set(T,e.setHeaders[T]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,T)=>y.set(T,e.setParams[T]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},Xs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Xs||{}),ta=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new jo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},uf=class n extends ta{constructor(e={}){super(e)}type=Xs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lf=class n extends ta{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Xs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},df=class extends ta{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},lj=200,dj=204;function v_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var hj=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof yu)o=t;else{let u;i.headers instanceof jo?u=i.headers:u=new jo(i.headers);let l;i.params&&(i.params instanceof Ci?l=i.params:l=new Ci({fromObject:i.params})),o=new yu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=Z(o).pipe(Gn(u=>this.handler.handle(u)));if(t instanceof yu||i.observe==="events")return s;let a=s.pipe(ht(u=>u instanceof lf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return a.pipe(te(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return a.pipe(te(u=>u.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ci().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,v_(i,r))}post(t,r,i={}){return this.request("POST",t,v_(i,r))}put(t,r,i={}){return this.request("PUT",t,v_(i,r))}static \u0275fac=function(r){return new(r||n)(G(ea))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var fj=new H("");function pj(n,e){return e(n)}function gj(n,e,t){return(r,i)=>it(t,()=>e(r,o=>n(o,i)))}var IA=new H(""),mj=new H(""),wA=new H("",{providedIn:"root",factory:()=>!0});var hf=(()=>{class n extends ea{backend;injector;chain=null;pendingTasks=x(pi);contributeToStability=x(wA);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(IA),...this.injector.get(mj,[])]));this.chain=r.reduceRight((i,o)=>gj(i,o,this.injector),pj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(lo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(vu),G(Ue))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var yj=/^\)\]\}',?\n/,vj=RegExp(`^${vA}:`,"m");function _j(n){return"responseURL"in n&&n.responseURL?n.responseURL:vj.test(n.getAllResponseHeaders())?n.getResponseHeader(vA):null}var __=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);t.keepalive;let r=this.xhrFactory;return Z(null).pipe(Lt(()=>new ne(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((O,P)=>s.setRequestHeader(O,P.join(","))),t.headers.has(yA)||s.setRequestHeader(yA,uj),!t.headers.has(mA)){let O=t.detectContentTypeHeader();O!==null&&s.setRequestHeader(mA,O)}if(t.responseType){let O=t.responseType.toLowerCase();s.responseType=O!=="json"?O:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let O=s.statusText||"OK",P=new jo(s.getAllResponseHeaders()),j=_j(s)||t.url;return u=new uf({headers:P,status:s.status,statusText:O,url:j}),u},h=()=>{let{headers:O,status:P,statusText:j,url:Q}=l(),W=null;P!==dj&&(W=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=W?lj:0);let me=P>=200&&P<300;if(t.responseType==="json"&&typeof W=="string"){let tt=W;W=W.replace(yj,"");try{W=W!==""?JSON.parse(W):null}catch(Ie){W=tt,me&&(me=!1,W={error:Ie,text:W})}}me?(o.next(new lf({body:W,headers:O,status:P,statusText:j,url:Q||void 0})),o.complete()):o.error(new df({error:W,headers:O,status:P,statusText:j,url:Q||void 0}))},p=O=>{let{url:P}=l(),j=new df({error:O,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(j)},g=!1,y=O=>{g||(o.next(l()),g=!0);let P={type:Xs.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(P.total=O.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},T=O=>{let P={type:Xs.UploadProgress,loaded:O.loaded};O.lengthComputable&&(P.total=O.total),o.next(P)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:Xs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(Vo))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),CA=new H(""),Ej="XSRF-TOKEN",Ij=new H("",{providedIn:"root",factory:()=>Ej}),wj="X-XSRF-TOKEN",Cj=new H("",{providedIn:"root",factory:()=>wj}),_u=class{},bj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(G(qe),G(Ij))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function Tj(n,e){let t=n.url.toLowerCase();if(!x(CA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(_u).getToken(),i=x(Cj);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function E_(...n){let e=[hj,__,hf,{provide:ea,useExisting:hf},{provide:vu,useFactory:()=>x(fj,{optional:!0})??x(__)},{provide:IA,useValue:Tj,multi:!0},{provide:CA,useValue:!0},{provide:_u,useClass:bj}];for(let t of n)e.push(...t.\u0275providers);return sn(e)}var bA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce="primary",Nu=Symbol("RouteTitle"),T_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function $o(n){return new T_(n)}function NA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Sj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ir(n[t],e[t]))return!1;return!0}function ir(n,e){let t=n?D_(n):void 0,r=e?D_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!OA(n[i],e[i]))return!1;return!0}function D_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function OA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function xA(n){return n.length>0?n[n.length-1]:null}function Vr(n){return Fm(n)?n:_i(n)?ke(Promise.resolve(n)):Z(n)}var Aj={exact:FA,subset:LA},kA={exact:Mj,subset:Rj,ignored:()=>!0};function TA(n,e,t){return Aj[t.paths](n.root,e.root,t.matrixParams)&&kA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Mj(n,e){return ir(n,e)}function FA(n,e,t){if(!Uo(n.segments,e.segments)||!gf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!FA(n.children[r],e.children[r],t))return!1;return!0}function Rj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OA(n[t],e[t]))}function LA(n,e,t){return VA(n,e,e.segments,t)}function VA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Uo(i,t)||e.hasChildren()||!gf(i,t,r))}else if(n.segments.length===t.length){if(!Uo(n.segments,t)||!gf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Uo(n.segments,i)||!gf(n.segments,i,r)||!n.children[ce]?!1:VA(n.children[ce],e,o,r)}}function gf(n,e,t){return e.every((r,i)=>kA[t](n[i].parameters,r.parameters))}var sr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return Oj.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mf(this)}},bi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return UA(this)}};function Pj(n,e){return Uo(n,e)&&n.every((t,r)=>ir(t.parameters,e[r].parameters))}function Uo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Nj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var Ho=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Ti,providedIn:"root"})}return n})(),Ti=class{parse(e){let t=new A_(e);return new sr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Eu(e.root,!0)}`,r=Fj(e.queryParams),i=typeof e.fragment=="string"?`#${xj(e.fragment)}`:"";return`${t}${r}${i}`}},Oj=new Ti;function mf(n){return n.segments.map(e=>UA(e)).join("/")}function Eu(n,e){if(!n.hasChildren())return mf(n);if(e){let t=n.children[ce]?Eu(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Eu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Nj(n,(r,i)=>i===ce?[Eu(n.children[ce],!1)]:[`${i}:${Eu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${mf(n)}/${t[0]}`:`${mf(n)}/(${t.join("//")})`}}function jA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ff(n){return jA(n).replace(/%3B/gi,";")}function xj(n){return encodeURI(n)}function S_(n){return jA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yf(n){return decodeURIComponent(n)}function DA(n){return yf(n.replace(/\+/g,"%20"))}function UA(n){return`${S_(n.path)}${kj(n.parameters)}`}function kj(n){return Object.entries(n).map(([e,t])=>`;${S_(e)}=${S_(t)}`).join("")}function Fj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ff(t)}=${ff(i)}`).join("&"):`${ff(t)}=${ff(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Lj=/^[^\/()?;#]+/;function I_(n){let e=n.match(Lj);return e?e[0]:""}var Vj=/^[^\/()?;=#]+/;function jj(n){let e=n.match(Vj);return e?e[0]:""}var Uj=/^[^=?&#]+/;function Bj(n){let e=n.match(Uj);return e?e[0]:""}var $j=/^[^&#]+/;function Hj(n){let e=n.match($j);return e?e[0]:""}var A_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new Te(e,t)),r}parseSegment(){let e=I_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new bi(yf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=jj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=I_(this.remaining);i&&(r=i,this.capture(r))}e[yf(t)]=yf(r)}parseQueryParam(e){let t=Bj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Hj(this.remaining);s&&(r=s,this.capture(r))}let i=DA(t),o=DA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=I_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function BA(n){return n.segments.length>0?new Te([],{[ce]:n}):n}function $A(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=$A(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return qj(t)}function qj(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Te(n.segments.concat(e.segments),e.children)}return n}function Di(n){return n instanceof sr}function HA(n,e,t=null,r=null){let i=qA(n);return zA(i,e,t,r)}function qA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=BA(r);return e??i}function zA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return w_(i,i,i,t,r);let o=zj(e);if(o.toRoot())return w_(i,i,new Te([],{}),t,r);let s=Gj(o,i,n),a=s.processChildren?wu(s.segmentGroup,s.index,o.commands):WA(s.segmentGroup,s.index,o.commands);return w_(i,s.segmentGroup,a,t,r)}function vf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function bu(n){return typeof n=="object"&&n!=null&&n.outlets}function w_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=GA(n,e,t);let a=BA($A(s));return new sr(a,o,i)}function GA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=GA(o,e,t)}),new Te(n.segments,r)}var _f=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vf(r[0]))throw new $(4003,!1);let i=r.find(bu);if(i&&i!==xA(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _f(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _f(t,e,r)}var ia=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Gj(n,e,t){if(n.isAbsolute)return new ia(e,!0,0);if(!t)return new ia(e,!1,NaN);if(t.parent===null)return new ia(t,!0,0);let r=vf(n.commands[0])?0:1,i=t.segments.length-1+r;return Wj(t,i,n.numberOfDoubleDots)}function Wj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ia(r,!1,i-o)}function Kj(n){return bu(n[0])?n[0].outlets:{[ce]:n}}function WA(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return wu(n,e,t);let r=Qj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Te(n.segments.slice(r.pathIndex),n.children),wu(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?M_(n,e,t):r.match?wu(n,0,i):M_(n,e,t)}function wu(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=Kj(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=wu(n.children[ce],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=WA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function Qj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(bu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!AA(u,l,s))return o;r+=2}else{if(!AA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function M_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(bu(o)){let u=Yj(o.outlets);return new Te(r,u)}if(i===0&&vf(t[0])){let u=n.segments[e];r.push(new bi(u.path,SA(t[0]))),i++;continue}let s=bu(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&vf(a)?(r.push(new bi(s,SA(a))),i+=2):(r.push(new bi(s,{})),i++)}return new Te(r,{})}function Yj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=M_(new Te([],{}),0,r))}),e}function SA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AA(n,e,t){return n==t.path&&ir(e,t.parameters)}var oa="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),fn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Si=class extends fn{type=ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends fn{urlAfterRedirects;type=ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Ht||{}),aa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(aa||{}),or=class extends fn{reason;code;type=ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ar=class extends fn{reason;code;type=ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ca=class extends fn{error;target;type=ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tu=class extends fn{urlAfterRedirects;state;type=ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends fn{urlAfterRedirects;state;type=ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends fn{urlAfterRedirects;state;shouldActivate;type=ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wf=class extends fn{urlAfterRedirects;state;type=ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends fn{urlAfterRedirects;state;type=ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bf=class{route;type=ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tf=class{route;type=ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Df=class{snapshot;type=ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{snapshot;type=ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{snapshot;type=ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{snapshot;type=ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ua=class{routerEvent;position;anchor;type=ft.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Du=class{},la=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Jj(n){return!(n instanceof Du)&&!(n instanceof la)}function Zj(n,e){return n.providers&&!n._injector&&(n._injector=Ys(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jn(n){return n.outlet||ce}function Xj(n,e){let t=n.filter(r=>jn(r)===e);return t.push(...n.filter(r=>jn(r)!==e)),t}function Ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ou(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new qo(this.rootInjector)}},qo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(Ue))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=R_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=R_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=P_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return P_(e,this._root).map(t=>t.value)}};function R_(n,e){if(n===e.value)return e;for(let t of e.children){let r=R_(n,t);if(r)return r}return null}function P_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=P_(n,t);if(r.length)return r.unshift(e),r}return[]}var hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ra(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Su=class extends Pf{snapshot;constructor(e,t){super(e),this.snapshot=t,j_(this,e)}toString(){return this.snapshot.toString()}};function KA(n){let e=eU(n),t=new dt([new bi("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new tn(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new Su(new hn(a,[]),e)}function eU(n){let e={},t={},r={},i="",o=new Bo([],e,r,i,t,ce,n,null,{});return new Au("",new hn(o,[]))}var tn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Nu]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&YA(i)&&(r.resolve[Nu]=i.title),r}var Bo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Au=class extends Pf{url;constructor(e,t){super(t),this.url=e,j_(this,t)}toString(){return QA(this._root)}};function j_(n,e){e.value._routerState=n,e.children.forEach(t=>j_(n,t))}function QA(n){let e=n.children.length>0?` { ${n.children.map(QA).join(", ")} } `:"";return`${n.value}${e}`}function C_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ir(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ir(e.params,t.params)||n.paramsSubject.next(t.params),Sj(e.url,t.url)||n.urlSubject.next(t.url),ir(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function N_(n,e){let t=ir(n.params,e.params)&&Pj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||N_(n.parent,e.parent))}function YA(n){return typeof n.title=="string"||n.title===null}var JA=new H(""),xu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=$S(void 0);parentContexts=x(qo);location=x(No);changeDetector=x(Lo);inputBinder=x(ku,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new O_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kr]})}return n})(),O_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===tn?this.route:e===qo?this.childContexts:e===JA?this.outletData:this.parent.get(e,t)}},ku=new H(""),U_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Dc([r.queryParams,r.params,r.data]).pipe(Lt(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=zS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),B_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Bt(0,"router-outlet")},dependencies:[xu],encapsulation:2})}return n})();function $_(n){let e=n.children&&n.children.map($_),t=e?ae(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=B_),t}function tU(n,e,t){let r=Mu(n,e._root,t?t._root:void 0);return new Su(r,e)}function Mu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=nU(n,e,t);return new hn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mu(n,a)),s}}let r=rU(e.value),i=e.children.map(o=>Mu(n,o));return new hn(r,i)}}function nU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mu(n,r,i);return Mu(n,r)})}function rU(n){return new tn(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var da=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ZA="ngNavigationCancelingError";function Of(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XA(!1,Ht.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function XA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ZA]=!0,t.cancellationCode=e,t}function iU(n){return eM(n)&&Di(n.url)}function eM(n){return!!n&&n[ZA]}var oU=(n,e,t,r)=>te(i=>(new x_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),x_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),C_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ra(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ra(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ra(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ra(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(C_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),C_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},xf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function sU(n,e,t){let r=n._root,i=e?e._root:null;return Iu(r,i,t,[r.value])}function aU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Xm(n)?n:e.get(n):r}function Iu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ra(e);return n.children.forEach(s=>{cU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cu(a,t.getContext(s),i)),i}function cU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Iu(n,e,a?a.children:null,r,i):Iu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sa(a.outlet.component,s))}else s&&Cu(e,a,i),i.canActivateChecks.push(new xf(r)),o.component?Iu(n,null,a?a.children:null,r,i):Iu(n,null,t,r,i);return i}function uU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uo(n.url,e.url)||!ir(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(n,e)||!ir(n.queryParams,e.queryParams);case"paramsChange":default:return!N_(n,e)}}function Cu(n,e,t){let r=ra(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cu(s,e.children.getContext(o),t):Cu(s,null,t):Cu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new sa(e.outlet.component,i)):t.canDeactivateChecks.push(new sa(null,i)):t.canDeactivateChecks.push(new sa(null,i))}function Fu(n){return typeof n=="function"}function lU(n){return typeof n=="boolean"}function dU(n){return n&&Fu(n.canLoad)}function hU(n){return n&&Fu(n.canActivate)}function fU(n){return n&&Fu(n.canActivateChild)}function pU(n){return n&&Fu(n.canDeactivate)}function gU(n){return n&&Fu(n.canMatch)}function tM(n){return n instanceof br||n?.name==="EmptyError"}var pf=Symbol("INITIAL_VALUE");function ha(){return Lt(n=>Dc(n.map(e=>e.pipe(Dr(1),Bd(pf)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===pf)return pf;if(t===!1||mU(t))return t}return!0}),ht(e=>e!==pf),Dr(1)))}function mU(n){return Di(n)||n instanceof da}function yU(n,e){return Ye(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(ae(V({},t),{guardsResult:!0})):vU(s,r,i,n).pipe(Ye(a=>a&&lU(a)?_U(r,o,n,e):Z(a)),te(a=>ae(V({},t),{guardsResult:a})))})}function vU(n,e,t,r){return ke(n).pipe(Ye(i=>bU(i.component,i.route,t,e,r)),Sr(i=>i!==!0,!0))}function _U(n,e,t,r){return ke(e).pipe(Gn(i=>ks(IU(i.route.parent,r),EU(i.route,r),CU(n,i.path,t),wU(n,i.route,t))),Sr(i=>i!==!0,!0))}function EU(n,e){return n!==null&&e&&e(new Af(n)),Z(!0)}function IU(n,e){return n!==null&&e&&e(new Df(n)),Z(!0)}function wU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Sc(()=>{let s=Ou(e)??t,a=fa(o,s),u=hU(a)?a.canActivate(e,n):it(s,()=>a(e,n));return Vr(u).pipe(Sr())}));return Z(i).pipe(ha())}function CU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>aU(s)).filter(s=>s!==null).map(s=>Sc(()=>{let a=s.guards.map(u=>{let l=Ou(s.node)??t,h=fa(u,l),p=fU(h)?h.canActivateChild(r,n):it(l,()=>h(r,n));return Vr(p).pipe(Sr())});return Z(a).pipe(ha())}));return Z(o).pipe(ha())}function bU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Ou(e)??i,l=fa(a,u),h=pU(l)?l.canDeactivate(n,e,t,r):it(u,()=>l(n,e,t,r));return Vr(h).pipe(Sr())});return Z(s).pipe(ha())}function TU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=fa(s,n),u=dU(a)?a.canLoad(e,t):it(n,()=>a(e,t));return Vr(u)});return Z(o).pipe(ha(),nM(r))}function nM(n){return Ed(pt(e=>{if(typeof e!="boolean")throw Of(n,e)}),te(e=>e===!0))}function DU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=fa(s,n),u=gU(a)?a.canMatch(e,t):it(n,()=>a(e,t));return Vr(u)});return Z(o).pipe(ha(),nM(r))}var Ru=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Pu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function na(n){return Os(new Ru(n))}function SU(n){return Os(new $(4e3,!1))}function AU(n){return Os(XA(!1,Ht.GuardRejected))}var k_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ce])return SU(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){return MU(t,i,o).pipe(te(s=>{if(s instanceof sr)throw new Pu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Pu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new sr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function MU(n,e,t){if(typeof n=="string")return Z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Vr(it(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var F_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RU(n,e,t,r,i){let o=rM(n,e,t);return o.matched?(r=Zj(e,r),DU(r,e,t,i).pipe(te(s=>s===!0?o:V({},F_)))):Z(o)}function rM(n,e,t){if(e.path==="**")return PU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},F_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NA)(t,n,e);if(!i)return V({},F_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function PU(n){return{matched:!0,parameters:n.length>0?xA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function MA(n,e,t,r){return t.length>0&&xU(n,t,r)?{segmentGroup:new Te(e,OU(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&kU(n,t,r)?{segmentGroup:new Te(n.segments,NU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function NU(n,e,t,r){let i={};for(let o of t)if(Ff(n,e,o)&&!r[jn(o)]){let s=new Te([],{});i[jn(o)]=s}return V(V({},r),i)}function OU(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&jn(r)!==ce){let i=new Te([],{});t[jn(r)]=i}return t}function xU(n,e,t){return t.some(r=>Ff(n,e,r)&&jn(r)!==ce)}function kU(n,e,t){return t.some(r=>Ff(n,e,r))}function Ff(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function FU(n,e,t){return e.length===0&&!n.children[t]}var L_=class{};function LU(n,e,t,r,i,o,s="emptyOnly"){return new V_(n,e,t,r,i,s,o).recognize()}var VU=31,V_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new k_(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=MA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new hn(r,t),o=new Au("",i),s=HA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Bo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(te(r=>({children:r,rootSnapshot:t})),Tr(r=>{if(r instanceof Pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ru?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof hn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(Gn(s=>{let a=r.children[s],u=Xj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ud((s,a)=>(s.push(...a),s)),si(null),Vm(),Ye(s=>{if(s===null)return na(r);let a=iM(s);return jU(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(Gn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Tr(l=>{if(l instanceof Ru)return Z(null);throw l}))),Sr(u=>!!u),Tr(u=>{if(tM(u))return FU(r,i,o)?Z(new L_):na(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return jn(r)!==s&&(s===ce||!Ff(i,o,r))?na(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):na(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=rM(t,i,o);if(!u)return na(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VU&&(this.allowRedirects=!1));let y=new Bo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,RA(i),jn(i),i.component??i._loadedComponent??null,i,PA(i)),T=Nf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Lt(P=>this.applyRedirects.lineralizeSegments(i,P)),Ye(P=>this.processSegment(e,r,t,P.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=RU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Lt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,T=new Bo(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,RA(r),jn(r),r.component??r._loadedComponent??null,r,PA(r)),O=Nf(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(O.params),T.data=Object.freeze(O.data);let{segmentGroup:P,slicedSegments:j}=MA(t,g,y,l);if(j.length===0&&P.hasChildren())return this.processChildren(h,l,P,T).pipe(te(W=>new hn(T,W)));if(l.length===0&&j.length===0)return Z(new hn(T,[]));let Q=jn(r)===o;return this.processSegment(h,l,P,j,Q?ce:o,!0,T).pipe(te(W=>new hn(T,W instanceof hn?[W]:[])))}))):na(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):TU(e,t,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,t).pipe(pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):AU(t))):Z({routes:[],injector:e})}};function jU(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function UU(n){let e=n.value.routeConfig;return e&&e.path===""}function iM(n){let e=[],t=new Set;for(let r of n){if(!UU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=iM(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!t.has(r))}function RA(n){return n.data||{}}function PA(n){return n.resolve||{}}function BU(n,e,t,r,i,o){return Ye(s=>LU(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>ae(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function $U(n,e){return Ye(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of oM(u))s.add(l);let a=0;return ke(s).pipe(Gn(u=>o.has(u)?HU(u,r,n,e):(u.data=Nf(u,u.parent,n).resolve,Z(void 0))),pt(()=>a++),Fs(1),Ye(u=>a===s.size?Z(t):zt))})}function oM(n){let e=n.children.map(t=>oM(t)).flat();return[n,...e]}function HU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!YA(i)&&(o[Nu]=i.title),Sc(()=>(n.data=Nf(n,n.parent,t).resolve,qU(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function qU(n,e,t,r){let i=D_(n);if(i.length===0)return Z({});let o={};return ke(i).pipe(Ye(s=>zU(n[s],e,t,r).pipe(Sr(),pt(a=>{if(a instanceof da)throw Of(new Ti,a);o[s]=a}))),Fs(1),te(()=>o),Tr(s=>tM(s)?zt:Os(s)))}function zU(n,e,t,r){let i=Ou(e)??r,o=fa(n,i),s=o.resolve?o.resolve(e,t):it(i,()=>o(e,t));return Vr(s)}function b_(n){return Lt(e=>{let t=n(e);return t?ke(t).pipe(te(()=>e)):Z(e)})}var H_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[Nu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(sM),providedIn:"root"})}return n})(),sM=(()=>{class n extends H_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(bA))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ai=new H("",{providedIn:"root",factory:()=>({})}),zo=new H(""),Lf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Qv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Vr(t.loadComponent()).pipe(te(cM),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),lo(()=>{this.componentLoaders.delete(t)})),i=new Ms(r,()=>new nt).pipe(As());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aM(r,this.compiler,t,this.onLoadEndListener).pipe(lo(()=>{this.childrenLoaders.delete(r)})),s=new Ms(o,()=>new nt).pipe(As());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aM(n,e,t,r){return Vr(n.loadChildren()).pipe(te(cM),Ye(i=>i instanceof $h||Array.isArray(i)?Z(i):ke(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zo,[],{optional:!0,self:!0}).flat()),{routes:s.map($_),injector:o}}))}function GU(n){return n&&typeof n=="object"&&"default"in n}function cM(n){return GU(n)?n.default:n}var Vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(WU),providedIn:"root"})}return n})(),WU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q_=new H(""),z_=new H("");function uM(n,e,t){let r=n.get(z_),i=n.get(qe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),KU(n))),{onViewTransitionCreated:u}=r;return u&&it(n,()=>u({transition:a,from:e,to:t})),s}function KU(n){return new Promise(e=>{Bv({read:()=>setTimeout(e)},{injector:n})})}var G_=new H(""),jf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=x(Lf);environmentInjector=x(Ue);destroyRef=x(Nr);urlSerializer=x(Ho);rootContexts=x(qo);location=x(wi);inputBindingEnabled=x(ku,{optional:!0})!==null;titleStrategy=x(H_);options=x(Ai,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Vf);createViewTransition=x(q_,{optional:!0});navigationErrorHandler=x(G_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new bf(i)),r=i=>this.events.next(new Tf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new dt(null),this.transitions.pipe(ht(r=>r!==null),Lt(r=>{let i=!1;return Z(r).pipe(Lt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),zt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ae(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new ar(o.id,this.urlSerializer.serialize(o.rawUrl),u,aa.IgnoredSameUrlNavigation)),o.resolve(!1),zt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(Lt(u=>(this.events.next(new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?zt:Promise.resolve(u))),BU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ae(V({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Tu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Si(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let T=KA(this.rootComponentType).snapshot;return this.currentTransition=r=ae(V({},o),{targetSnapshot:T,urlAfterRedirects:l,extras:ae(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Z(r)}else{let u="";return this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),u,aa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),zt}}),pt(o=>{let s=new Ef(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=ae(V({},o),{guards:sU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),yU(this.environmentInjector,o=>this.events.next(o)),pt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Of(this.urlSerializer,o.guardsResult);let s=new If(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ht(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ht.GuardRejected),!1)),b_(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(pt(s=>{let a=new wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Lt(s=>{let a=!1;return Z(s).pipe($U(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ht.NoDataFromResolver)}}))}),pt(s=>{let a=new Cf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),b_(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(pt(l=>{a.component=l}),te(()=>{})));for(let l of a.children)u.push(...s(l));return u};return Dc(s(o.targetSnapshot.root)).pipe(si(null),Dr(1))}),b_(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ke(a).pipe(te(()=>r)):Z(r)}),te(o=>{let s=tU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ae(V({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),pt(()=>{this.events.next(new Du)}),oU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Dr(1),$d(new ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ht(()=>!i&&!r.targetRouterState),pt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ht.Aborted)}))),pt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),$d(this.transitionAbortWithErrorSubject.pipe(pt(o=>{throw o}))),lo(()=>{i||this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tr(o=>{if(this.destroyed)return r.resolve(!1),zt;if(i=!0,eM(o))this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),iU(o)?this.events.next(new la(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ca(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=it(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof da){let{message:u,cancellationCode:l}=Of(this.urlSerializer,a);this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new la(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return zt}))}))}cancelNavigationTransition(t,r,i){let o=new or(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QU(n){return n!==oa}var lM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(YU),providedIn:"root"})}return n})(),kf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},YU=(()=>{class n extends kf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dM=(()=>{class n{urlSerializer=x(Ho);options=x(Ai,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(wi);urlHandlingStrategy=x(Vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new sr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof sr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=KA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>x(JU),providedIn:"root"})}return n})(),JU=(()=>{class n extends dM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Si?this.updateStateMemento():t instanceof ar?this.commitTransition(r):t instanceof Tu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Du?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof or&&t.code!==Ht.SupersededByNewNavigation&&t.code!==Ht.Redirect?this.restoreHistory(r):t instanceof ca?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uf(n,e){n.events.pipe(ht(t=>t instanceof en||t instanceof or||t instanceof ca||t instanceof ar),te(t=>t instanceof en||t instanceof ar?0:(t instanceof or?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?2:1),ht(t=>t!==2),Dr(1)).subscribe(()=>{e()})}var ZU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x($v);stateManager=x(dM);options=x(Ai,{optional:!0})||{};pendingTasks=x(Or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(jf);urlSerializer=x(Ho);location=x(wi);urlHandlingStrategy=x(Vf);injector=x(Ue);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(lM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(zo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(ku,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof or&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof la){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QU(i.source)},s);this.scheduleNavigation(a,oa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Jj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Jt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=qA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return zA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Di(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oa,null,r)}navigate(t,r={skipLocationChange:!1}){return eB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},ZU):r===!1?i=V({},XU):i=r,Di(t))return TA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return TA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Uf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}var Mi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Yn(null);get href(){return bn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;applicationErrorHandler=x(Jt);options=x(Ai,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Wh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof en&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Di(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(K(Nt),K(tn),Zc("tabindex"),K(Xn),K(kn),K(Vn))};static \u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ei("href",i.reactiveHref(),Ev)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ii],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ii],replaceUrl:[2,"replaceUrl","replaceUrl",Ii],routerLink:"routerLink"},features:[kr]})}return n})();var Lu=class{};var hM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ht(t=>t instanceof en),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ys(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(i).pipe(xs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let o=i.pipe(Ye(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ke([o,s]).pipe(xs())}else return o})}static \u0275fac=function(r){return new(r||n)(G(Nt),G(Ue),G(Lu),G(Lf))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fM=new H(""),tB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=oa;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ar&&t.code===aa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ua&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ua(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Fv()};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function K_(n,...e){return sn([{provide:zo,multi:!0,useValue:n},[],{provide:tn,useFactory:pM,deps:[Nt]},{provide:iu,multi:!0,useFactory:gM},e.map(t=>t.\u0275providers)])}function pM(n){return n.routerState.root}function Vu(n,e){return{\u0275kind:n,\u0275providers:e}}function gM(){let n=x(He);return e=>{let t=n.get(xo);if(e!==t.components[0])return;let r=n.get(Nt),i=n.get(mM);n.get(Q_)===1&&r.initialNavigation(),n.get(_M,null,{optional:!0})?.setUpPreloading(),n.get(fM,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mM=new H("",{factory:()=>new nt}),Q_=new H("",{providedIn:"root",factory:()=>1});function yM(){let n=[{provide:Q_,useValue:0},qh(()=>{let e=x(He);return e.get(i_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Nt),o=e.get(mM);Uf(i,()=>{r(!0)}),e.get(jf).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))})];return Vu(2,n)}function vM(){let n=[qh(()=>{x(Nt).setUpLocationChangeListener()}),{provide:Q_,useValue:2}];return Vu(3,n)}var _M=new H("");function EM(n){return Vu(0,[{provide:_M,useExisting:hM},{provide:Lu,useExisting:n}])}function IM(){return Vu(8,[U_,{provide:ku,useExisting:U_}])}function wM(n){Qs("NgRouterViewTransitions");let e=[{provide:q_,useValue:uM},{provide:z_,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Vu(9,e)}var CM=[wi,{provide:Ho,useClass:Ti},Nt,qo,{provide:tn,useFactory:pM,deps:[Nt]},Lf,[]],ju=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[CM,[],{provide:zo,multi:!0,useValue:t},[],r?.errorHandler?{provide:G_,useValue:r.errorHandler}:[],{provide:Ai,useValue:r||{}},r?.useHash?rB():iB(),nB(),r?.preloadingStrategy?EM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oB(r):[],r?.bindToComponentInputs?IM().\u0275providers:[],r?.enableViewTransitions?wM().\u0275providers:[],sB()]}}static forChild(t){return{ngModule:n,providers:[{provide:zo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fn({type:n});static \u0275inj=vn({})}return n})();function nB(){return{provide:fM,useFactory:()=>{let n=x(rA),e=x(Ce),t=x(Ai),r=x(jf),i=x(Ho);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tB(i,r,n,e,t)}}}function rB(){return{provide:Vn,useClass:a_}}function iB(){return{provide:Vn,useClass:Jh}}function oB(n){return[n.initialNavigation==="disabled"?vM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?yM().\u0275providers:[]]}var W_=new H("");function sB(){return[{provide:W_,useFactory:gM},{provide:iu,multi:!0,useExisting:W_}]}var Bf=class n{transform(e,t=100,r=!1,i="..."){return e?e.length<=t?e:(r&&(t=e.substr(0,t).lastIndexOf(" ")),e.substr(0,t)+i):""}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=ru({name:"truncate",type:n,pure:!0})};var aB=n=>["/producto",n];function cB(n,e){if(n&1&&(b(0,"div",13),R(1),er(2,"number"),w()),n&2){let t=be();F(),Ze(" -",tr(2,1,t.product.descuento*100,"1.0-0"),"% ")}}function uB(n,e){n&1&&(b(0,"div",14),R(1," \xA1Agotado! "),w())}function lB(n,e){if(n&1&&(b(0,"div",15),R(1),er(2,"number"),w()),n&2){let t=be();F(),Ze(" $",tr(2,1,t.product.precio,"1.2-2")," ")}}var pa=class n{product;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-product-card"]],inputs:{product:"product"},decls:19,vars:17,consts:[[1,"product-card"],[1,"product-image"],[3,"src","alt"],["class","discount-badge",4,"ngIf"],["class","out-of-stock",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-description"],[1,"product-pricing"],["class","original-price",4,"ngIf"],[1,"final-price"],[1,"product-actions"],[1,"btn-details",3,"routerLink"],[1,"discount-badge"],[1,"out-of-stock"],[1,"original-price"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1),Bt(2,"img",2),ye(3,cB,3,4,"div",3)(4,uB,2,0,"div",4),w(),b(5,"div",5)(6,"h3",6),R(7),w(),b(8,"p",7),R(9),er(10,"truncate"),w(),b(11,"div",8),ye(12,lB,3,4,"div",9),b(13,"div",10),R(14),er(15,"number"),w()(),b(16,"div",11)(17,"a",12),R(18,"Ver detalles"),w()()()()),t&2&&(F(2),Y("src",r.product.imagenes[0],vi)("alt",r.product.nombre),F(),Y("ngIf",r.product.descuento>0),F(),Y("ngIf",r.product.estado==="agotado"),F(3),Oe(r.product.nombre),F(2),Oe(tr(10,9,r.product.descripcion,100)),F(3),Y("ngIf",r.product.descuento>0),F(2),Ze(" $",tr(15,12,r.product.precio*(1-r.product.descuento),"1.2-2")," "),F(3),Y("routerLink",Kv(15,aB,r.product.id)))},dependencies:[Le,dn,du,Mi,Bf],styles:[".product-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;transition:transform .3s,box-shadow .3s;background-color:#fff}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden}.product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s}.product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   .discount-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#e74c3c;color:#fff;padding:.25rem .5rem;border-radius:4px;font-weight:700;font-size:.875rem}.product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   .out-of-stock[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0;right:0;background-color:#000000b3;color:#fff;text-align:center;padding:.5rem;font-weight:700}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;color:#2c3e50}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin:0 0 1rem;color:#7f8c8d;font-size:.875rem}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]{margin-bottom:1rem}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#95a5a6;font-size:.875rem}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .final-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-details[_ngcontent-%COMP%]{display:block;text-align:center;padding:.5rem;background-color:#3498db;color:#fff;text-decoration:none;border-radius:4px;transition:background-color .3s}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-details[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})};var bM=()=>{};var SM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},dB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new J_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},J_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hB=function(n){let e=SM(n);return $f.encodeByteArray(e,!0)},Bu=function(n){return hB(n).replace(/\./g,"")},Hf=function(n){try{return $f.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fB=()=>X_().__FIREBASE_DEFAULTS__,pB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hf(n[1]);return e&&JSON.parse(e)},qf=()=>{try{return bM()||fB()||pB()||gB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eE=n=>{var e,t;return(t=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},AM=n=>{let e=eE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tE=()=>{var n;return(n=qf())===null||n===void 0?void 0:n.config},nE=n=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${n}`]};var Wo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ri(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function zf(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function MM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(s)),""].join(".")}var Uu={};function mB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Uu))Uu[e]?n.emulator.push(e):n.prod.push(e);return n}function yB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var TM=!1;function Gf(n,e){if(typeof window>"u"||typeof document>"u"||!Ri(window.location.host)||Uu[n]===e||Uu[n]||TM)return;Uu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=mB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{TM=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=yB(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),P=document.getElementById(O)||document.createElement("a"),j=t("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let W=g.element;a(W),h(P,O);let me=l();u(Q,j),W.append(Q,T,P,me),document.body.appendChild(W)}o?(T.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function vB(){var n;let e=(n=qf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xM(){let n=gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kM(){return!vB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $u(){try{return typeof indexedDB=="object"}catch{return!1}}function FM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _B="FirebaseError",pn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_B,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?EB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pn(i,a,r)}};function EB(n,e){return n.replace(IB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IB=/\{\$([^}]+)}/g;function LM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(DM(o)&&DM(s)){if(!cr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function DM(n){return n!==null&&typeof n=="object"}function Hu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ma(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VM(n,e){let t=new Z_(n,e);return t.subscribe.bind(t)}var Z_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Y_),i.error===void 0&&(i.error=Y_),i.complete===void 0&&(i.complete=Y_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Y_(){}var Woe=4*60*60*1e3;function et(n){return n&&n._delegate?n._delegate:n}var qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ko="[DEFAULT]";var rE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Wo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bB(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CB(n){return n===Ko?void 0:n}function bB(n){return n.instantiationMode==="EAGER"}var Wf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new rE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var TB=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),DB={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},SB=fe.INFO,AB={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},MB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=AB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ur=class{constructor(e){this.name=e,this._logLevel=SB,this._logHandler=MB,this._userLogHandler=null,TB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var RB=(n,e)=>e.some(t=>n instanceof t),jM,UM;function PB(){return jM||(jM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NB(){return UM||(UM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BM=new WeakMap,oE=new WeakMap,$M=new WeakMap,iE=new WeakMap,aE=new WeakMap;function OB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(lr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&BM.set(t,n)}).catch(()=>{}),aE.set(e,n),e}function xB(n){if(oE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});oE.set(n,e)}var sE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$M.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HM(n){sE=n(sE)}function kB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kf(this),e,...t);return $M.set(r,e.sort?e.sort():[e]),lr(r)}:NB().includes(n)?function(...e){return n.apply(Kf(this),e),lr(BM.get(this))}:function(...e){return lr(n.apply(Kf(this),e))}}function FB(n){return typeof n=="function"?kB(n):(n instanceof IDBTransaction&&xB(n),RB(n,PB())?new Proxy(n,sE):n)}function lr(n){if(n instanceof IDBRequest)return OB(n);if(iE.has(n))return iE.get(n);let e=FB(n);return e!==n&&(iE.set(n,e),aE.set(e,n)),e}var Kf=n=>aE.get(n);function zM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=lr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(lr(s.result),u.oldVersion,u.newVersion,lr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LB=["get","getKey","getAll","getAllKeys","count"],VB=["put","add","delete","clear"],cE=new Map;function qM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cE.get(e))return cE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=VB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LB.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return cE.set(e,o),o}HM(n=>ae(V({},n),{get:(e,t,r)=>qM(e,t)||n.get(e,t,r),has:(e,t)=>!!qM(e,t)||n.has(e,t)}));var lE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function jB(n){let e=n.getComponent();return e?.type==="VERSION"}var dE="@firebase/app",GM="0.13.2";var jr=new ur("@firebase/app"),UB="@firebase/app-compat",BB="@firebase/analytics-compat",$B="@firebase/analytics",HB="@firebase/app-check-compat",qB="@firebase/app-check",zB="@firebase/auth",GB="@firebase/auth-compat",WB="@firebase/database",KB="@firebase/data-connect",QB="@firebase/database-compat",YB="@firebase/functions",JB="@firebase/functions-compat",ZB="@firebase/installations",XB="@firebase/installations-compat",e$="@firebase/messaging",t$="@firebase/messaging-compat",n$="@firebase/performance",r$="@firebase/performance-compat",i$="@firebase/remote-config",o$="@firebase/remote-config-compat",s$="@firebase/storage",a$="@firebase/storage-compat",c$="@firebase/firestore",u$="@firebase/ai",l$="@firebase/firestore-compat",d$="firebase",h$="11.10.0";var hE="[DEFAULT]",f$={[dE]:"fire-core",[UB]:"fire-core-compat",[$B]:"fire-analytics",[BB]:"fire-analytics-compat",[qB]:"fire-app-check",[HB]:"fire-app-check-compat",[zB]:"fire-auth",[GB]:"fire-auth-compat",[WB]:"fire-rtdb",[KB]:"fire-data-connect",[QB]:"fire-rtdb-compat",[YB]:"fire-fn",[JB]:"fire-fn-compat",[ZB]:"fire-iid",[XB]:"fire-iid-compat",[e$]:"fire-fcm",[t$]:"fire-fcm-compat",[n$]:"fire-perf",[r$]:"fire-perf-compat",[i$]:"fire-rc",[o$]:"fire-rc-compat",[s$]:"fire-gcs",[a$]:"fire-gcs-compat",[c$]:"fire-fst",[l$]:"fire-fst-compat",[u$]:"fire-vertex","fire-js":"fire-js",[d$]:"fire-js-all"};var qu=new Map,p$=new Map,fE=new Map;function WM(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bn(n){let e=n.name;if(fE.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;fE.set(e,n);for(let t of qu.values())WM(t,n);for(let t of p$.values())WM(t,n);return!0}function ya(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gn(n){return n==null?!1:n.settings!==void 0}var g$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Un("app","Firebase",g$);var pE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}};var Ni=h$;function yE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(t||(t=tE()),!t)throw Pi.create("no-options");let o=qu.get(i);if(o){if(cr(t,o.options)&&cr(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}let s=new Wf(i);for(let u of fE.values())s.addComponent(u);let a=new pE(t,r,s);return qu.set(i,a),a}function Qo(n=hE){let e=qu.get(n);if(!e&&n===hE&&tE())return yE();if(!e)throw Pi.create("no-app",{appName:n});return e}function Qf(){return Array.from(qu.values())}function Ke(n,e,t){var r;let i=(r=f$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}Bn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var m$="firebase-heartbeat-database",y$=1,zu="firebase-heartbeat-store",uE=null;function JM(){return uE||(uE=zM(m$,y$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),uE}function v$(n){return v(this,null,function*(){try{let t=(yield JM()).transaction(zu),r=yield t.objectStore(zu).get(ZM(n));return yield t.done,r}catch(e){if(e instanceof pn)jr.warn(e.message);else{let t=Pi.create("idb-get",{originalErrorMessage:e?.message});jr.warn(t.message)}}})}function KM(n,e){return v(this,null,function*(){try{let r=(yield JM()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,ZM(n)),yield r.done}catch(t){if(t instanceof pn)jr.warn(t.message);else{let r=Pi.create("idb-set",{originalErrorMessage:t?.message});jr.warn(r.message)}}})}function ZM(n){return`${n.name}!${n.options.appId}`}var _$=1024,E$=30,gE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new mE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>E$){let s=w$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=QM(),{heartbeatsToSend:r,unsentEntries:i}=I$(this._heartbeatsCache.heartbeats),o=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return jr.warn(t),""}})}};function QM(){return new Date().toISOString().substring(0,10)}function I$(n,e=_$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var mE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return $u()?FM().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield v$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YM(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}function w$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function C$(n){Bn(new qt("platform-logger",e=>new lE(e),"PRIVATE")),Bn(new qt("heartbeat",e=>new gE(e),"PRIVATE")),Ke(dE,GM,n),Ke(dE,GM,"esm2017"),Ke("fire-js","")}C$("");var b$="firebase",T$="11.10.0";Ke(b$,T$,"app");function XM(n){n===void 0&&(n=x(He));let e=n.get(pi);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Oi=new Fo("ANGULARFIRE2_VERSION");function Gu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var _a=(n,e)=>{let t=e?[e]:Qf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},va=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(va||{}),eR=t_()&&typeof Zone<"u"?va.WARN:va.SILENT;var Yf=class{zone;delegate;constructor(e,t=xm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},xi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(Ce);this.outsideAngular=t.runOutsideAngular(()=>new Yf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Yf(typeof Zone>"u"?void 0:Zone.current,Om))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tR=!1;function D$(n,e){!tR&&(eR>va.SILENT||t_())&&(tR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),eR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function S$(n){let e=x(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Yo(n){let e=x(Ce,{optional:!0});return e?e.run(()=>n()):n()}var A$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),it(t,()=>Yo(()=>n.apply(void 0,r)))),mt=(n,e,t)=>(t||=e?va.WARN:va.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(xi),s=x(pi),a=x(Ue)}catch{return D$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Yo(()=>s.add())),i[l]=A$(i[l],r,a));let u=S$(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(oi(o.outsideAngular),ii(o.insideAngular),XM(a)):u instanceof Promise?Yo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>it(a,()=>Yo(()=>h(g))),g=>it(a,()=>Yo(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Yo(()=>u):u instanceof ne?u.pipe(oi(o.outsideAngular),ii(o.insideAngular)):Yo(()=>u)});var Ur=class{constructor(e){return e}},Jo=class{constructor(){return Qf()}};function M$(n){return n&&n.length===1?n[0]:new Ur(Qo())}var vE=new H("angularfire2._apps"),R$={provide:Ur,useFactory:M$,deps:[[new Zt,vE]]},P$={provide:Jo,deps:[[new Zt,vE]]};function N$(n){return(e,t)=>{let r=t.get(yi);Ke("angularfire",Oi.full,"core"),Ke("angularfire",Oi.full,"app"),Ke("angular",HS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ur(i)}}function nR(n,...e){return sn([R$,P$,{provide:vE,useFactory:N$(n),multi:!0,deps:[Ce,He,xi,...e]}])}var rR=mt(yE,!0);var O$=new Map,x$={activated:!1,tokenObservers:[]},k$={initialized:!1,enabled:!1};function $n(n){return O$.get(n)||Object.assign({},x$)}function aR(){return k$}var F$="https://content-firebaseappcheck.googleapis.com/v1";var L$="exchangeDebugToken",iR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Yse=24*60*60*1e3;var IE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Wo,this.pending.promise.catch(t=>{}),yield V$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Wo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function V$(n){return new Promise(e=>{setTimeout(e,n)})}var j$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ki=new Un("appCheck","AppCheck",j$);function cR(n){if(!$n(n).activated)throw ki.create("use-before-activation",{appName:n.name})}function uR(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ki.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ki.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ki.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function lR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${F$}/projects/${t}/apps/${r}:${L$}?key=${i}`,body:{debug_token:e}}}var U$="firebase-app-check-database",B$=1,wE="firebase-app-check-store";var Jf=null;function $$(){return Jf||(Jf=new Promise((n,e)=>{try{let t=indexedDB.open(U$,B$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ki.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wE,{keyPath:"compositeKey"})}}}catch(t){e(ki.create("storage-open",{originalErrorMessage:t?.message}))}}),Jf)}function H$(n,e){return q$(z$(n),e)}function q$(n,e){return v(this,null,function*(){let r=(yield $$()).transaction(wE,"readwrite"),o=r.objectStore(wE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ki.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function z$(n){return`${n.options.appId}-${n.name}`}var Wu=new ur("@firebase/app-check");function _E(n,e){return $u()?H$(n,e).catch(t=>{Wu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dR(){return aR().enabled}function hR(){return v(this,null,function*(){let n=aR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var G$={error:"UNKNOWN_ERROR"};function W$(n){return $f.encodeString(JSON.stringify(n),!1)}function CE(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;cR(r);let i=$n(r),o=i.token,s;if(o&&!Ku(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ku(l)?o=l:yield _E(r,void 0))}if(!e&&o&&Ku(o))return{token:o.token};let a=!1;if(dR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=uR(lR(r,yield hR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield _E(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):t&&Wu.error(l),EE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield $n(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):t&&Wu.error(l),s=l}let u;return o?s?Ku(o)?u={token:o.token,internalError:s}:u=EE(s):(u={token:o.token},i.token=o,yield _E(r,o)):u=EE(s),a&&J$(r,u),u})}function K$(n){return v(this,null,function*(){let e=n.app;cR(e);let{provider:t}=$n(e);if(dR()){let r=yield hR(),{token:i}=yield uR(lR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Q$(n,e,t,r){let{app:i}=n,o=$n(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ku(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),oR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oR(n))}function fR(n,e){let t=$n(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function oR(n){let{app:e}=n,t=$n(e),r=t.tokenRefresher;r||(r=Y$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Y$(n){let{app:e}=n;return new IE(()=>v(null,null,function*(){let t=$n(e),r;if(t.token?r=yield CE(n,!0):r=yield CE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=$n(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iR.RETRIAL_MIN_WAIT,iR.RETRIAL_MAX_WAIT)}function J$(n,e){let t=$n(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ku(n){return n.expireTimeMillis-Date.now()>0}function EE(n){return{token:W$(G$),error:n}}var bE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=$n(this.app);for(let t of e)fR(this.app,t.next);return Promise.resolve()}};function Z$(n,e){return new bE(n,e)}function X$(n){return{getToken:e=>CE(n,e),getLimitedUseToken:()=>K$(n),addTokenListener:e=>Q$(n,"INTERNAL",e),removeTokenListener:e=>fR(n.app,e)}}var eH="@firebase/app-check",tH="0.10.1";var nH="app-check",sR="app-check-internal";function rH(){Bn(new qt(nH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Z$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sR).initialize()})),Bn(new qt(sR,n=>{let e=n.getProvider("app-check").getImmediate();return X$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ke(eH,tH)}rH();var iH="app-check";var Ea=class{constructor(){return _a(iH)}};var oH=["localhost","0.0.0.0","127.0.0.1"],uae=typeof window<"u"&&oH.includes(window.location.hostname);function RR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PR=RR,NR=new Un("auth","Firebase",RR());var rp=new ur("@firebase/auth");function sH(n,...e){rp.logLevel<=fe.WARN&&rp.warn(`Auth (${Ni}): ${n}`,...e)}function Xf(n,...e){rp.logLevel<=fe.ERROR&&rp.error(`Auth (${Ni}): ${n}`,...e)}function hr(n,...e){throw KE(n,...e)}function Zo(n,...e){return KE(n,...e)}function OR(n,e,t){let r=Object.assign(Object.assign({},PR()),{[e]:t});return new Un("auth","Firebase",r).create(e,{appName:n.name})}function Vi(n){return OR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NR.create(n,...e)}function ee(n,e,...t){if(!n)throw KE(e,...t)}function Br(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function ji(n,e){n||Br(e)}function AE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aH(){return pR()==="http:"||pR()==="https:"}function pR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function cH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aH()||NM()||"connection"in navigator)?navigator.onLine:!0}function uH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Xo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=RM()||OM()}get(){return cH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QE(n,e){ji(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ip=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hH=new Xo(3e4,6e4);function ts(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ui(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return xR(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Hu(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return PM()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ri(n.emulatorConfig.host)&&(y.credentials="include"),ip.fetch()(yield kR(n,n.config.apiHost,t,p),y)}))})}function xR(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},lH),e);try{let i=new ME(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OR(n,h,l);hr(n,h)}}catch(i){if(i instanceof pn)throw i;hr(n,"network-request-failed",{message:String(i)})}})}function gp(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Ui(n,e,t,r,i);return"mfaPendingCredential"in l&&hr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function kR(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?QE(n.config,i):`${n.config.apiScheme}://${i}`;return dH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function fH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ME=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),hH.get())})}};function Zf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Zo(n,e,r);return i.customData._tokenResponse=t,i}function gR(n){return n!==void 0&&n.enterprise!==void 0}var RE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function pH(n,e){return v(this,null,function*(){return Ui(n,"GET","/v2/recaptchaConfig",ts(n,e))})}function gH(n,e){return v(this,null,function*(){return Ui(n,"POST","/v1/accounts:delete",e)})}function op(n,e){return v(this,null,function*(){return Ui(n,"POST","/v1/accounts:lookup",e)})}function Yu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(n,e=!1){return v(this,null,function*(){let t=et(n),r=yield t.getIdToken(e),i=JE(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yu(TE(i.auth_time)),issuedAtTime:Yu(TE(i.iat)),expirationTime:Yu(TE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function TE(n){return Number(n)*1e3}function JE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hf(t);return i?JSON.parse(i):(Xf("Failed to decode base64 JWT payload"),null)}catch(i){return Xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mR(n){let e=JE(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zu(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof pn&&mH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function mH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var PE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sp(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Zu(n,op(t,{idToken:r}));ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FR(o.providerUserInfo):[],a=yH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function ZE(n){return v(this,null,function*(){let e=et(n);yield sp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FR(n){return n.map(e=>{var{providerId:t}=e,r=km(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vH(n,e){return v(this,null,function*(){let t=yield xR(n,{},()=>v(null,null,function*(){let r=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield kR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ri(n.emulatorConfig.host)&&(u.credentials="include"),ip.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function _H(n,e){return v(this,null,function*(){return Ui(n,"POST","/v2/accounts:revokeToken",ts(n,e))})}var Ju=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=mR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield vH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Br("not implemented")}};function Fi(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Li=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Zu(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return YE(this,e)}reload(){return ZE(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield sp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(gn(this.auth.app))return Promise.reject(Vi(this.auth));let e=yield this.getIdToken();return yield Zu(this,gH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:me,isAnonymous:tt,providerData:Ie,stsTokenManager:D}=t;ee(W&&D,e,"internal-error");let _=Ju.fromJSON(this.name,D);ee(typeof W=="string",e,"internal-error"),Fi(p,e.name),Fi(g,e.name),ee(typeof me=="boolean",e,"internal-error"),ee(typeof tt=="boolean",e,"internal-error"),Fi(y,e.name),Fi(T,e.name),Fi(O,e.name),Fi(P,e.name),Fi(j,e.name),Fi(Q,e.name);let I=new n({uid:W,auth:e,email:g,emailVerified:me,displayName:p,isAnonymous:tt,photoURL:T,phoneNumber:y,tenantId:O,stsTokenManager:_,createdAt:j,lastLoginAt:Q});return Ie&&Array.isArray(Ie)&&(I.providerData=Ie.map(C=>Object.assign({},C))),P&&(I._redirectEventId=P),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Ju;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ju;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var yR=new Map;function $r(n){ji(n instanceof Function,"Expected a class definition");let e=yR.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yR.set(n,e),e)}var EH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),NE=EH;function ep(n,e,t){return`firebase:${n}:${e}:${t}`}var ap=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ep(this.userKey,i.apiKey,o),this.fullPersistenceKey=ep("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield op(this.auth,{idToken:e}).catch(()=>{});return t?Li._fromGetAccountInfoResponse(this.auth,t,e):null}return Li._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n($r(NE),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||$r(NE),s=ep(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield op(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Li._fromGetAccountInfoResponse(e,g,h)}else p=Li._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function vR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(HR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||jR(e))&&!e.includes("edge/"))return"Chrome";if(BR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function LR(n=gt()){return/firefox\//i.test(n)}function VR(n=gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jR(n=gt()){return/crios\//i.test(n)}function UR(n=gt()){return/iemobile/i.test(n)}function BR(n=gt()){return/android/i.test(n)}function $R(n=gt()){return/blackberry/i.test(n)}function HR(n=gt()){return/webos/i.test(n)}function XE(n=gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IH(n=gt()){var e;return XE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wH(){return xM()&&document.documentMode===10}function qR(n=gt()){return XE(n)||BR(n)||HR(n)||$R(n)||/windows phone/i.test(n)||UR(n)}function zR(n,e=[]){let t;switch(n){case"Browser":t=vR(gt());break;case"Worker":t=`${vR(gt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ni}/${r}`}var OE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CH(t){return v(this,arguments,function*(n,e={}){return Ui(n,"GET","/v2/passwordPolicy",ts(n,e))})}var bH=6,xE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:bH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cp(this),this.idTokenSubscription=new cp(this),this.beforeStateQueue=new OE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ap.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield op(this,{idToken:e}),r=yield Li._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield sp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uH()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(gn(this.app))return Promise.reject(Vi(this));let t=e?et(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return gn(this.app)?Promise.reject(Vi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gn(this.app)?Promise.reject(Vi(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence($r(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield CH(this),t=new xE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _H(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&$r(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield ap.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&sH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ia(n){return et(n)}var cp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VM(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TH(n){mp=n}function GR(n){return mp.loadJS(n)}function DH(){return mp.recaptchaEnterpriseScript}function SH(){return mp.gapiScript}function WR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var FE=class{constructor(){this.enterprise=new LE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},LE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var AH="recaptcha-enterprise",KR="NO_RECAPTCHA",VE=class{constructor(e){this.type=AH,this.auth=Ia(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){pH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new RE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(KR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=DH();u.length!==0&&(u+=a),GR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Qu(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new VE(n),s;if(i)s=KR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function _R(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Qu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Qu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Qu(n,e,t);return r(n,a).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Qu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Qu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function eI(n,e){let t=ya(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(cr(o,e??{}))return i;hr(i,"already-initialized")}return t.initialize({options:e})}function MH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tI(n,e,t){let r=Ia(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=QR(e),{host:s,port:a}=RH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(cr(l,r.config.emulator)&&cr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ri(s)?(zf(`${o}//${s}${u}`),Gf("Auth",!0)):i||PH()}function QR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RH(n){let e=QR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ER(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ER(s)}}}function ER(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function PH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var el=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}};function NH(n,e){return v(this,null,function*(){return Ui(n,"POST","/v1/accounts:signUp",e)})}function OH(n,e){return v(this,null,function*(){return gp(n,"POST","/v1/accounts:signInWithPassword",ts(n,e))})}function xH(n,e){return v(this,null,function*(){return gp(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))})}function kH(n,e){return v(this,null,function*(){return gp(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))})}var tl=class n extends el{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _R(e,t,"signInWithPassword",OH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xH(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _R(e,r,"signUpPassword",NH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kH(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function DE(n,e){return v(this,null,function*(){return gp(n,"POST","/v1/accounts:signInWithIdp",ts(n,e))})}function FH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LH(n){let e=ga(ma(n)).link,t=e?ga(ma(e)).deep_link_id:null,r=ga(ma(n)).deep_link_id;return(r?ga(ma(r)).link:null)||r||t||e||n}var up=class n{constructor(e){var t,r,i,o,s,a;let u=ga(ma(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=FH((i=u.mode)!==null&&i!==void 0?i:null);ee(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=LH(e);try{return new n(t)}catch{return null}}};var YR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return tl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=up.parseLink(r);return ee(i,"argument-error"),tl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),lp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jE=class extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Li._fromIdTokenResponse(e,r,i),s=IR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=IR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function IR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var UE=class n extends pn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function JR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?UE._fromErrorAndOperation(n,o,e,r):o})}function VH(n,e,t=!1){return v(this,null,function*(){let r=yield Zu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return nl._forOperation(n,"link",r)})}function jH(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(gn(r.app))return Promise.reject(Vi(r));let i="reauthenticate";try{let o=yield Zu(n,JR(r,i,e,n),t);ee(o.idToken,r,"internal-error");let s=JE(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(n.uid===a,r,"user-mismatch"),nl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&hr(r,"user-mismatch"),o}})}function ZR(n,e,t=!1){return v(this,null,function*(){if(gn(n.app))return Promise.reject(Vi(n));let r="signIn",i=yield JR(n,r,e),o=yield nl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function nI(n,e){return v(this,null,function*(){return ZR(Ia(n),e)})}function UH(n){return v(this,null,function*(){let e=Ia(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rI(n,e,t){return gn(n.app)?Promise.reject(Vi(n)):nI(et(n),YR.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&UH(n),r}))}function iI(n,e,t,r){return et(n).onIdTokenChanged(e,t,r)}function oI(n,e,t){return et(n).beforeAuthStateChanged(e,t)}function sI(n){return et(n).signOut()}var dp="__sak";var hp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var BH=1e3,$H=10,HH=(()=>{class n extends hp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);wH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$H):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},BH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield ni(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield ni(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield ni(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),XR=HH;var qH=(()=>{class n extends hp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),aI=qH;function zH(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var GH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield zH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function eP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var BE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=eP("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function dr(){return window}function WH(n){dr().location.href=n}function tP(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}function KH(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function QH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YH(){return tP()?self:null}var nP="firebaseLocalStorageDb",JH=1,fp="firebaseLocalStorage",rP="fbase_key",es=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function yp(n,e){return n.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function ZH(){let n=indexedDB.deleteDatabase(nP);return new es(n).toPromise()}function $E(){let n=indexedDB.open(nP,JH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(fp,{keyPath:rP})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),yield ZH(),e(yield $E()))}))})}function wR(n,e,t){return v(this,null,function*(){let r=yp(n,!0).put({[rP]:e,value:t});return new es(r).toPromise()})}function XH(n,e){return v(this,null,function*(){let t=yp(n,!1).get(e),r=yield new es(t).toPromise();return r===void 0?null:r.value})}function CR(n,e){let t=yp(n,!0).delete(e);return new es(t).toPromise()}var e3=800,t3=3,n3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield $E(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>t3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return tP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=GH._getInstance(YH()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield KH(),!this.activeServiceWorker)return;this.sender=new BE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||QH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield $E();return yield wR(t,dp,"1"),yield CR(t,dp),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>wR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>XH(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>CR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=yp(o,!1).getAll();return new es(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),iP=n3;var yae=WR("rcb"),vae=new Xo(3e4,6e4);function r3(n,e){return e?$r(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rl=class extends el{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return DE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return DE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return DE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function i3(n){return ZR(n.auth,new rl(n),n.bypassAuthState)}function o3(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),jH(t,new rl(n),n.bypassAuthState)}function s3(n){return v(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),VH(t,new rl(n),n.bypassAuthState)})}var HE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i3;case"linkViaPopup":case"linkViaRedirect":return s3;case"reauthViaPopup":case"reauthViaRedirect":return o3;default:hr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _ae=new Xo(2e3,1e4);var a3="pendingRedirect",tp=new Map,qE=class n extends HE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=tp.get(this.auth._key());if(!e){try{let r=(yield c3(this.resolver,this.auth))?yield ni(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return ni(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ni(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function c3(n,e){return v(this,null,function*(){let t=d3(e),r=l3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function u3(n,e){tp.set(n._key(),e)}function l3(n){return $r(n._redirectPersistence)}function d3(n){return ep(a3,n.config.apiKey,n.name)}function h3(n,e,t=!1){return v(this,null,function*(){if(gn(n.app))return Promise.reject(Vi(n));let r=Ia(n),i=r3(r,e),s=yield new qE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var f3=10*60*1e3,zE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f3&&this.cachedEventUids.clear(),this.cachedEventUids.has(bR(e))}saveEventToCache(e){this.cachedEventUids.add(bR(e)),this.lastProcessedEventTime=Date.now()}};function bR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function p3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(n);default:return!1}}function g3(t){return v(this,arguments,function*(n,e={}){return Ui(n,"GET","/v1/projects",e)})}var m3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;function v3(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield g3(n);for(let t of e)try{if(_3(t))return}catch{}hr(n,"unauthorized-domain")})}function _3(n){let e=AE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!y3.test(t))return!1;if(m3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var E3=new Xo(3e4,6e4);function TR(){let n=dr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function I3(n){return new Promise((e,t)=>{var r,i,o;function s(){TR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TR(),t(Zo(n,"network-request-failed"))},timeout:E3.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=dr().gapi)===null||o===void 0)&&o.load)s();else{let a=WR("iframefcb");return dr()[a]=()=>{gapi.load?s():t(Zo(n,"network-request-failed"))},GR(`${SH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw np=null,e})}var np=null;function w3(n){return np=np||I3(n),np}var C3=new Xo(5e3,15e3),b3="__/auth/iframe",T3="emulator/auth/iframe",D3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A3(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?QE(e,T3):`https://${n.config.authDomain}/${b3}`,r={apiKey:e.apiKey,appName:n.name,v:Ni},i=S3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hu(r).slice(1)}`}function M3(n){return v(this,null,function*(){let e=yield w3(n),t=dr().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:A3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D3,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Zo(n,"network-request-failed"),a=dr().setTimeout(()=>{o(s)},C3.get());function u(){dr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var R3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,N3=600,O3="_blank",x3="http://localhost",pp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function k3(n,e,t,r=P3,i=N3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},R3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=gt().toLowerCase();t&&(a=jR(l)?O3:t),LR(l)&&(e=e||x3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(IH(l)&&a!=="_self")return F3(e||"",a),new pp(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new pp(p)}function F3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var L3="__/auth/handler",V3="emulator/auth/handler",j3=encodeURIComponent("fac");function DR(n,e,t,r,i,o){return v(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ni,eventId:i};if(e instanceof lp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",LM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${j3}=${encodeURIComponent(u)}`:"";return`${U3(n)}?${Hu(a).slice(1)}${l}`})}function U3({config:n}){return n.emulator?QE(n,V3):`https://${n.authDomain}/${L3}`}var SE="webStorageSupport",GE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=h3,this._overrideRedirectResult=u3}_openPopup(e,t,r,i){return v(this,null,function*(){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield DR(e,t,r,AE(),i);return k3(e,s,eP())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield DR(e,t,r,AE(),i);return WH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ji(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield M3(e),r=new zE(e);return t.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(SE,{type:SE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[SE];s!==void 0&&t(!!s),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qR()||VR()||XE()}},sP=GE;var SR="@firebase/auth",AR="1.10.8";var WE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function B3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(n){Bn(new qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(n)},l=new kE(r,i,o,u);return MH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bn(new qt("auth-internal",e=>{let t=Ia(e.getProvider("auth").getImmediate());return(r=>new WE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(SR,AR,B3(n)),Ke(SR,AR,"esm2017")}var H3=5*60,q3=nE("authIdTokenMaxAge")||H3,MR=null,z3=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>q3)return;let i=t?.token;MR!==i&&(MR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cI(n=Qo()){let e=ya(n,"auth");if(e.isInitialized())return e.getImmediate();let t=eI(n,{popupRedirectResolver:sP,persistence:[iP,XR,aI]}),r=nE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=z3(o.toString());oI(t,s,()=>s(t.currentUser)),iI(t,a=>s(a))}}let i=eE("auth");return i&&tI(t,`http://${i}`),t}function G3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Zo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");var aP="auth",ns=class{constructor(e){return e}},il=class{constructor(){return _a(aP)}};var uI=new H("angularfire2.auth-instances");function F4(n,e){let t=Gu(aP,n,e);return t&&new ns(t)}function L4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ns(r)}}var V4={provide:il,deps:[[new Zt,uI]]},j4={provide:ns,useFactory:F4,deps:[[new Zt,uI],Ur]};function cP(n,...e){return Ke("angularfire",Oi.full,"auth"),sn([j4,V4,{provide:uI,useFactory:L4(n),multi:!0,deps:[Ce,He,xi,Jo,[new Zt,Ea],...e]}])}var uP=mt(cI,!0);var lP=mt(rI,!0,2);var dP=mt(sI,!0,2);var hP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fP={};var Hr,lI;(function(){var n;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(C,S,M){for(var E=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)E[Er-2]=arguments[Er];return _.prototype[S].apply(C,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var C=Array(16);if(typeof _=="string")for(var S=0;16>S;++S)C[S]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(S=0;16>S;++S)C[S]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],S=D.g[2];var M=D.g[3],E=_+(M^I&(S^M))+C[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=M+(S^_&(I^S))+C[1]+3905402710&4294967295,M=_+(E<<12&4294967295|E>>>20),E=S+(I^M&(_^I))+C[2]+606105819&4294967295,S=M+(E<<17&4294967295|E>>>15),E=I+(_^S&(M^_))+C[3]+3250441966&4294967295,I=S+(E<<22&4294967295|E>>>10),E=_+(M^I&(S^M))+C[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=M+(S^_&(I^S))+C[5]+1200080426&4294967295,M=_+(E<<12&4294967295|E>>>20),E=S+(I^M&(_^I))+C[6]+2821735955&4294967295,S=M+(E<<17&4294967295|E>>>15),E=I+(_^S&(M^_))+C[7]+4249261313&4294967295,I=S+(E<<22&4294967295|E>>>10),E=_+(M^I&(S^M))+C[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=M+(S^_&(I^S))+C[9]+2336552879&4294967295,M=_+(E<<12&4294967295|E>>>20),E=S+(I^M&(_^I))+C[10]+4294925233&4294967295,S=M+(E<<17&4294967295|E>>>15),E=I+(_^S&(M^_))+C[11]+2304563134&4294967295,I=S+(E<<22&4294967295|E>>>10),E=_+(M^I&(S^M))+C[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=M+(S^_&(I^S))+C[13]+4254626195&4294967295,M=_+(E<<12&4294967295|E>>>20),E=S+(I^M&(_^I))+C[14]+2792965006&4294967295,S=M+(E<<17&4294967295|E>>>15),E=I+(_^S&(M^_))+C[15]+1236535329&4294967295,I=S+(E<<22&4294967295|E>>>10),E=_+(S^M&(I^S))+C[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=M+(I^S&(_^I))+C[6]+3225465664&4294967295,M=_+(E<<9&4294967295|E>>>23),E=S+(_^I&(M^_))+C[11]+643717713&4294967295,S=M+(E<<14&4294967295|E>>>18),E=I+(M^_&(S^M))+C[0]+3921069994&4294967295,I=S+(E<<20&4294967295|E>>>12),E=_+(S^M&(I^S))+C[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=M+(I^S&(_^I))+C[10]+38016083&4294967295,M=_+(E<<9&4294967295|E>>>23),E=S+(_^I&(M^_))+C[15]+3634488961&4294967295,S=M+(E<<14&4294967295|E>>>18),E=I+(M^_&(S^M))+C[4]+3889429448&4294967295,I=S+(E<<20&4294967295|E>>>12),E=_+(S^M&(I^S))+C[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=M+(I^S&(_^I))+C[14]+3275163606&4294967295,M=_+(E<<9&4294967295|E>>>23),E=S+(_^I&(M^_))+C[3]+4107603335&4294967295,S=M+(E<<14&4294967295|E>>>18),E=I+(M^_&(S^M))+C[8]+1163531501&4294967295,I=S+(E<<20&4294967295|E>>>12),E=_+(S^M&(I^S))+C[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=M+(I^S&(_^I))+C[2]+4243563512&4294967295,M=_+(E<<9&4294967295|E>>>23),E=S+(_^I&(M^_))+C[7]+1735328473&4294967295,S=M+(E<<14&4294967295|E>>>18),E=I+(M^_&(S^M))+C[12]+2368359562&4294967295,I=S+(E<<20&4294967295|E>>>12),E=_+(I^S^M)+C[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=M+(_^I^S)+C[8]+2272392833&4294967295,M=_+(E<<11&4294967295|E>>>21),E=S+(M^_^I)+C[11]+1839030562&4294967295,S=M+(E<<16&4294967295|E>>>16),E=I+(S^M^_)+C[14]+4259657740&4294967295,I=S+(E<<23&4294967295|E>>>9),E=_+(I^S^M)+C[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=M+(_^I^S)+C[4]+1272893353&4294967295,M=_+(E<<11&4294967295|E>>>21),E=S+(M^_^I)+C[7]+4139469664&4294967295,S=M+(E<<16&4294967295|E>>>16),E=I+(S^M^_)+C[10]+3200236656&4294967295,I=S+(E<<23&4294967295|E>>>9),E=_+(I^S^M)+C[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=M+(_^I^S)+C[0]+3936430074&4294967295,M=_+(E<<11&4294967295|E>>>21),E=S+(M^_^I)+C[3]+3572445317&4294967295,S=M+(E<<16&4294967295|E>>>16),E=I+(S^M^_)+C[6]+76029189&4294967295,I=S+(E<<23&4294967295|E>>>9),E=_+(I^S^M)+C[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=M+(_^I^S)+C[12]+3873151461&4294967295,M=_+(E<<11&4294967295|E>>>21),E=S+(M^_^I)+C[15]+530742520&4294967295,S=M+(E<<16&4294967295|E>>>16),E=I+(S^M^_)+C[2]+3299628645&4294967295,I=S+(E<<23&4294967295|E>>>9),E=_+(S^(I|~M))+C[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=M+(I^(_|~S))+C[7]+1126891415&4294967295,M=_+(E<<10&4294967295|E>>>22),E=S+(_^(M|~I))+C[14]+2878612391&4294967295,S=M+(E<<15&4294967295|E>>>17),E=I+(M^(S|~_))+C[5]+4237533241&4294967295,I=S+(E<<21&4294967295|E>>>11),E=_+(S^(I|~M))+C[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=M+(I^(_|~S))+C[3]+2399980690&4294967295,M=_+(E<<10&4294967295|E>>>22),E=S+(_^(M|~I))+C[10]+4293915773&4294967295,S=M+(E<<15&4294967295|E>>>17),E=I+(M^(S|~_))+C[1]+2240044497&4294967295,I=S+(E<<21&4294967295|E>>>11),E=_+(S^(I|~M))+C[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=M+(I^(_|~S))+C[15]+4264355552&4294967295,M=_+(E<<10&4294967295|E>>>22),E=S+(_^(M|~I))+C[6]+2734768916&4294967295,S=M+(E<<15&4294967295|E>>>17),E=I+(M^(S|~_))+C[13]+1309151649&4294967295,I=S+(E<<21&4294967295|E>>>11),E=_+(S^(I|~M))+C[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=M+(I^(_|~S))+C[11]+3174756917&4294967295,M=_+(E<<10&4294967295|E>>>22),E=S+(_^(M|~I))+C[2]+718787259&4294967295,S=M+(E<<15&4294967295|E>>>17),E=I+(M^(S|~_))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,C=this.B,S=this.h,M=0;M<_;){if(S==0)for(;M<=I;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<_;)if(C[S++]=D.charCodeAt(M++),S==this.blockSize){i(this,C),S=0;break}}else for(;M<_;)if(C[S++]=D[M++],S==this.blockSize){i(this,C),S=0;break}}this.h=S,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var C=0;32>C;C+=8)D[I++]=this.g[_]>>>C&255;return D};function o(D,_){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],C=!0,S=D.length-1;0<=S;S--){var M=D[S]|0;C&&M==_||(I[S]=M,C=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return P(l(-D));for(var _=[],I=1,C=0;D>=I;C++)_[C]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return P(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),C=p,S=0;S<D.length;S+=8){var M=Math.min(8,D.length-S),E=parseInt(D.substring(S,S+M),_);8>M?(M=l(Math.pow(_,M)),C=C.j(M).add(l(E))):(C=C.j(I),C=C.add(l(E)))}return C}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-P(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var C=this.i(I);D+=(0<=C?C:4294967296+C)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(O(this))return"-"+P(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,C="";;){var S=me(I,_).g;I=j(I,S.j(_));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=S,T(I))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=j(this,D),O(D)?-1:T(D)?0:1};function P(D){for(var _=D.g.length,I=[],C=0;C<_;C++)I[C]=~D.g[C];return new s(I,~D.h).add(g)}n.abs=function(){return O(this)?P(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],C=0,S=0;S<=_;S++){var M=C+(this.i(S)&65535)+(D.i(S)&65535),E=(M>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);C=E>>>16,M&=65535,E&=65535,I[S]=E<<16|M}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(D,_){return D.add(P(_))}n.j=function(D){if(T(this)||T(D))return p;if(O(this))return O(D)?P(this).j(P(D)):P(P(this).j(D));if(O(D))return P(this.j(P(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],C=0;C<2*_;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<D.g.length;S++){var M=this.i(C)>>>16,E=this.i(C)&65535,Er=D.i(S)>>>16,nc=D.i(S)&65535;I[2*C+2*S]+=E*nc,Q(I,2*C+2*S),I[2*C+2*S+1]+=M*nc,Q(I,2*C+2*S+1),I[2*C+2*S+1]+=E*Er,Q(I,2*C+2*S+1),I[2*C+2*S+2]+=M*Er,Q(I,2*C+2*S+2)}for(C=0;C<_;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=_;C<2*_;C++)I[C]=0;return new s(I,0)};function Q(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function W(D,_){this.g=D,this.h=_}function me(D,_){if(T(_))throw Error("division by zero");if(T(D))return new W(p,p);if(O(D))return _=me(P(D),_),new W(P(_.g),P(_.h));if(O(_))return _=me(D,P(_)),new W(P(_.g),_.h);if(30<D.g.length){if(O(D)||O(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,C=_;0>=C.l(D);)I=tt(I),C=tt(C);var S=Ie(I,1),M=Ie(C,1);for(C=Ie(C,2),I=Ie(I,2);!T(C);){var E=M.add(C);0>=E.l(D)&&(S=S.add(I),M=E),C=Ie(C,1),I=Ie(I,1)}return _=j(D,S.j(_)),new W(S,_)}for(S=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=l(I),E=M.j(_);O(E)||0<E.l(D);)I-=C,M=l(I),E=M.j(_);T(M)&&(M=g),S=S.add(M),D=j(D,E)}return new W(S,D)}n.A=function(D){return me(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)&D.i(C);return new s(I,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)|D.i(C);return new s(I,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)^D.i(C);return new s(I,this.h^D.h)};function tt(D){for(var _=D.g.length+1,I=[],C=0;C<_;C++)I[C]=D.i(C)<<1|D.i(C-1)>>>31;return new s(I,D.h)}function Ie(D,_){var I=_>>5;_%=32;for(var C=D.g.length-I,S=[],M=0;M<C;M++)S[M]=0<_?D.i(M+I)>>>_|D.i(M+I+1)<<32-_:D.i(M+I);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=fP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Hr=fP.Integer=s}).apply(typeof hP<"u"?hP:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var dI,B4,wa,hI,ol,_p,fI,pI,gI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,N){for(var U=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)U[Pe-2]=arguments[Pe];return d.prototype[A].apply(m,U)}}function O(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,N=m.length||0;c.length=A+N;for(let U=0;U<N;U++)c[A+U]=m[U]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var tt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Ie(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function S(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function E(){var c=zg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Er{constructor(){this.h=this.g=null}add(d,f){let m=nc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var nc=new j(()=>new Dx,c=>c.reset());class Dx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let rc,ic=!1,zg=new Er,ZC=()=>{let c=a.Promise.resolve(void 0);rc=()=>{c.then(Sx)}};var Sx=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){M(f)}var d=nc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ic=!1};function Zr(){this.s=this.s,this.C=this.C}Zr.prototype.s=!1,Zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var Ax=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function oc(c,d){if(Ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(tt){e:{try{me(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Mx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oc.aa.h.call(this)}}T(oc,Ct);var Mx={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),Rx=0;function Px(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++Rx,this.da=this.fa=!1}function jl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ul(c){this.src=c,this.g={},this.h=0}Ul.prototype.add=function(c,d,f,m,A){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var U=Wg(c,d,m,A);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new Px(d,this.src,N,!!m,A),d.fa=f,c.push(d)),d};function Gg(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=A)&&Array.prototype.splice.call(m,A,1),N&&(jl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Wg(c,d,f,m){for(var A=0;A<c.length;++A){var N=c[A];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return A}return-1}var Kg="closure_lm_"+(1e6*Math.random()|0),Qg={};function XC(c,d,f,m,A){if(m&&m.once)return t0(c,d,f,m,A);if(Array.isArray(d)){for(var N=0;N<d.length;N++)XC(c,d[N],f,m,A);return null}return f=Xg(f),c&&c[sc]?c.K(d,f,l(m)?!!m.capture:!!m,A):e0(c,d,f,!1,m,A)}function e0(c,d,f,m,A,N){if(!d)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,Pe=Jg(c);if(Pe||(c[Kg]=Pe=new Ul(c)),f=Pe.add(d,f,m,U,N),f.proxy)return f;if(m=Nx(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Ax||(A=U),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(r0(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Nx(){function c(f){return d.call(c.src,c.listener,f)}let d=Ox;return c}function t0(c,d,f,m,A){if(Array.isArray(d)){for(var N=0;N<d.length;N++)t0(c,d[N],f,m,A);return null}return f=Xg(f),c&&c[sc]?c.L(d,f,l(m)?!!m.capture:!!m,A):e0(c,d,f,!0,m,A)}function n0(c,d,f,m,A){if(Array.isArray(d))for(var N=0;N<d.length;N++)n0(c,d[N],f,m,A);else m=l(m)?!!m.capture:!!m,f=Xg(f),c&&c[sc]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Wg(N,f,m,A),-1<f&&(jl(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Jg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Wg(d,f,m,A)),(f=-1<c?d[c]:null)&&Yg(f))}function Yg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[sc])Gg(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(r0(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Jg(d))?(Gg(f,c),f.h==0&&(f.src=null,d[Kg]=null)):jl(c)}}}function r0(c){return c in Qg?Qg[c]:Qg[c]="on"+c}function Ox(c,d){if(c.da)c=!0;else{d=new oc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Yg(c),c=f.call(m,d)}return c}function Jg(c){return c=c[Kg],c instanceof Ul?c:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xg(c){return typeof c=="function"?c:(c[Zg]||(c[Zg]=function(d){return c.handleEvent(d)}),c[Zg])}function bt(){Zr.call(this),this.i=new Ul(this),this.M=this,this.F=null}T(bt,Zr),bt.prototype[sc]=!0,bt.prototype.removeEventListener=function(c,d,f,m){n0(this,c,d,f,m)};function kt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ct(d,c);else if(d instanceof Ct)d.target=d.target||c;else{var A=d;d=new Ct(m,c),C(d,A)}if(A=!0,f)for(var N=f.length-1;0<=N;N--){var U=d.g=f[N];A=Bl(U,m,!0,d)&&A}if(U=d.g=c,A=Bl(U,m,!0,d)&&A,A=Bl(U,m,!1,d)&&A,f)for(N=0;N<f.length;N++)U=d.g=f[N],A=Bl(U,m,!1,d)&&A}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)jl(f[m]);delete c.g[d],c.h--}}this.F=null},bt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},bt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Bl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,N=0;N<d.length;++N){var U=d[N];if(U&&!U.da&&U.capture==f){var Pe=U.listener,_t=U.ha||U.src;U.fa&&Gg(c.i,U),A=Pe.call(_t,m)!==!1&&A}}return A&&!m.defaultPrevented}function i0(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function o0(c){c.g=i0(()=>{c.g=null,c.i&&(c.i=!1,o0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class xx extends Zr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:o0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ac(c){Zr.call(this),this.h=c,this.g={}}T(ac,Zr);var s0=[];function a0(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Yg(d)},c),c.g={}}ac.prototype.N=function(){ac.aa.N.call(this),a0(this)},ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var em=a.JSON.stringify,kx=a.JSON.parse,Fx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tm(){}tm.prototype.h=null;function c0(c){return c.h||(c.h=c.i())}function u0(){}var cc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nm(){Ct.call(this,"d")}T(nm,Ct);function rm(){Ct.call(this,"c")}T(rm,Ct);var eo={},l0=null;function $l(){return l0=l0||new bt}eo.La="serverreachability";function d0(c){Ct.call(this,eo.La,c)}T(d0,Ct);function uc(c){let d=$l();kt(d,new d0(d))}eo.STAT_EVENT="statevent";function h0(c,d){Ct.call(this,eo.STAT_EVENT,c),this.stat=d}T(h0,Ct);function Ft(c){let d=$l();kt(d,new h0(d,c))}eo.Ma="timingevent";function f0(c,d){Ct.call(this,eo.Ma,c),this.size=d}T(f0,Ct);function lc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function dc(){this.g=!0}dc.prototype.xa=function(){this.g=!1};function Lx(c,d,f,m,A,N){c.info(function(){if(c.g)if(N)for(var U="",Pe=N.split("&"),_t=0;_t<Pe.length;_t++){var Ee=Pe[_t].split("=");if(1<Ee.length){var Tt=Ee[0];Ee=Ee[1];var Dt=Tt.split("_");U=2<=Dt.length&&Dt[1]=="type"?U+(Tt+"="+Ee+"&"):U+(Tt+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+U})}function Vx(c,d,f,m,A,N,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+N+" "+U})}function gs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ux(c,f)+(m?" "+m:"")})}function jx(c,d){c.info(function(){return"TIMEOUT: "+d})}dc.prototype.info=function(){};function Ux(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return em(f)}catch{return d}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},p0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},im;function ql(){}T(ql,tm),ql.prototype.g=function(){return new XMLHttpRequest},ql.prototype.i=function(){return{}},im=new ql;function Xr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ac(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new g0}function g0(){this.i=null,this.g="",this.h=!1}var m0={},om={};function sm(c,d,f){c.L=1,c.v=Kl(Ir(d)),c.m=f,c.P=!0,y0(c,null)}function y0(c,d){c.F=Date.now(),zl(c),c.A=Ir(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),P0(f.i,"t",m),c.C=0,f=c.j.J,c.h=new g0,c.g=Q0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new xx(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(s0[0]=A.toString()),A=s0);for(var N=0;N<A.length;N++){var U=XC(f,A[N],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),uc(),Lx(c.i,c.u,c.A,c.l,c.R,c.m)}Xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&wr(c)==3?d.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{let Dt=wr(this.g);var d=this.g.Ba();let vs=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||V0(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=vs?uc(3):uc(2)),am(this);var f=this.g.Z();this.X=f;t:if(v0(this)){var m=V0(this.g);c="";var A=m.length,N=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),hc(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,Vx(this.i,this.u,this.A,this.l,this.R,Dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,_t=this.g;if((Pe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pe)){var Ee=Pe;break t}}Ee=null}if(f=Ee)gs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cm(this,f);else{this.o=!1,this.s=3,Ft(12),to(this),hc(this);break e}}if(this.P){f=!0;let An;for(;!this.J&&this.C<U.length;)if(An=Bx(this,U),An==om){Dt==4&&(this.s=4,Ft(14),f=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(An==m0){this.s=4,Ft(15),gs(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else gs(this.i,this.l,An,null),cm(this,An);if(v0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||U.length!=0||this.h.h||(this.s=1,Ft(16),f=!1),this.o=this.o&&f,!f)gs(this.i,this.l,U,"[Invalid Chunked Response]"),to(this),hc(this);else if(0<U.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),pm(Tt),Tt.M=!0,Ft(11))}}else gs(this.i,this.l,U,null),cm(this,U);Dt==4&&to(this),this.o&&!this.J&&(Dt==4?z0(this.j,this):(this.o=!1,zl(this)))}else ik(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),to(this),hc(this)}}}catch{}finally{}};function v0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?om:(f=Number(d.substring(f,m)),isNaN(f)?m0:(m+=1,m+f>d.length?om:(d=d.slice(m,m+f),c.C=m+f,d)))}Xr.prototype.cancel=function(){this.J=!0,to(this)};function zl(c){c.S=Date.now()+c.I,_0(c,c.I)}function _0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lc(g(c.ba,c),d)}function am(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(jx(this.i,this.A),this.L!=2&&(uc(),Ft(17)),to(this),this.s=2,hc(this)):_0(this,this.S-c)};function hc(c){c.j.G==0||c.J||z0(c.j,c)}function to(c){am(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,a0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function cm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||um(f.h,c))){if(!c.K&&um(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xl(f),Jl(f);else break e;fm(f),Ft(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=lc(g(f.Za,f),6e3));if(1>=w0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ro(f,11)}else if((c.K||f.g==c)&&Xl(f),!Q(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ee=A[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let Tt=Ee[3];Tt!=null&&(f.la=Tt,f.j.info("VER="+f.la));let Dt=Ee[4];Dt!=null&&(f.Aa=Dt,f.j.info("SVER="+f.Aa));let vs=Ee[5];vs!=null&&typeof vs=="number"&&0<vs&&(m=1.5*vs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let An=c.g;if(An){let td=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(td){var N=m.h;N.g||td.indexOf("spdy")==-1&&td.indexOf("quic")==-1&&td.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(lm(N,N.h),N.h=null))}if(m.D){let gm=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;gm&&(m.ya=gm,xe(m.I,m.D,gm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=K0(m,m.J?m.ia:null,m.W),U.K){C0(m.h,U);var Pe=U,_t=m.L;_t&&(Pe.I=_t),Pe.B&&(am(Pe),zl(Pe)),m.g=U}else H0(m);0<f.i.length&&Zl(f)}else Ee[0]!="stop"&&Ee[0]!="close"||ro(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ro(f,7):hm(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}uc(4)}catch{}}var $x=class{constructor(c,d){this.g=c,this.map=d}};function E0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function w0(c){return c.h?1:c.g?c.g.size:0}function um(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lm(c,d){c.g?c.g.add(d):c.h=d}function C0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}E0.prototype.cancel=function(){if(this.i=b0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function b0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return O(c.i)}function Hx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function qx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function T0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=qx(c),m=Hx(c),A=m.length,N=0;N<A;N++)d.call(void 0,m[N],f&&f[N],c)}var D0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var N=c[f].substring(0,m);A=c[f].substring(m+1)}else N=c[f];d(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function no(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof no){this.h=c.h,Gl(this,c.j),this.o=c.o,this.g=c.g,Wl(this,c.s),this.l=c.l;var d=c.i,f=new gc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),S0(this,f),this.m=c.m}else c&&(d=String(c).match(D0))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=fc(d[2]||""),this.g=fc(d[3]||"",!0),Wl(this,d[4]),this.l=fc(d[5]||"",!0),S0(this,d[6]||"",!0),this.m=fc(d[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}no.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pc(d,A0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pc(d,A0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(pc(f,f.charAt(0)=="/"?Kx:Wx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",pc(f,Yx)),c.join("")};function Ir(c){return new no(c)}function Gl(c,d,f){c.j=f?fc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function S0(c,d,f){d instanceof gc?(c.i=d,Jx(c.i,c.h)):(f||(d=pc(d,Qx)),c.i=new gc(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function Kl(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Gx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var A0=/[#\/\?@]/g,Wx=/[#\?:]/g,Kx=/[#\?]/g,Qx=/[#\?@]/g,Yx=/#/g;function gc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ei(c){c.g||(c.g=new Map,c.h=0,c.i&&zx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=gc.prototype,n.add=function(c,d){ei(this),this.i=null,c=ms(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function M0(c,d){ei(c),d=ms(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function R0(c,d){return ei(c),d=ms(c,d),c.g.has(d)}n.forEach=function(c,d){ei(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){ei(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let N=0;N<A.length;N++)f.push(d[m])}return f},n.V=function(c){ei(this);let d=[];if(typeof c=="string")R0(this,c)&&(d=d.concat(this.g.get(ms(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return ei(this),this.i=null,c=ms(this,c),R0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function P0(c,d,f){M0(c,d),0<f.length&&(c.i=null,c.g.set(ms(c,d),O(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var A=N;U[m]!==""&&(A+="="+encodeURIComponent(String(U[m]))),c.push(A)}}return this.i=c.join("&")};function ms(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Jx(c,d){d&&!c.j&&(ei(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(M0(this,m),P0(this,A,f))},c)),c.j=d}function Zx(c,d){let f=new dc;if(a.Image){let m=new Image;m.onload=y(ti,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(ti,f,"TestLoadImage: error",!1,d,m),m.onabort=y(ti,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(ti,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Xx(c,d){let f=new dc,m=new AbortController,A=setTimeout(()=>{m.abort(),ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(A),N.ok?ti(f,"TestPingServer: ok",!0,d):ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),ti(f,"TestPingServer: error",!1,d)})}function ti(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function ek(){this.g=new Fx}function tk(c,d,f){let m=f||"";try{T0(c,function(A,N){let U=A;l(A)&&(U=em(A)),d.push(m+N+"="+encodeURIComponent(U))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function mc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(mc,tm),mc.prototype.g=function(){return new Ql(this.l,this.j)},mc.prototype.i=function(c){return function(){return c}}({});function Ql(c,d){bt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ql,bt),n=Ql.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,vc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function N0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?yc(this):vc(this),this.readyState==3&&N0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,yc(this))},n.Qa=function(c){this.g&&(this.response=c,yc(this))},n.ga=function(){this.g&&yc(this)};function yc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function vc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function O0(c){let d="";return Ie(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function dm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=O0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Be(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Be,bt);var nk=/^https?$/i,rk=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():im.g(),this.v=this.o?c0(this.o):c0(im),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){x0(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rk,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of f)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{L0(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){x0(this,N)}};function x0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,k0(c),Yl(c)}function k0(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),Yl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?F0(this):this.bb())},n.bb=function(){F0(this)};function F0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)i0(c.Ea,0,c);else if(kt(c,"readystatechange"),wr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var A=String(c.D).match(D0)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!nk.test(A?A.toLowerCase():"")}f=m}if(f)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var N=2<wr(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",k0(c)}}finally{Yl(c)}}}}function Yl(c,d){if(c.g){L0(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||kt(c,"ready");try{f.onreadystatechange=m}catch{}}}function L0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),kx(d)}};function V0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(c){let d={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Q(c[m]))continue;var f=S(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[A]||[];d[A]=N,N.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _c(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function j0(c){this.Aa=0,this.i=[],this.j=new dc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_c("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_c("baseRetryDelayMs",5e3,c),this.cb=_c("retryDelaySeedMs",1e4,c),this.Wa=_c("forwardChannelMaxRetries",2,c),this.wa=_c("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new E0(c&&c.concurrentRequestLimit),this.Da=new ek,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=j0.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Ft(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=K0(this,null,this.W),Zl(this)};function hm(c){if(U0(c),c.G==3){var d=c.U++,f=Ir(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),Ec(c,f),d=new Xr(c,c.j,d),d.L=2,d.v=Kl(Ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Q0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zl(d)}W0(c)}function Jl(c){c.g&&(pm(c),c.g.cancel(),c.g=null)}function U0(c){Jl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zl(c){if(!I0(c.h)&&!c.s){c.s=!0;var d=c.Ga;rc||ZC(),ic||(rc(),ic=!0),zg.add(d,c),c.B=0}}function ok(c,d){return w0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lc(g(c.Ga,c,d),G0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Xr(this,this.j,c),N=this.o;if(this.S&&(N?(N=_(N),C(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=$0(this,A,d),f=Ir(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),Ec(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(O0(N)))+"&"+d:this.m&&dm(f,this.m,N)),lm(this.h,A),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),A.T=!0,sm(A,f,null)):sm(A,f,d),this.G=2}}else this.G==3&&(c?B0(this,c):this.i.length==0||I0(this.h)||B0(this))};function B0(c,d){var f;d?f=d.l:f=c.U++;let m=Ir(c.I);xe(m,"SID",c.K),xe(m,"RID",f),xe(m,"AID",c.T),Ec(c,m),c.m&&c.o&&dm(m,c.m,c.o),f=new Xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=$0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lm(c.h,f),sm(f,m,d)}function Ec(c,d){c.H&&Ie(c.H,function(f,m){xe(d,m,f)}),c.l&&T0({},function(f,m){xe(d,m,f)})}function $0(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let N=-1;for(;;){let U=["count="+f];N==-1?0<f?(N=A[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let Pe=!0;for(let _t=0;_t<f;_t++){let Ee=A[_t].g,Tt=A[_t].map;if(Ee-=N,0>Ee)N=Math.max(0,A[_t].g-100),Pe=!1;else try{tk(Tt,U,"req"+Ee+"_")}catch{m&&m(Tt)}}if(Pe){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function H0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;rc||ZC(),ic||(rc(),ic=!0),zg.add(d,c),c.v=0}}function fm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lc(g(c.Fa,c),G0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Jl(this),q0(this))};function pm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function q0(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ir(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Ec(c,d),c.m&&c.o&&dm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Kl(Ir(d)),f.m=null,f.P=!0,y0(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Jl(this),fm(this),Ft(19))};function Xl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function z0(c,d){var f=null;if(c.g==d){Xl(c),pm(c),c.g=null;var m=2}else if(um(c.h,d))f=d.D,C0(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=$l(),kt(m,new f0(m,f)),Zl(c)}else H0(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&ok(c,d)||m==2&&fm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:ro(c,5);break;case 4:ro(c,10);break;case 3:ro(c,6);break;default:ro(c,2)}}}function G0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ro(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new no(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(m,"https"),Kl(m),A?Zx(m.toString(),f):Xx(m.toString(),f)}else Ft(2);c.G=0,c.l&&c.l.sa(d),W0(c),U0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function W0(c){if(c.G=0,c.ka=[],c.l){let d=b0(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function K0(c,d,f){var m=f instanceof no?Ir(f):new no(f);if(m.g!="")d&&(m.g=d+"."+m.g),Wl(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var N=new no(null);m&&Gl(N,m),d&&(N.g=d),A&&Wl(N,A),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&xe(m,f,d),xe(m,"VER",c.la),Ec(c,m),m}function Q0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new mc({eb:f})):new Be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y0(){}n=Y0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ed(){}ed.prototype.g=function(c,d){return new nn(c,d)};function nn(c,d){bt.call(this),this.g=new j0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ys(this)}T(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){hm(this.g)},nn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=em(c),c=f);d.i.push(new $x(d.Ya++,c)),d.G==3&&Zl(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,hm(this.g),delete this.g,nn.aa.N.call(this)};function J0(c){nm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(J0,nm);function Z0(){rm.call(this),this.status=1}T(Z0,rm);function ys(c){this.g=c}T(ys,Y0),ys.prototype.ua=function(){kt(this.g,"a")},ys.prototype.ta=function(c){kt(this.g,new J0(c))},ys.prototype.sa=function(c){kt(this.g,new Z0)},ys.prototype.ra=function(){kt(this.g,"b")},ed.prototype.createWebChannel=ed.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,gI=qr.createWebChannelTransport=function(){return new ed},pI=qr.getStatEventTarget=function(){return $l()},fI=qr.Event=eo,_p=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,ol=qr.ErrorCode=Hl,p0.COMPLETE="complete",hI=qr.EventType=p0,u0.EventType=cc,cc.OPEN="a",cc.CLOSE="b",cc.ERROR="c",cc.MESSAGE="d",bt.prototype.listen=bt.prototype.K,wa=qr.WebChannel=u0,B4=qr.FetchXmlHttpFactory=mc,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,dI=qr.XhrIo=Be}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var pP="@firebase/firestore",gP="4.8.0";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var za="11.10.0";var as=new ur("@firebase/firestore");function Ca(){return as.logLevel}function z(n,...e){if(as.logLevel<=fe.DEBUG){let t=e.map(oC);as.debug(`Firestore (${za}): ${n}`,...t)}}function Wr(n,...e){if(as.logLevel<=fe.ERROR){let t=e.map(oC);as.error(`Firestore (${za}): ${n}`,...t)}}function Gi(n,...e){if(as.logLevel<=fe.WARN){let t=e.map(oC);as.warn(`Firestore (${za}): ${n}`,...t)}}function oC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cN(n,r,t)}function cN(n,e,t){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||cN(e,i,r)}function ie(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Dp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},EI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}},II=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wI=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Dp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new yt(e)}},CI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},bI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},TI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function uN(){return new TextEncoder}var dl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=$4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function le(n,e){return n<e?-1:n>e?1:0}function DI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=uN(),s=H4(o.encode(mP(n,t)),o.encode(mP(e,t)));return s!==0?s:le(r,i)}}t+=r>65535?2:1}return le(n.length,e.length)}function mP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function H4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return le(n[t],e[t]);return le(n.length,e.length)}function Pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var yP="__name__",Ap=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&X(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return le(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):DI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}},je=class n extends Ap{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},q4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class n extends Ap{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return q4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yP}static keyField(){return new n([yP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};function lN(n,e,t){if(!t)throw new q(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z4(n,e,t,r){if(e===!0&&r===!0)throw new q(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vP(n){if(!J.isDocumentKey(n))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _P(n){if(J.isDocumentKey(n))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X(12329,{type:typeof n})}function Bi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=og(n);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ct(n,e){let t={typeString:n};return e&&(t.value=e),t}function Cl(n,e){if(!dN(n))throw new q(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(k.INVALID_ARGUMENT,t);return!0}var EP=-62135596800,IP=1e6,ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EP)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IP}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-EP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:ct("string",ut._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hl=-1,SI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};SI.UNKNOWN_ID=-1;function G4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new cs(i,J.empty(),e)}function W4(n){return new cs(n.readTime,n.key,hl)}var cs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),J.empty(),hl)}static max(){return new n(se.max(),J.empty(),hl)}};function K4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var Q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ga(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==Q4)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Y4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wa(n){return n.name==="IndexedDbTransactionError"}var sC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),aC=-1;function sg(n){return n==null}function fl(n){return n===0&&1/n==-1/0}function J4(n){return typeof n=="number"&&Number.isInteger(n)&&!fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hN="";function Z4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wP(e)),e=X4(n.get(t),e);return wP(e)}function X4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case hN:t+="";break;default:t+=o}}return t}function wP(n){return n+hN+""}var eq="remoteDocuments",fN="owner";var pN="mutationQueues";var gN="mutations";var mN="documentMutations",tq="remoteDocumentsV14";var yN="remoteDocumentGlobal";var vN="targets";var _N="targetDocuments";var EN="targetGlobal",IN="collectionParents";var wN="clientMetadata";var CN="bundles";var bN="namedQueries";var nq="indexConfiguration";var rq="indexState";var iq="indexEntries";var TN="documentOverlays";var oq="globals";var sq=[pN,gN,mN,eq,vN,fN,EN,_N,wN,yN,IN,CN,bN],vce=[...sq,TN],aq=[pN,gN,mN,tq,vN,fN,EN,_N,wN,yN,IN,CN,bN,TN],cq=aq,uq=[...cq,nq,rq,iq];var _ce=[...uq,oq];function CP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Qe=class n{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sa(this.root,e,this.comparator,!0)}},Sa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}};fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class n{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mp(this.data.getIterator())}getIteratorFrom(e){return new Mp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Mp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class n{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new n([])}unionWith(e){let t=new vt(yn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Rp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=lq.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}var SN="server_timestamp",AN="__type__",MN="__previous_value__",RN="__local_write_time__";function cC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AN])===null||t===void 0?void 0:t.stringValue)===SN}function ag(n){let e=n.mapValue.fields[MN];return cC(e)?ag(e):e}function pl(n){let e=Kr(n.mapValue.fields[RN].timestampValue);return new ut(e.seconds,e.nanos)}var MI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Pp="(default)",Np=class n{constructor(e,t){this.projectId=e,this.database=t||Pp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var uC="__type__",PN="__max__",Ep={mapValue:{fields:{__type__:{stringValue:PN}}}},lC="__vector__",Na="value";function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cC(n)?4:ON(n)?9007199254740991:NN(n)?10:11:X(28295,{value:n})}function mr(n,e){if(n===e)return!0;let t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?fl(s)===fl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Pa(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CP(s)!==CP(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!mr(s[u],a[u])))return!1;return!0}(n,e);default:return X(52216,{left:n})}}function gl(n,e){return(n.values||[]).find(t=>mr(t,e))!==void 0}function Oa(n,e){if(n===e)return 0;let t=Wi(n),r=Wi(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return bP(n.timestampValue,e.timestampValue);case 4:return bP(pl(n),pl(e));case 5:return DI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Qr(o),u=Qr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=le(Ve(o.latitude),Ve(s.latitude));return a!==0?a:le(Ve(o.longitude),Ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Na])===null||a===void 0?void 0:a.arrayValue,T=(u=g[Na])===null||u===void 0?void 0:u.arrayValue,O=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:TP(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ep.mapValue&&s===Ep.mapValue)return 0;if(o===Ep.mapValue)return 1;if(s===Ep.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=DI(u[p],h[p]);if(g!==0)return g;let y=Oa(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X(23264,{le:t})}}function bP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=Kr(n),r=Kr(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function TP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Oa(t[i],r[i]);if(o)return o}return le(t.length,r.length)}function xa(n){return RI(n)}function RI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=RI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${RI(t.fields[s])}`;return i+"}"}(n.mapValue):X(61005,{value:n})}function Cp(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ag(n);return e?16+Cp(e):16;case 5:return 2*n.stringValue.length;case 6:return Qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ji(r.fields,(o,s)=>{i+=o.length+Cp(s)}),i}(n.mapValue);default:throw X(13486,{value:n})}}function DP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PI(n){return!!n&&"integerValue"in n}function dC(n){return!!n&&"arrayValue"in n}function SP(n){return!!n&&"nullValue"in n}function AP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bp(n){return!!n&&"mapValue"in n}function NN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uC])===null||t===void 0?void 0:t.stringValue)===lC}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ON(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}var Ice={mapValue:{fields:{[uC]:{stringValue:lC},[Na]:{arrayValue:{}}}}};var mn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=al(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());bp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(al(this.value))}};function xN(n){let e=[];return Ji(n.fields,(t,r)=>{let i=new yn([t]);if(bp(r)){let o=xN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var Hn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ka=class{constructor(e,t){this.position=e,this.inclusive=t}};function MP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Oa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mr(n.position[t],e.position[t]))return!1;return!0}var Fa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Op=class{},at=class n extends Op{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OI(e,t,r):t==="array-contains"?new FI(e,r):t==="in"?new LI(e,r):t==="not-in"?new VI(e,r):t==="array-contains-any"?new jI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xI(e,r):new kI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oa(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qn=class n extends Op{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return kN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function kN(n){return n.op==="and"}function FN(n){return hq(n)&&kN(n)}function hq(n){for(let e of n.filters)if(e instanceof qn)return!1;return!0}function NI(n){if(n instanceof at)return n.field.canonicalString()+n.op.toString()+xa(n.value);if(FN(n))return n.filters.map(e=>NI(e)).join(",");{let e=n.filters.map(t=>NI(t)).join(",");return`${n.op}(${e})`}}function LN(n,e){return n instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(n,e):n instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&LN(s,i.filters[a]),!0):!1}(n,e):void X(19439)}function VN(n){return n instanceof at?function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`}(n):n instanceof qn?function(t){return t.op.toString()+" {"+t.getFilters().map(VN).join(" ,")+"}"}(n):"Filter"}var OI=class extends at{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},xI=class extends at{constructor(e,t){super(e,"in",t),this.keys=jN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},kI=class extends at{constructor(e,t){super(e,"not-in",t),this.keys=jN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var FI=class extends at{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return dC(t)&&gl(t.arrayValue,this.value)}},LI=class extends at{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gl(this.value.arrayValue,t)}},VI=class extends at{constructor(e,t){super(e,"not-in",t)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gl(this.value.arrayValue,t)}},jI=class extends at{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!dC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gl(this.value.arrayValue,r))}};var UI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function PP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new UI(n,e,t,r,i,o,s)}function hC(n){let e=ie(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>NI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xa(r)).join(",")),e.Pe=t}return e.Pe}function fC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RP(n.startAt,e.startAt)&&RP(n.endAt,e.endAt)}function BI(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var us=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function fq(n,e,t,r,i,o,s,a){return new us(n,e,t,r,i,o,s,a)}function pC(n){return new us(n)}function NP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UN(n){return n.collectionGroup!==null}function cl(n){let e=ie(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(yn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Fa(o,r))}),t.has(yn.keyField().canonicalString())||e.Te.push(new Fa(yn.keyField(),r))}return e.Te}function pr(n){let e=ie(n);return e.Ie||(e.Ie=pq(e,cl(n))),e.Ie}function pq(n,e){if(n.limitType==="F")return PP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Fa(i.field,o)});let t=n.endAt?new ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ka(n.startAt.position,n.startAt.inclusive):null;return PP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $I(n,e){let t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function HI(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return fC(pr(n),pr(e))&&n.limitType===e.limitType}function BN(n){return`${hC(pr(n))}|lt:${n.limitType}`}function ba(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VN(i)).join(", ")}]`),sg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>xa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>xa(i)).join(",")),`Target(${r})`}(pr(n))}; limitType=${n.limitType})`}function ug(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=MP(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,cl(r),i)||r.endAt&&!function(s,a,u){let l=MP(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,cl(r),i))}(n,e)}function gq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $N(n){return(e,t)=>{let r=!1;for(let i of cl(n)){let o=mq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mq(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Oa(u,l):X(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:n.dir})}}var Yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return DN(this.inner)}size(){return this.innerSize}};var yq=new Qe(J.comparator);function Jr(){return yq}var HN=new Qe(J.comparator);function sl(...n){let e=HN;for(let t of n)e=e.insert(t.key,t);return e}function qN(n){let e=HN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rs(){return ul()}function zN(){return ul()}function ul(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var vq=new Qe(J.comparator),_q=new vt(J.comparator);function ge(...n){let e=_q;for(let t of n)e=e.add(t);return e}var Eq=new vt(le);function Iq(){return Eq}function gC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function GN(n){return{integerValue:""+n}}function wq(n,e){return J4(e)?GN(e):gC(n,e)}var La=class{constructor(){this._=void 0}};function Cq(n,e,t){return n instanceof Va?function(i,o){let s={fields:{[AN]:{stringValue:SN},[RN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cC(o)&&(o=ag(o)),o&&(s.fields[MN]=o),{mapValue:s}}(t,e):n instanceof ls?KN(n,e):n instanceof ds?QN(n,e):function(i,o){let s=WN(i,o),a=OP(s)+OP(i.Ee);return PI(s)&&PI(i.Ee)?GN(a):gC(i.serializer,a)}(n,e)}function bq(n,e,t){return n instanceof ls?KN(n,e):n instanceof ds?QN(n,e):t}function WN(n,e){return n instanceof ja?function(r){return PI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Va=class extends La{},ls=class extends La{constructor(e){super(),this.elements=e}};function KN(n,e){let t=YN(e);for(let r of n.elements)t.some(i=>mr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ds=class extends La{constructor(e){super(),this.elements=e}};function QN(n,e){let t=YN(e);for(let r of n.elements)t=t.filter(i=>!mr(i,r));return{arrayValue:{values:t}}}var ja=class extends La{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function OP(n){return Ve(n.integerValue||n.doubleValue)}function YN(n){return dC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Tq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ls&&i instanceof ls||r instanceof ds&&i instanceof ds?Pa(r.elements,i.elements,mr):r instanceof ja&&i instanceof ja?mr(r.Ee,i.Ee):r instanceof Va&&i instanceof Va}(n.transform,e.transform)}var qI=class{constructor(e,t){this.version=e,this.transformResults=t}},Gr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ua=class{};function JN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ml(n.key,Gr.none()):new hs(n.key,n.data,Gr.none());{let t=n.data,r=mn.empty(),i=new vt(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yr(n.key,r,new Sn(i.toArray()),Gr.none())}}function Dq(n,e,t){n instanceof hs?function(i,o,s){let a=i.value.clone(),u=kP(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof yr?function(i,o,s){if(!Tp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kP(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ZN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,r){return n instanceof hs?function(o,s,a,u){if(!Tp(o.precondition,s))return a;let l=o.value.clone(),h=FP(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof yr?function(o,s,a,u){if(!Tp(o.precondition,s))return a;let l=FP(o.fieldTransforms,u,s),h=s.data;return h.setAll(ZN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Tp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Sq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=WN(r.transform,i||null);o!=null&&(t===null&&(t=mn.empty()),t.set(r.field,o))}return t||null}function xP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pa(r,i,(o,s)=>Tq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var hs=class extends Ua{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yr=class extends Ua{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ZN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function kP(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bq(s,a,t[i]))}return r}function FP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Cq(o,s,e))}return r}var ml=class extends Ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zI=class extends Ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var GI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Dq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=zN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=JN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(t,r)=>xP(t,r))&&Pa(this.baseMutations,e.baseMutations,(t,r)=>xP(t,r))}},WI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return vq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var KI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var QI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ot,_e;function Aq(n){switch(n){case k.OK:return X(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return X(15467,{code:n})}}function XN(n){if(n===void 0)return Wr("GRPC error has no .code"),k.UNKNOWN;switch(n){case ot.OK:return k.OK;case ot.CANCELLED:return k.CANCELLED;case ot.UNKNOWN:return k.UNKNOWN;case ot.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ot.INTERNAL:return k.INTERNAL;case ot.UNAVAILABLE:return k.UNAVAILABLE;case ot.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ot.NOT_FOUND:return k.NOT_FOUND;case ot.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ot.ABORTED:return k.ABORTED;case ot.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ot.DATA_LOSS:return k.DATA_LOSS;default:return X(39323,{code:n})}}(_e=ot||(ot={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var LP=null;var Mq=new Hr([4294967295,4294967295],0);function VP(n){let e=uN().encode(n),t=new lI;return t.update(e),new Uint8Array(t.digest())}function jP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hr([t,r],0),new Hr([i,o],0)]}var YI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new is(`Invalid padding: ${t}`);if(r<0)throw new is(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new is(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new is(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Hr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Hr.fromNumber(r)));return i.compare(Mq)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=VP(e),[r,i]=jP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=VP(e),[r,i]=jP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},is=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Qe(le),Jr(),ge())}},yl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Aa=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},kp=class{constructor(e,t){this.targetId=e,this.De=t}},Fp=class{constructor(e,t,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Lp=class{constructor(){this.ve=0,this.Ce=UP(),this.Fe=xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),t=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new yl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=UP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},JI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jr(),this.je=Ip(),this.Je=Ip(),this.He=new Qe(le)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(BI(o))if(r===0){let s=new J(o.path);this.Xe(t,s,Hn.newNoDocument(s,se.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}LP?.ct(function(h,p,g,y,T){var O,P,j,Q,W,me;let tt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ie=p.unchangedNames;return Ie&&(tt.bloomFilter={applied:T===0,hashCount:(O=Ie?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Q=(j=(P=Ie?.bits)===null||P===void 0?void 0:P.bitmap)===null||j===void 0?void 0:j.length)!==null&&Q!==void 0?Q:0,padding:(me=(W=Ie?.bits)===null||W===void 0?void 0:W.padding)!==null&&me!==void 0?me:0,mightContain:D=>{var _;return(_=y?.mightContain(D))!==null&&_!==void 0&&_}}),tt}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Qr(r).toUint8Array()}catch(u){if(u instanceof Rp)return Gi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new YI(s,i,o)}catch(u){return Gi(u instanceof is?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&BI(a.target)){let u=new J(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Hn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new xp(e,t,this.He,this.ze,r);return this.ze=Jr(),this.je=Ip(),this.Je=Ip(),this.He=new Qe(le),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Lp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new vt(le),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new vt(le),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Lp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Ip(){return new Qe(J.comparator)}function UP(){return new Qe(J.comparator)}var Rq={asc:"ASCENDING",desc:"DESCENDING"},Pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nq={and:"AND",or:"OR"},ZI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function XI(n,e){return n.useProto3Json||sg(e)?e:{value:e}}function Vp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Oq(n,e){return Vp(n,e.toTimestamp())}function gr(n){return Se(!!n,49232),se.fromTimestamp(function(t){let r=Kr(t);return new ut(r.seconds,r.nanos)}(n))}function mC(n,e){return ew(n,e).canonicalString()}function ew(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tO(n){let e=je.fromString(n);return Se(sO(e),10190,{key:e.toString()}),e}function tw(n,e){return mC(n.databaseId,e.path)}function mI(n,e){let t=tO(e);if(t.get(1)!==n.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(rO(t))}function nO(n,e){return mC(n.databaseId,e)}function xq(n){let e=tO(n);return e.length===4?je.emptyPath():rO(e)}function nw(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rO(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BP(n,e,t){return{name:tw(n,e),fields:t.value.mapValue.fields}}function kq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string",58123),xt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),xt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:XN(l.code);return new q(h,l.message||"")}(s);t=new Fp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mI(n,r.document.name),o=gr(r.document.updateTime),s=r.document.createTime?gr(r.document.createTime):se.min(),a=new mn({mapValue:{fields:r.document.fields}}),u=Hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Aa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mI(n,r.document),o=r.readTime?gr(r.readTime):se.min(),s=Hn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Aa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mI(n,r.document),o=r.removedTargetIds||[];t=new Aa([],o,i,null)}else{if(!("filter"in e))return X(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new QI(i,o),a=r.targetId;t=new kp(a,s)}}return t}function Fq(n,e){let t;if(e instanceof hs)t={update:BP(n,e.key,e.value)};else if(e instanceof ml)t={delete:tw(n,e.key)};else if(e instanceof yr)t={update:BP(n,e.key,e.data),updateMask:zq(e.fieldMask)};else{if(!(e instanceof zI))return X(16599,{Rt:e.type});t={verify:tw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ds)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Oq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(n,e.precondition)),t}function Lq(n,e){return n&&n.length>0?(Se(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?gr(i.updateTime):gr(o);return s.isEqual(se.min())&&(s=gr(o)),new qI(s,i.transformResults||[])}(t,e))):[]}function Vq(n,e){return{documents:[nO(n,e.path)]}}function jq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nO(n,i);let o=function(l){if(l.length!==0)return oO(qn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ta(g.field),direction:$q(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=XI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function Uq(n){let e=xq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=iO(p);return g instanceof qn&&FN(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(T){return new Fa(Da(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,sg(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new ka(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ka(y,g)}(t.endAt)),fq(e,i,s,o,a,"F",u,l)}function Bq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Da(t.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Da(t.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Da(t.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Da(t.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(n):n.fieldFilter!==void 0?function(t){return at.create(Da(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qn.create(t.compositeFilter.filters.map(r=>iO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(t.compositeFilter.op))}(n):X(30097,{filter:n})}function $q(n){return Rq[n]}function Hq(n){return Pq[n]}function qq(n){return Nq[n]}function Ta(n){return{fieldPath:n.canonicalString()}}function Da(n){return yn.fromServerFormat(n.fieldPath)}function oO(n){return n instanceof at?function(t){if(t.op==="=="){if(AP(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NAN"}};if(SP(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AP(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NAN"}};if(SP(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(t.field),op:Hq(t.op),value:t.value}}}(n):n instanceof qn?function(t){let r=t.getFilters().map(i=>oO(i));return r.length===1?r[0]:{compositeFilter:{op:qq(t.op),filters:r}}}(n):X(54877,{filter:n})}function zq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vl=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rw=class{constructor(e){this.gt=e}};function Gq(n){let e=Uq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?HI(e,e.limit,"L"):e}var jp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),fl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Kr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Qr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?ON(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):NN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):X(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Na,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ve(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),J.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};jp.Ut=new jp;var iw=class{constructor(){this.Dn=new ow}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(cs.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},ow=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vt(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(je.comparator)).toArray()}};var wce=new Uint8Array(0);var $P={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aO=41943040,Dn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(aO,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);var _l=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var HP="LruGarbageCollector",Wq=1048576;function qP([n,e],[t,r]){let i=le(n,t);return i===0?le(e,r):i}var sw=class{constructor(e){this.Tr=e,this.buffer=new vt(qP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();qP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},aw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(HP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wa(t)?z(HP,"Ignoring IndexedDB error during garbage collection: ",t):yield Ga(t)}yield this.Rr(3e5)}))}},cw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(sC.ue);let r=new sw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve($P)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$P):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ca()<=fe.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Kq(n,e){return new cw(n,e)}var uw=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ll(r.mutation,i,Sn.empty(),ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=sl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Jr(),s=ul(),a=function(){return ul()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof yr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ll(h.mutation,l,h.mutation.getFieldMask(),ut.now())):s.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new lw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ul(),i=new Qe((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=zN();h.forEach(g=>{if(!o.has(g)){let y=JN(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(rs()),a=hl,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:qN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new us(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Hn.newInvalidDocument(h)))});let a=sl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ll(h.mutation,l,Sn.empty(),ut.now()),ug(t,l)&&(a=a.insert(u,l))}),a})}};var hw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Gq(i.bundledQuery),readTime:gr(i.readTime)}}(t)),L.resolve()}};var fw=class{constructor(){this.overlays=new Qe(J.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=rs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=rs(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=rs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=rs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new KI(t,r));let o=this.kr.get(t);o===void 0&&(o=ge(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var pw=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var El=class{constructor(){this.qr=new vt(st.Qr),this.$r=new vt(st.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new st(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new st(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new J(new je([])),r=new st(t,e),i=new st(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new J(new je([])),r=new st(t,e),i=new st(t,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new st(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return J.comparator(e.key,t.key)||le(e.Hr,t.Hr)}static Ur(e,t){return le(e.Hr,t.Hr)||J.comparator(e.key,t.key)}};var gw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new vt(st.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new GI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?aC:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vt(le);return t.forEach(i=>{let o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new st(new J(o),0),a=new vt(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new st(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new st(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var mw=class{constructor(e){this.ni=e,this.docs=function(){return new Qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jr(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||K4(W4(h),r)<=0||(i.has(h.key)||ug(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yw(this)}getSize(e){return L.resolve(this.size)}},yw=class extends uw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var vw=class{constructor(e){this.persistence=e,this.ii=new Yr(t=>hC(t),fC),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.si=0,this.oi=new El,this.targetCount=0,this._i=_l.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var Up=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new sC(0),this.ci=!1,this.ci=!0,this.li=new pw,this.referenceDelegate=e(this),this.hi=new vw(this),this.indexManager=new iw,this.remoteDocumentCache=function(i){return new mw(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new rw(t),this.Ti=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new gw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new _w(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},_w=class extends AI{constructor(e){super(),this.currentSequenceNumber=e}},Ew=class n{constructor(e){this.persistence=e,this.Ai=new El,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw X(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Bp=class n{constructor(e,t){this.persistence=e,this.gi=new Yr(r=>Z4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Kq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cp(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Iw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var ww=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return kM()?8:Y4(gt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ww;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ca()<=fe.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ba(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ca()<=fe.DEBUG&&z("QueryEngine","Query:",ba(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ca()<=fe.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ba(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):L.resolve())}ps(e,t){if(NP(t))return L.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=HI(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,HI(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return NP(t)||i.isEqual(se.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(Ca()<=fe.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(t)),this.vs(e,s,t,G4(i,hl)).next(a=>a))})}bs(e,t){let r=new vt($N(e));return t.forEach((i,o)=>{ug(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ca()<=fe.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ba(t)),this.gs.getDocumentsMatchingQuery(e,t,cs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var yC="LocalStore",Qq=3e8,bw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Qe(le),this.Ms=new Yr(o=>hC(o),fC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Yq(n,e,t,r){return new bw(n,e,t,r)}function cO(n,e){return v(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Jq(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(O=>{let P=l.docVersions.get(T);Se(P!==null,48541),O.version.compareTo(P)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),h.addEntry(O)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uO(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Zq(n,e){let t=ie(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(O,P,j){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Qq?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Jr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Xq(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(se.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function Xq(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Jr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(yC,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function ez(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=aC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tz(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new vl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Tw(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Wa(s))throw s;z(yC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function zP(n,e,t){let r=ie(n),i=se.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),g=p.Ms.get(h);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:ge())).next(a=>(nz(r,gq(e),a),{documents:a,qs:o})))}function nz(n,e,t){let r=n.xs.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var $p=class{constructor(){this.activeTargetIds=Iq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Dw=class{constructor(){this.Fo=new $p,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $p,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Sw=class{xo(e){}shutdown(){}};var GP="ConnectivityMonitor",Hp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(GP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){z(GP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wp=null;function Aw(){return wp===null?wp=function(){return 268435456+Math.round(2147483648*Math.random())}():wp++,"0x"+wp.toString(16)}var yI="RestConnection",rz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Pp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Aw(),a=this.Go(e,t.toUriEncodedString());z(yI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Ri(l);return this.jo(e,a,u,r,h).then(p=>(z(yI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Gi(yI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=rz[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Rw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ot="WebChannelConnection",Pw=class extends Mw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Aw();return new Promise((a,u)=>{let l=new dI;l.setWithCredentials(!0),l.listenOnce(hI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ol.NO_ERROR:let p=l.getResponseJson();z(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ol.TIMEOUT:z(Ot,`RPC '${e}' ${s} timed out`),u(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case ol.HTTP_ERROR:let g=l.getStatus();if(z(Ot,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let O=function(j){let Q=j.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(Q)>=0?Q:k.UNKNOWN}(T.status);u(new q(O,T.message))}else u(new q(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(k.UNAVAILABLE,"Connection failed."));break;default:X(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{z(Ot,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Aw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gI(),a=pI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,T=new Rw({Ho:P=>{y?z(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(z(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(Ot,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Yo:()=>p.close()}),O=(P,j,Q)=>{P.listen(j,W=>{try{Q(W)}catch(me){setTimeout(()=>{throw me},0)}})};return O(p,wa.EventType.OPEN,()=>{y||(z(Ot,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),O(p,wa.EventType.CLOSE,()=>{y||(y=!0,z(Ot,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),O(p,wa.EventType.ERROR,P=>{y||(y=!0,Gi(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),T.__(new q(k.UNAVAILABLE,"The operation could not be completed")))}),O(p,wa.EventType.MESSAGE,P=>{var j;if(!y){let Q=P.data[0];Se(!!Q,16349);let W=Q,me=W?.error||((j=W[0])===null||j===void 0?void 0:j.error);if(me){z(Ot,`RPC '${e}' stream ${i} received error:`,me);let tt=me.status,Ie=function(I){let C=ot[I];if(C!==void 0)return XN(C)}(tt),D=me.message;Ie===void 0&&(Ie=k.INTERNAL,D="Unknown error status: "+tt+" with message "+me.message),y=!0,T.__(new q(Ie,D)),p.close()}else z(Ot,`RPC '${e}' stream ${i} received:`,Q),T.a_(Q)}}),O(a,fI.STAT_EVENT,P=>{P.stat===_p.PROXY?z(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===_p.NOPROXY&&z(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function vI(){return typeof document<"u"?document:null}function lg(n){return new ZI(n,!0)}var qp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var WP="PersistentStream",zp=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return z(WP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(z(WP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Nw=class extends zp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=kq(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?gr(s.readTime):se.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=nw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=BI(u)?{documents:Vq(o,u)}:{query:jq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=eO(o,s.resumeToken);let l=XI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Vp(o,s.snapshotVersion.toTimestamp());let l=XI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Bq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=nw(this.serializer),t.removeTarget=e,this.k_(t)}},Ow=class extends zp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=Lq(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=nw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Fq(this.serializer,r))};this.k_(t)}};var xw=class{},kw=class extends xw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ew(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,ew(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Fw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wr(t),this._a=!1):z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var fs="RemoteStore",Lw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){ps(this)&&(z(fs,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ie(u);l.Ia.add(4),yield bl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield dg(l)})}(this))}))}),this.Aa=new Fw(r,i)}};function dg(n){return v(this,null,function*(){if(ps(n))for(let e of n.da)yield e(!0)})}function bl(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function lO(n,e){let t=ie(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),IC(t)?EC(t):Ka(t).x_()&&_C(t,e))}function vC(n,e){let t=ie(n),r=Ka(t);t.Ta.delete(e),r.x_()&&dO(t,e),t.Ta.size===0&&(r.x_()?r.B_():ps(t)&&t.Aa.set("Unknown"))}function _C(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).H_(e)}function dO(n,e){n.Ra.$e(e),Ka(n).Y_(e)}function EC(n){n.Ra=new JI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.Aa.aa()}function IC(n){return ps(n)&&!Ka(n).M_()&&n.Ta.size>0}function ps(n){return ie(n).Ia.size===0}function hO(n){n.Ra=void 0}function iz(n){return v(this,null,function*(){n.Aa.set("Online")})}function oz(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{_C(n,e)})})}function sz(n,e){return v(this,null,function*(){hO(n),IC(n)?(n.Aa.la(e),EC(n)):n.Aa.set("Unknown")})}function az(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof Fp&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){z(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gp(n,r)}else if(e instanceof Aa?n.Ra.Ye(e):e instanceof kp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(se.min()))try{let r=yield uO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(xt.EMPTY_BYTE_STRING,h.snapshotVersion)),dO(o,u);let p=new vl(h.target,u,l,h.sequenceNumber);_C(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z(fs,"Failed to raise snapshot:",r),yield Gp(n,r)}})}function Gp(n,e,t){return v(this,null,function*(){if(!Wa(e))throw e;n.Ia.add(1),yield bl(n),n.Aa.set("Offline"),t||(t=()=>uO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){z(fs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield dg(n)}))})}function fO(n,e){return e().catch(t=>Gp(n,t,e))}function hg(n){return v(this,null,function*(){let e=ie(n),t=Ki(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:aC;for(;cz(e);)try{let i=yield ez(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,uz(e,i)}catch(i){yield Gp(e,i)}pO(e)&&gO(e)})}function cz(n){return ps(n)&&n.Pa.length<10}function uz(n,e){n.Pa.push(e);let t=Ki(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function pO(n){return ps(n)&&!Ki(n).M_()&&n.Pa.length>0}function gO(n){Ki(n).start()}function lz(n){return v(this,null,function*(){Ki(n).na()})}function dz(n){return v(this,null,function*(){let e=Ki(n);for(let t of n.Pa)e.X_(t.mutations)})}function hz(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=WI.from(r,e,t);yield fO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield hg(n)})}function fz(n,e){return v(this,null,function*(){e&&Ki(n).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Aq(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Ki(r).N_(),yield fO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hg(r)}})}(n,e)),pO(n)&&gO(n)})}function KP(n,e){return v(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),z(fs,"RemoteStore received new credentials");let r=ps(t);t.Ia.add(3),yield bl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield dg(t)})}function pz(n,e){return v(this,null,function*(){let t=ie(n);e?(t.Ia.delete(2),yield dg(t)):e||(t.Ia.add(2),yield bl(t),t.Aa.set("Unknown"))})}function Ka(n){return n.Va||(n.Va=function(t,r,i){let o=ie(t);return o.ia(),new Nw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:iz.bind(null,n),e_:oz.bind(null,n),n_:sz.bind(null,n),J_:az.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),IC(n)?EC(n):n.Aa.set("Unknown")):(yield n.Va.stop(),hO(n))}))),n.Va}function Ki(n){return n.ma||(n.ma=function(t,r,i){let o=ie(t);return o.ia(),new Ow(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:lz.bind(null,n),n_:fz.bind(null,n),ea:dz.bind(null,n),ta:hz.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield hg(n)):(yield n.ma.stop(),n.Pa.length>0&&(z(fs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Vw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wC(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Wa(n))return new q(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Wp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Kp=class{constructor(){this.fa=new Qe(J.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):X(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ba=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Wp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var jw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Uw=class{constructor(){this.queries=QP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=QP(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(k.ABORTED,"Firestore shutting down"))}};function QP(){return new Yr(n=>BN(n),cg)}function gz(n,e){return v(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new jw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=wC(s,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&CC(t)})}function mz(n,e){return v(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function yz(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&CC(t)}function vz(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function CC(n){n.Da.forEach(e=>{e.next()})}var Bw,YP;(YP=Bw||(Bw={})).Fa="default",YP.Cache="cache";var $w=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Bw.Cache}};var Qp=class{constructor(e){this.key=e}},Yp=class{constructor(e){this.key=e}},Hw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=$N(e),this.eu=new Wp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Kp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=ug(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),P=!1;g&&y?g.data.isEqual(y.data)?T!==O&&(r.track({type:3,doc:y}),P=!0):this.iu(g,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),P=!0):g&&!y&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(y?(s=s.add(y),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,T){let O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{At:P})}};return O(y)-O(T)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ba(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Yp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Qp(r))}),t}uu(e){this.Ha=e.qs,this.Za=ge();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ba.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},bC="SyncEngine",qw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},zw=class{constructor(e){this.key=e,this.lu=!1}},Gw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Yr(a=>BN(a),cg),this.Tu=new Map,this.Iu=new Set,this.du=new Qe(J.comparator),this.Eu=new Map,this.Au=new El,this.Ru={},this.Vu=new Map,this.mu=_l.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function _z(n,e,t=!0){return v(this,null,function*(){let r=IO(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield mO(r,e,t,!0),i})}function Ez(n,e){return v(this,null,function*(){let t=IO(n);yield mO(t,e,!0,!1)})}function mO(n,e,t,r){return v(this,null,function*(){let i=yield tz(n.localStore,pr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Iz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lO(n.remoteStore,i),a})}function Iz(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,g,y)=>function(O,P,j,Q){return v(this,null,function*(){let W=P.view.nu(j);W.Ds&&(W=yield zP(O.localStore,P.query,!1).then(({documents:D})=>P.view.nu(D,W)));let me=Q&&Q.targetChanges.get(P.targetId),tt=Q&&Q.targetMismatches.get(P.targetId)!=null,Ie=P.view.applyChanges(W,O.isPrimaryClient,me,tt);return ZP(O,P.targetId,Ie._u),Ie.snapshot})}(n,p,g,y);let o=yield zP(n.localStore,e,!0),s=new Hw(e,o.qs),a=s.nu(o.documents),u=yl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);ZP(n,t,l._u);let h=new qw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function wz(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!cg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Tw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vC(r.remoteStore,i.targetId),Ww(r,i.targetId)}).catch(Ga))):(Ww(r,i.targetId),yield Tw(r.localStore,i.targetId,!0))})}function Cz(n,e){return v(this,null,function*(){let t=ie(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vC(t.remoteStore,r.targetId))})}function bz(n,e,t){return v(this,null,function*(){let r=Pz(n);try{let i=yield function(s,a){let u=ie(s),l=ut.now(),h=a.reduce((y,T)=>y.add(T.key),ge()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Jr(),O=ge();return u.Os.getEntries(y,h).next(P=>{T=P,T.forEach((j,Q)=>{Q.isValidDocument()||(O=O.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(P=>{p=P;let j=[];for(let Q of a){let W=Sq(Q,p.get(Q.key).overlayedDocument);W!=null&&j.push(new yr(Q.key,W,xN(W.value.mapValue),Gr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(P=>{g=P;let j=P.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(y,P.batchId,j)})}).then(()=>({batchId:g.batchId,changes:qN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Qe(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Tl(r,i.changes),yield hg(r.remoteStore)}catch(i){let o=wC(i,"Failed to persist write");t.reject(o)}})}function yO(n,e){return v(this,null,function*(){let t=ie(n);try{let r=yield Zq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),yield Tl(t,r,e)}catch(r){yield Ga(r)}})}function JP(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&CC(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tz(n,e,t){return v(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Qe(J.comparator);s=s.insert(o,Hn.newNoDocument(o,se.min()));let a=ge().add(o),u=new xp(se.min(),new Map,new Qe(le),s,a);yield yO(r,u),r.du=r.du.remove(o),r.Eu.delete(e),TC(r)}else yield Tw(r.localStore,e,!1).then(()=>Ww(r,e,t)).catch(Ga)})}function Dz(n,e){return v(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield Jq(t.localStore,e);_O(t,r,null),vO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tl(t,i)}catch(i){yield Ga(i)}})}function Sz(n,e,t){return v(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_O(r,e,t),vO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tl(r,i)}catch(i){yield Ga(i)}})}function vO(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function _O(n,e,t){let r=ie(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ww(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||EO(n,r)})}function EO(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(vC(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),TC(n))}function ZP(n,e,t){for(let r of t)r instanceof Qp?(n.Au.addReference(r.key,e),Az(n,r)):r instanceof Yp?(z(bC,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||EO(n,r.key)):X(19791,{yu:r})}function Az(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(z(bC,"New document in limbo: "+t),n.Iu.add(r),TC(n))}function TC(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new J(je.fromString(e)),r=n.mu.next();n.Eu.set(r,new zw(t)),n.du=n.du.insert(t,r),lO(n.remoteStore,new vl(pr(pC(t.path)),r,"TargetPurposeLimboResolution",sC.ue))}}function Tl(n,e,t){return v(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Iw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Wa(p))throw p;z(yC,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),T=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(g,O)}}})}(r.localStore,o))})}function Mz(n,e){return v(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){z(bC,"User change. New user:",e.toKey());let r=yield cO(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tl(t,r.Bs)}})}function Rz(n,e){let t=ie(n),r=t.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function IO(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tz.bind(null,e),e.hu.J_=yz.bind(null,e.eventManager),e.hu.pu=vz.bind(null,e.eventManager),e}function Pz(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sz.bind(null,e),e}var wO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=lg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Yq(this.persistence,new Cw,t.initialUser,this.serializer)}Du(t){return new Up(Ew.Vi,this.serializer)}bu(t){return new Dw}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Kw=class extends wO{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof Bp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new aw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Up(r=>Bp.Vi(r,t),this.serializer)}};var Nz=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mz.bind(null,this.syncEngine),yield pz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Uw}()}createDatastore(t){let r=lg(t.databaseInfo.databaseId),i=function(s){return new Pw(s)}(t.databaseInfo);return function(s,a,u,l){return new kw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Lw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>JP(this.syncEngine,r,0),function(){return Hp.C()?new Hp:new Sw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new Gw(o,s,a,u,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=ie(o);z(fs,"RemoteStore shutting down."),s.Ia.add(5),yield bl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Qw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Qi="FirestoreClient",Yw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){z(Qi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(Qi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=wC(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function _I(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(Qi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield cO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Gi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Gi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function XP(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Oz(n);z(Qi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>KP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>KP(e.remoteStore,i)),n._onlineComponents=e})}function Oz(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(Qi,"Using user provided OfflineComponentProvider");try{yield _I(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gi("Error using user provided cache. Falling back to memory cache: "+t),yield _I(n,new wO)}}else z(Qi,"Using default OfflineComponentProvider"),yield _I(n,new Kw(void 0));return n._offlineComponents})}function CO(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(Qi,"Using user provided OnlineComponentProvider"),yield XP(n,n._uninitializedComponentsProvider._online)):(z(Qi,"Using default OnlineComponentProvider"),yield XP(n,new Nz))),n._onlineComponents})}function xz(n){return CO(n).then(e=>e.syncEngine)}function eN(n){return v(this,null,function*(){let e=yield CO(n),t=e.eventManager;return t.onListen=_z.bind(null,e.syncEngine),t.onUnlisten=wz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ez.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cz.bind(null,e.syncEngine),t})}function bO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tN=new Map;var TO="firestore.googleapis.com",nN=!0,Jp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TO,this.ssl=nN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wq)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$a=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EI;switch(r.type){case"firstParty":return new bI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tN.get(t);r&&(z("ComponentProvider","Removing Datastore"),tN.delete(t),r.terminate())}(this),Promise.resolve()}};function DO(n,e,t,r={}){var i;n=Bi(n,$a);let o=Ri(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(zf(`https://${u}`),Gf("Firestore",!0)),s.host!==TO&&s.host!==u&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!cr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=yt.MOCK_USER;else{h=MM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yt(g)}n._authCredentials=new II(new Dp(h,p))}}var Ha=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cl(t,n._jsonSchema))return new n(e,r||null,new J(je.fromString(t.referencePath)))}};wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:ct("string",wt._jsonSchemaVersion),referencePath:ct("string")};var $i=class n extends Ha{constructor(e,t,r){super(e,t,pC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function SO(n,e,...t){if(n=et(n),lN("collection","path",e),n instanceof $a){let r=je.fromString(e,...t);return _P(r),new $i(n,null,r)}{if(!(n instanceof wt||n instanceof $i))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return _P(r),new $i(n.firestore,null,r)}}function DC(n,e,...t){if(n=et(n),arguments.length===1&&(e=dl.newId()),lN("doc","path",e),n instanceof $a){let r=je.fromString(e,...t);return vP(r),new wt(n,null,new J(r))}{if(!(n instanceof wt||n instanceof $i))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return vP(r),new wt(n.firestore,n instanceof $i?n.converter:null,new J(r))}}var rN="AsyncQueue",Zp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qp(this,"async_queue_retry"),this.oc=()=>{let r=vI();r&&z(rN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=vI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=vI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new zr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wa(e))throw e;z(rN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Wr("INTERNAL UNHANDLED ERROR: ",iN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Vw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&X(47125,{hc:iN(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function iN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function oN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Yi=class extends $a{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zp(e),this._firestoreClient=void 0,yield e}})}};function AO(n,e){let t=typeof n=="object"?n:Qo(),r=typeof n=="string"?n:e||Pp,i=ya(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=AM("firestore");o&&DO(i,...o)}return i}function MO(n){if(n._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kz(n),n._firestoreClient}function kz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new MI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Yw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Hi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xt.fromBase64String(e))}catch(t){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Hi._jsonSchemaVersion="firestore/bytes/1.0",Hi._jsonSchema={type:ct("string",Hi._jsonSchemaVersion),bytes:ct("string")};var qa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Il=class{constructor(e){this._methodName=e}};var qi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:ct("string",qi._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};var zi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:ct("string",zi._jsonSchemaVersion),vectorValues:ct("object")};var Fz=/^__.*__$/,Jw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,t,this.fieldTransforms):new hs(e,this.data,t,this.fieldTransforms)}},Xp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ec:n})}}var Zw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RO(this.Ec)&&Fz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Xw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lg(e)}Dc(e,t,r,i=!1){return new Zw({Ec:e,methodName:t,bc:r,path:yn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SC(n){let e=n._freezeSettings(),t=lg(n._databaseId);return new Xw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lz(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);AC("Data must be an object, but it was:",s,r);let a=PO(r,s),u,l;if(o.merge)u=new Sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=eC(e,p,t);if(!s.contains(g))throw new q(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);OO(h,g)||h.push(g)}u=new Sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Jw(new mn(a),u,l)}var eg=class n extends Il{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Vz(n,e,t,r){let i=n.Dc(1,e,t);AC("Data must be an object, but it was:",i,r);let o=[],s=mn.empty();Ji(r,(u,l)=>{let h=MC(e,u,t);l=et(l);let p=i.gc(h);if(l instanceof eg)o.push(h);else{let g=Dl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Sn(o);return new Xp(s,a,i.fieldTransforms)}function jz(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[eC(e,r,t)],u=[i];if(o.length%2!=0)throw new q(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(eC(e,o[g])),u.push(o[g+1]);let l=[],h=mn.empty();for(let g=a.length-1;g>=0;--g)if(!OO(l,a[g])){let y=a[g],T=u[g];T=et(T);let O=s.gc(y);if(T instanceof eg)l.push(y);else{let P=Dl(T,O);P!=null&&(l.push(y),h.set(y,P))}}let p=new Sn(l);return new Xp(h,p,s.fieldTransforms)}function Uz(n,e,t,r=!1){return Dl(t,n.Dc(r?4:3,e))}function Dl(n,e){if(NO(n=et(n)))return AC("Unsupported field value:",e,n),PO(n,e);if(n instanceof Il)return function(r,i){if(!RO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Dl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:Vp(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vp(i.serializer,o)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:eO(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zi)return function(s,a){return{mapValue:{fields:{[uC]:{stringValue:lC},[Na]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return gC(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${og(r)}`)}(n,e)}function PO(n,e){let t={};return DN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,i)=>{let o=Dl(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof qi||n instanceof Hi||n instanceof wt||n instanceof Il||n instanceof zi)}function AC(n,e,t){if(!NO(t)||!dN(t)){let r=og(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function eC(n,e,t){if((e=et(e))instanceof qa)return e._internalPath;if(typeof e=="string")return MC(n,e);throw tg("Field path arguments must be of type string or ",n,!1,void 0,t)}var Bz=new RegExp("[~\\*/\\[\\]]");function MC(n,e,t){if(e.search(Bz)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(k.INVALID_ARGUMENT,a+n+u)}function OO(n,e){return n.some(t=>t.isEqual(e))}var ng=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tC=class extends ng{data(){return super.data()}};function RC(n,e){return typeof e=="string"?MC(n,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function $z(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wl=class{},nC=class extends wl{};function xO(n,e,...t){let r=[];e instanceof wl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof rC).length,a=o.filter(u=>u instanceof rg).length;if(s>1||s>0&&a>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var rg=class n extends nC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return FO(e._query,t),new Ha(e.firestore,e.converter,$I(e._query,t))}_parse(e){let t=SC(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){aN(p,h);let T=[];for(let O of p)T.push(sN(u,o,O));g={arrayValue:{values:T}}}else g=sN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||aN(p,h),g=Uz(a,s,p,h==="in"||h==="not-in");return at.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function kO(n,e,t){let r=e,i=RC("where",n);return rg._create(i,r,t)}var rC=class n extends wl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)FO(s,u),s=$I(s,u)}(e._query,t),new Ha(e.firestore,e.converter,$I(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function sN(n,e,t){if(typeof(t=et(t))=="string"){if(t==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UN(e)&&t.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(je.fromString(t));if(!J.isDocumentKey(r))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DP(n,new J(r))}if(t instanceof wt)return DP(n,t._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(t)}.`)}function aN(n,e){if(!Array.isArray(n)||n.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var iC=class{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ji(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Na].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new zi(o)}convertGeoPoint(e){return new qi(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ag(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);Se(sO(r),9688,{name:e});let i=new Np(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Hz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var os=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ss=class n extends ng{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",ss._jsonSchema={type:ct("string",ss._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};var Ma=class extends ss{data(e={}){return super.data(e)}},Ra=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ma(this._firestore,this._userDataWriter,r.key,r,new os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ma(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ma(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:qz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function qz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:n})}}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:ct("string",Ra._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};var ig=class extends iC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}};function LO(n,e,t,...r){n=Bi(n,wt);let i=Bi(n.firestore,Yi),o=SC(i),s;return s=typeof(e=et(e))=="string"||e instanceof qa?jz(o,"updateDoc",n._key,e,t,r):Vz(o,"updateDoc",n._key,e),NC(i,[s.toMutation(n._key,Gr.exists(!0))])}function VO(n){return NC(Bi(n.firestore,Yi),[new ml(n._key,Gr.none())])}function jO(n,e){let t=Bi(n.firestore,Yi),r=DC(n),i=Hz(n.converter,e);return NC(t,[Lz(SC(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function PC(n,...e){var t,r,i;n=et(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||oN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(oN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof wt)l=Bi(n.firestore,Yi),h=pC(n._key.path),u={next:p=>{e[s]&&e[s](zz(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Bi(n,Ha);l=Bi(p.firestore,Yi),h=p._query;let g=new ig(l);u={next:y=>{e[s]&&e[s](new Ra(l,g,p,y))},error:e[s+1],complete:e[s+2]},$z(n._query)}return function(g,y,T,O){let P=new Qw(O),j=new $w(y,P,T);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return gz(yield eN(g),j)})),()=>{P.Ou(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return mz(yield eN(g),j)}))}}(MO(l),h,a,u)}function NC(n,e){return function(r,i){let o=new zr;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return bz(yield xz(r),i,o)})),o.promise}(MO(n),e)}function zz(n,e,t){let r=t.docs.get(e._key),i=new ig(n);return new ss(n,i,e._key,r,new os(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){za=i})(Ni),Bn(new qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Yi(new wI(r.getProvider("auth-internal")),new TI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ke(pP,gP,e),Ke(pP,gP,"esm2017")})();var fg=function(){return fg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fg.apply(this,arguments)};var Kz={includeMetadataChanges:!1};function OC(n,e){return e===void 0&&(e=Kz),new ne(function(t){var r=PC(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function UO(n){return OC(n,{includeMetadataChanges:!0})}function BO(n,e){return e===void 0&&(e={}),UO(n).pipe(te(function(t){return xC(t,e)}))}function xC(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:fg(fg({},r),(t={},t[e.idField]=n.id,t))}function $O(n){return OC(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function HO(n,e){return e===void 0&&(e={}),$O(n).pipe(te(function(t){return t.map(function(r){return xC(r,e)})}))}var zn=class{constructor(e){return e}},qO="firestore",kC=class{constructor(){return _a(qO)}};var FC=new H("angularfire2.firestore-instances");function Qz(n,e){let t=Gu(qO,n,e);return t&&new zn(t)}function Yz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zn(r)}}var Jz={provide:kC,deps:[[new Zt,FC]]},Zz={provide:zn,useFactory:Qz,deps:[[new Zt,FC],Ur]};function zO(n,...e){return Ke("angularfire",Oi.full,"fst"),sn([Zz,Jz,{provide:FC,useFactory:Yz(n),multi:!0,deps:[Ce,He,xi,Jo,[new Zt,il],[new Zt,Ea],...e]}])}var LC=mt(HO,!0);var Qa=mt(BO,!0);var GO=mt(jO,!0,2);var pg=mt(SO,!0,2);var WO=mt(VO,!0,2);var Zi=mt(DC,!0,2);var KO=mt(AO,!0);var Sl=mt(xO,!0,2);var QO=mt(LO,!0,2);var gg=mt(kO,!0,2);var vr=class n{constructor(e){this.firestore=e}getProducts(e,t){let r=pg(this.firestore,"productos"),i=Sl(r);return e&&(i=Sl(r,gg("nicho","==",e))),t&&(i=Sl(r,gg("categoria","==",t))),LC(i,{idField:"id"})}getFeaturedProducts(){let e=pg(this.firestore,"productos"),t=Sl(e,gg("destacado","==",!0));return LC(t,{idField:"id"})}getProductById(e){let t=Zi(this.firestore,`productos/${e}`);return Qa(t,{idField:"id"})}addProduct(e){return v(this,null,function*(){let t=pg(this.firestore,"productos"),r=yield GO(t,e);return V({id:r.id},e)})}updateProduct(e,t){return v(this,null,function*(){let r=Zi(this.firestore,`productos/${e}`);yield QO(r,t)})}deleteProduct(e){return v(this,null,function*(){let t=Zi(this.firestore,`productos/${e}`);yield WO(t)})}static \u0275fac=function(t){return new(t||n)(G(zn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Xz(n,e){if(n&1&&Bt(0,"app-product-card",11),n&2){let t=e.$implicit;Y("product",t)}}var yg=class n{constructor(e){this.productService=e}featuredProducts=[];ngOnInit(){this.productService.getFeaturedProducts().subscribe(e=>{this.featuredProducts=e})}static \u0275fac=function(t){return new(t||n)(K(vr))};static \u0275cmp=Me({type:n,selectors:[["app-home"]],decls:23,vars:1,consts:[[1,"hero"],[1,"hero-content"],[1,"tagline"],[1,"cta-buttons"],["routerLink","/productos/domotica",1,"btn","btn-primary"],["routerLink","/productos/tecnologia",1,"btn","btn-secondary"],[1,"featured-products"],[1,"products-grid"],[3,"product",4,"ngFor","ngForOf"],[1,"about-section"],["routerLink","/que-es-domotica",1,"btn","btn-outline"],[3,"product"]],template:function(t,r){t&1&&(b(0,"section",0)(1,"div",1)(2,"h1"),R(3,"Bienvenido a DomoTechSV"),w(),b(4,"p",2),R(5,"Tu hogar a la palma de tu mano"),w(),b(6,"div",3)(7,"a",4),R(8,"Explora Productos Dom\xF3ticos"),w(),b(9,"a",5),R(10,"Ver Accesorios Tecnol\xF3gicos"),w()()()(),b(11,"section",6)(12,"h2"),R(13,"Productos Destacados"),w(),b(14,"div",7),ye(15,Xz,1,1,"app-product-card",8),w()(),b(16,"section",9)(17,"h2"),R(18,"\xBFQu\xE9 es DomoTechSV?"),w(),b(19,"p"),R(20,"DomoTechSV es tu soluci\xF3n integral para la automatizaci\xF3n del hogar. Ofrecemos productos de dom\xF3tica de alta calidad que te permiten controlar y monitorear tu hogar desde cualquier lugar."),w(),b(21,"a",10),R(22,"Aprende m\xE1s sobre dom\xF3tica"),w()()),t&2&&(F(15),Y("ngForOf",r.featuredProducts))},dependencies:[Le,Pt,pa],styles:[".hero[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:4rem 1rem;text-align:center;background-image:linear-gradient(#00000080,#00000080),url(https://via.placeholder.com/1920x600);background-size:cover;background-position:center}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .cta-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem}.featured-products[_ngcontent-%COMP%]{padding:3rem 1rem;max-width:1200px;margin:0 auto}.featured-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#2c3e50}.featured-products[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.about-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:3rem 1rem;text-align:center}.about-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 2rem}.btn[_ngcontent-%COMP%]{display:inline-block;padding:.75rem 1.5rem;border-radius:4px;text-decoration:none;font-weight:700;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9}.btn-secondary[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#27ae60}.btn-outline[_ngcontent-%COMP%]{border:2px solid #3498db;color:#3498db}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}"]})};function e6(n,e){n&1&&(b(0,"div",5)(1,"p"),R(2,"Cargando productos..."),w()())}function t6(n,e){n&1&&(b(0,"div",6)(1,"p"),R(2,"No hay productos disponibles en esta categor\xEDa."),w()())}function n6(n,e){if(n&1&&Bt(0,"app-product-card",7),n&2){let t=e.$implicit;Y("product",t)}}var vg=class n{constructor(e,t){this.route=e;this.productService=t}products=[];categoryName="";isLoading=!0;ngOnInit(){this.route.params.subscribe(e=>{let t=e.nicho;this.categoryName=this.getCategoryName(t),this.productService.getProducts(t).subscribe(r=>{this.products=r,this.isLoading=!1})})}getCategoryName(e){switch(e){case"domotica":return"Productos Dom\xF3ticos";case"tecnologia":return"Productos Tecnol\xF3gicos";case"segunda-mano":return"Productos de Segunda Mano";default:return"Productos"}}static \u0275fac=function(t){return new(t||n)(K(tn),K(vr))};static \u0275cmp=Me({type:n,selectors:[["app-product-listing"]],decls:7,vars:4,consts:[[1,"product-listing-container"],["class","loading",4,"ngIf"],["class","no-products",4,"ngIf"],[1,"products-grid"],[3,"product",4,"ngFor","ngForOf"],[1,"loading"],[1,"no-products"],[3,"product"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"h1"),R(2),w(),ye(3,e6,3,0,"div",1)(4,t6,3,0,"div",2),b(5,"div",3),ye(6,n6,1,1,"app-product-card",4),w()()),t&2&&(F(2),Oe(r.categoryName),F(),Y("ngIf",r.isLoading),F(),Y("ngIf",!r.isLoading&&r.products.length===0),F(2),Y("ngForOf",r.products))},dependencies:[Le,Pt,dn,pa],styles:[".product-listing-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.product-listing-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:2rem;text-align:center}.product-listing-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .product-listing-container[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#7f8c8d}.product-listing-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}"]})};function r6(n,e){n&1&&(b(0,"div",3)(1,"p"),R(2,"Cargando producto..."),w()())}function i6(n,e){if(n&1){let t=Lr();b(0,"div",25),Re("click",function(){let i=Qt(t).index,o=be(2);return Yt(o.changeImage(i))}),Bt(1,"img",7),w()}if(n&2){let t=e.$implicit,r=e.index,i=be(2);$t("active",r===i.currentImageIndex),F(),Y("src",t,vi)("alt",i.product.nombre+" thumbnail "+(r+1))}}function o6(n,e){if(n&1&&(b(0,"div",26)(1,"span",27),R(2),er(3,"number"),w(),b(4,"span",28),R(5),er(6,"number"),w()()),n&2){let t=be(2);F(2),Ze("$",tr(3,2,t.product.precio,"1.2-2")),F(3),Ze("-",tr(6,5,t.product.descuento*100,"1.0-0"),"%")}}function s6(n,e){if(n&1&&(b(0,"li"),R(1),w()),n&2){let t=e.$implicit;F(),Oe(t)}}function a6(n,e){if(n&1&&(b(0,"li"),R(1),w()),n&2){let t=e.$implicit;F(),Oe(t)}}function c6(n,e){if(n&1&&(b(0,"a",29),R(1," Comprar por WhatsApp "),w()),n&2){let t=be(2);Y("href",t.product.link,vi)}}function u6(n,e){if(n&1&&(b(0,"div",4)(1,"div",5)(2,"div",6),Bt(3,"img",7),w(),b(4,"div",8),ye(5,i6,2,4,"div",9),w()(),b(6,"div",10)(7,"h1"),R(8),w(),b(9,"div",11)(10,"span",12),R(11),w(),b(12,"span",13),R(13),w()(),b(14,"div",14),ye(15,o6,7,8,"div",15),b(16,"div",16),R(17),er(18,"number"),w()(),b(19,"div",17)(20,"span"),R(21),w()(),b(22,"div",18)(23,"h3"),R(24,"Descripci\xF3n"),w(),b(25,"p"),R(26),w()(),b(27,"div",19)(28,"h3"),R(29,"Caracter\xEDsticas"),w(),b(30,"ul"),ye(31,s6,2,1,"li",20),w()(),b(32,"div",21)(33,"h3"),R(34,"Contenido del paquete"),w(),b(35,"ul"),ye(36,a6,2,1,"li",20),w()(),b(37,"div",22),ye(38,c6,2,1,"a",23),b(39,"a",24),R(40," Volver a productos "),w()()()()),n&2){let t=be();F(3),Y("src",t.product.imagenes[t.currentImageIndex],vi)("alt",t.product.nombre),F(2),Y("ngForOf",t.product.imagenes),F(3),Oe(t.product.nombre),F(3),Oe(t.product.marca),F(2),Oe(t.product.modelo),F(2),Y("ngIf",t.product.descuento>0),F(2),Ze(" $",tr(18,15,t.getFinalPrice(),"1.2-2")," "),F(4),Ze(" ",t.product.stock!=0?"Disponible":"Agotado"," "),F(5),Oe(t.product.descripcion),F(5),Y("ngForOf",t.product.caracteristicas),F(5),Y("ngForOf",t.product.paquete),F(2),Y("ngIf",t.product.stock!=0),F(),Y("routerLink",Wv("/productos/",t.product.nicho))}}var _g=class n{constructor(e,t){this.route=e;this.productService=t}product;isLoading=!0;currentImageIndex=0;ngOnInit(){this.route.params.subscribe(e=>{let t=e.id;this.productService.getProductById(t).subscribe(r=>{this.product=r,this.isLoading=!1})})}changeImage(e){this.currentImageIndex=e}getFinalPrice(){return this.product.precio*(1-this.product.descuento)}static \u0275fac=function(t){return new(t||n)(K(tn),K(vr))};static \u0275cmp=Me({type:n,selectors:[["app-product-detail"]],decls:3,vars:2,consts:[[1,"product-detail-container"],["class","loading",4,"ngIf"],["class","product-detail",4,"ngIf"],[1,"loading"],[1,"product-detail"],[1,"product-gallery"],[1,"main-image"],[3,"src","alt"],[1,"thumbnails"],["class","thumbnail",3,"active","click",4,"ngFor","ngForOf"],[1,"product-info"],[1,"product-meta"],[1,"brand"],[1,"model"],[1,"product-pricing"],["class","original-price",4,"ngIf"],[1,"final-price"],[1,"product-status"],[1,"product-description"],[1,"product-features"],[4,"ngFor","ngForOf"],[1,"product-package"],[1,"product-actions"],["target","_blank","class","btn-whatsapp",3,"href",4,"ngIf"],[1,"btn-back",3,"routerLink"],[1,"thumbnail",3,"click"],[1,"original-price"],[1,"price-before"],[1,"discount-percent"],["target","_blank",1,"btn-whatsapp",3,"href"]],template:function(t,r){t&1&&(b(0,"div",0),ye(1,r6,3,0,"div",1)(2,u6,41,18,"div",2),w()),t&2&&(F(),Y("ngIf",r.isLoading),F(),Y("ngIf",!r.isLoading&&r.product))},dependencies:[Le,Pt,dn,du,Mi],styles:[".product-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.product-detail-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#7f8c8d}.product-detail-container[_ngcontent-%COMP%]   .product-detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}@media (max-width: 768px){.product-detail-container[_ngcontent-%COMP%]   .product-detail[_ngcontent-%COMP%]{grid-template-columns:1fr}}.product-detail-container[_ngcontent-%COMP%]   .product-gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.product-detail-container[_ngcontent-%COMP%]   .product-gallery[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.product-detail-container[_ngcontent-%COMP%]   .product-gallery[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;border:2px solid transparent;border-radius:4px;overflow:hidden;cursor:pointer;transition:border-color .3s}.product-detail-container[_ngcontent-%COMP%]   .product-gallery[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border-color:#3498db}.product-detail-container[_ngcontent-%COMP%]   .product-gallery[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:1rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{font-weight:700;margin-right:.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]{margin-bottom:1.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]   .price-before[_ngcontent-%COMP%]{text-decoration:line-through;color:#95a5a6}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]   .discount-percent[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.875rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-pricing[_ngcontent-%COMP%]   .final-price[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#2c3e50}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-status[_ngcontent-%COMP%]{margin-bottom:1.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-weight:700}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-status[_ngcontent-%COMP%]   span.in-stock[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-status[_ngcontent-%COMP%]   span.out-of-stock[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-features[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-package[_ngcontent-%COMP%]{margin-bottom:1.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-features[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-package[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-features[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-package[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-package[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;color:#34495e}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-package[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-whatsapp[_ngcontent-%COMP%]{background-color:#25d366;color:#fff;padding:.75rem 1.5rem;border-radius:4px;text-decoration:none;font-weight:700;transition:background-color .3s}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-whatsapp[_ngcontent-%COMP%]:hover{background-color:#128c7e}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{border:1px solid #3498db;color:#3498db;padding:.75rem 1.5rem;border-radius:4px;text-decoration:none;font-weight:700;transition:all .3s}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}"]})};var Eg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-what-is-domotics"]],decls:54,vars:0,consts:[[1,"domotics-section"],[1,"content-container"],[1,"definition"],[1,"benefits"],[1,"benefits-grid"],[1,"benefit-card"],[1,"examples"],[1,"cta-section"],["routerLink","/productos/domotica",1,"cta-button"]],template:function(t,r){t&1&&(b(0,"section",0)(1,"h1"),R(2,"\xBFQu\xE9 es la Dom\xF3tica?"),w(),b(3,"div",1)(4,"div",2)(5,"h2"),R(6,"Definici\xF3n"),w(),b(7,"p"),R(8,"La dom\xF3tica es el conjunto de tecnolog\xEDas aplicadas al control y automatizaci\xF3n inteligente de la vivienda, que permite una gesti\xF3n eficiente del uso de la energ\xEDa, aporta seguridad y confort, adem\xE1s de comunicaci\xF3n entre el usuario y el sistema."),w()(),b(9,"div",3)(10,"h2"),R(11,"Beneficios de la Dom\xF3tica"),w(),b(12,"div",4)(13,"div",5)(14,"h3"),R(15,"Comodidad"),w(),b(16,"p"),R(17,"Controla todos los dispositivos de tu hogar desde un solo lugar, ya sea mediante tu smartphone, tablet o asistentes de voz."),w()(),b(18,"div",5)(19,"h3"),R(20,"Seguridad"),w(),b(21,"p"),R(22,"Sistemas de vigilancia, alarmas y notificaciones en tiempo real para proteger tu hogar y familia."),w()(),b(23,"div",5)(24,"h3"),R(25,"Eficiencia Energ\xE9tica"),w(),b(26,"p"),R(27,"Optimiza el consumo de energ\xEDa controlando iluminaci\xF3n, climatizaci\xF3n y electrodom\xE9sticos autom\xE1ticamente."),w()(),b(28,"div",5)(29,"h3"),R(30,"Control Remoto"),w(),b(31,"p"),R(32,"Gestiona tu hogar desde cualquier lugar del mundo, incluso cuando no est\xE1s presente."),w()()()(),b(33,"div",6)(34,"h2"),R(35,"Ejemplos Pr\xE1cticos"),w(),b(36,"ul")(37,"li"),R(38,"Control de iluminaci\xF3n autom\xE1tico basado en presencia o horarios"),w(),b(39,"li"),R(40,"Regulaci\xF3n de temperatura seg\xFAn condiciones ambientales"),w(),b(41,"li"),R(42,"Apertura y cierre inteligente de puertas y ventanas"),w(),b(43,"li"),R(44,"Control de electrodom\xE9sticos y enchufes inteligentes"),w(),b(45,"li"),R(46,"Sistemas de riego automatizados para jardines"),w(),b(47,"li"),R(48,"Vigilancia con c\xE1maras y notificaciones en tiempo real"),w()()(),b(49,"div",7)(50,"p"),R(51,"\xBFListo para transformar tu hogar en un espacio inteligente?"),w(),b(52,"a",8),R(53,"Explora nuestros Productos Dom\xF3ticos"),w()()()())},styles:[".domotics-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.domotics-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem}.domotics-section[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}.domotics-section[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{margin-bottom:2rem}.domotics-section[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#34495e}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]{margin-bottom:2rem}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;margin-top:1rem}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;transition:transform .3s,box-shadow .3s}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;margin-top:0}.domotics-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:0}.domotics-section[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{margin-bottom:2rem}.domotics-section[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem;color:#34495e}.domotics-section[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.domotics-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.domotics-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c3e50;margin-bottom:1rem}.domotics-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75rem 1.5rem;background-color:#3498db;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.domotics-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})};var Ig=class n{constructor(e){this.firestore=e}getGlobalConfig(){let e=Zi(this.firestore,"configuracion/general");return Qa(e)}static \u0275fac=function(t){return new(t||n)(G(zn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function d6(n,e){if(n&1&&(b(0,"div",8)(1,"h4"),R(2),w(),b(3,"p"),R(4),w()()),n&2){let t=e.$implicit;F(2),Oe(t.nombre),F(2),Oe(t.puesto)}}function h6(n,e){if(n&1&&(b(0,"div",5)(1,"h3"),R(2,"Nuestro Equipo"),w(),b(3,"div",6),ye(4,d6,5,2,"div",7),w()()),n&2){let t=be(2);F(4),Y("ngForOf",t.config.equipo)}}function f6(n,e){if(n&1&&(b(0,"div")(1,"h2"),R(2),w(),b(3,"div",2)(4,"div")(5,"h3"),R(6,"Misi\xF3n"),w(),b(7,"p"),R(8),w()(),b(9,"div")(10,"h3"),R(11,"Visi\xF3n"),w(),b(12,"p"),R(13),w()()(),b(14,"div",3)(15,"p")(16,"strong"),R(17,"Tel\xE9fono:"),w(),R(18),w(),b(19,"p")(20,"strong"),R(21,"Email:"),w(),R(22),w(),b(23,"p")(24,"strong"),R(25,"Direcci\xF3n:"),w(),R(26),w()(),ye(27,h6,5,1,"div",4),w()),n&2){let t=be();F(2),Oe(t.config.nombreEmpresa),F(6),Oe(t.config.mision),F(5),Oe(t.config.vision),F(5),Ze(" ",t.config.telefono),F(4),Ze(" ",t.config.email),F(4),Ze(" ",t.config.direccion),F(),Y("ngIf",t.config.equipo)}}var wg=class n{constructor(e){this.configService=e}config={};ngOnInit(){this.configService.getGlobalConfig().subscribe(e=>{this.config=e})}static \u0275fac=function(t){return new(t||n)(K(Ig))};static \u0275cmp=Me({type:n,selectors:[["app-about"]],decls:4,vars:1,consts:[[1,"about-section"],[4,"ngIf"],[1,"mission-vision"],[1,"contact-info"],["class","team-section",4,"ngIf"],[1,"team-section"],[1,"team-grid"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"]],template:function(t,r){t&1&&(b(0,"section",0)(1,"h1"),R(2,"Sobre Nosotros"),w(),ye(3,f6,28,7,"div",1),w()),t&2&&(F(3),Y("ngIf",r.config))},dependencies:[Le,Pt,dn],styles:[".about-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.about-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem}.about-section[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}.about-section[_ngcontent-%COMP%]   .about-story[_ngcontent-%COMP%]{margin-bottom:2rem}.about-section[_ngcontent-%COMP%]   .about-story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#34495e}.about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem}@media (max-width: 768px){.about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]{grid-template-columns:1fr}}.about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px}.about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;margin-top:0}.about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]   .mission-vision[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:0}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]{margin-bottom:2rem}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]   .values-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;margin-top:1rem}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]   .values-grid[_ngcontent-%COMP%]   .value-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;transition:transform .3s,box-shadow .3s}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]   .values-grid[_ngcontent-%COMP%]   .value-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]   .values-grid[_ngcontent-%COMP%]   .value-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;margin-top:0}.about-section[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]   .values-grid[_ngcontent-%COMP%]   .value-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:0}.about-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50}.about-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#34495e;margin-bottom:.5rem}.about-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50}"]})};var Cg=class n{constructor(e){this.firestore=e}getAchievements(){let e=Zi(this.firestore,"logros/estadisticas");return Qa(e)}static \u0275fac=function(t){return new(t||n)(G(zn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function g6(n,e){if(n&1&&(b(0,"li"),R(1),w()),n&2){let t=e.$implicit;F(),Oe(t)}}function m6(n,e){if(n&1&&(b(0,"div",5)(1,"h2"),R(2,"Reconocimientos"),w(),b(3,"ul"),ye(4,g6,2,1,"li",6),w()()),n&2){let t=be(2);F(4),Y("ngForOf",t.achievements.reconocimientos)}}function y6(n,e){if(n&1&&(b(0,"div")(1,"div",2)(2,"div",3)(3,"h3"),R(4),w(),b(5,"p"),R(6,"Clientes satisfechos"),w()(),b(7,"div",3)(8,"h3"),R(9),w(),b(10,"p"),R(11,"Proyectos completados"),w()(),b(12,"div",3)(13,"h3"),R(14),w(),b(15,"p"),R(16,"Productos vendidos"),w()(),b(17,"div",3)(18,"h3"),R(19),w(),b(20,"p"),R(21,"Satisfacci\xF3n del cliente"),w()()(),ye(22,m6,5,1,"div",4),w()),n&2){let t=be();F(4),Ze("",t.achievements.clientes,"+"),F(5),Ze("",t.achievements.proyectos,"+"),F(5),Ze("",t.achievements.productosVendidos,"+"),F(5),Ze("",t.achievements.satisfaccion,"%"),F(3),Y("ngIf",t.achievements.reconocimientos)}}var bg=class n{constructor(e){this.achievementsService=e}achievements={};ngOnInit(){this.achievementsService.getAchievements().subscribe(e=>{this.achievements=e})}static \u0275fac=function(t){return new(t||n)(K(Cg))};static \u0275cmp=Me({type:n,selectors:[["app-achievements"]],decls:4,vars:1,consts:[[1,"achievements-section"],[4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],["class","awards-section",4,"ngIf"],[1,"awards-section"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(b(0,"section",0)(1,"h1"),R(2,"Nuestros Logros"),w(),ye(3,y6,23,5,"div",1),w()),t&2&&(F(3),Y("ngIf",r.achievements))},dependencies:[Le,Pt,dn],styles:[".achievements-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}.achievements-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem}.achievements-section[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:3rem}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-top:1.5rem}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:2rem 1rem;border-radius:8px;text-align:center;transition:transform .3s}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.achievements-section[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:1.1rem}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]{margin-bottom:2rem}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]{margin-top:1.5rem}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]   .award-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:1rem;transition:transform .3s,box-shadow .3s}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]   .award-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]   .award-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;margin-top:0;margin-bottom:.5rem}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]   .award-card[_ngcontent-%COMP%]   .award-year[_ngcontent-%COMP%]{font-weight:700;color:#7f8c8d;margin-bottom:.5rem}.achievements-section[_ngcontent-%COMP%]   .awards-section[_ngcontent-%COMP%]   .awards-list[_ngcontent-%COMP%]   .award-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#34495e;margin-bottom:0}.achievements-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.achievements-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c3e50;margin-bottom:1rem}.achievements-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75rem 1.5rem;background-color:#3498db;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.achievements-section[_ngcontent-%COMP%]   .cta-section[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})};var ox=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(K(Xn),K(kn))};static \u0275dir=Ne({type:n})}return n})(),xl=(()=>{class n extends ox{static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,features:[Rt]})}return n})(),Xa=new H(""),v6={provide:Xa,useExisting:jt(()=>$C),multi:!0},$C=(()=>{class n extends xl{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xt([v6]),Rt]})}return n})(),_6={provide:Xa,useExisting:jt(()=>ec),multi:!0};function E6(){let n=Tn()?Tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var I6=new H(""),ec=(()=>{class n extends ox{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!E6())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(K(Xn),K(kn),K(I6,8))};static \u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Xt([_6]),Rt]})}return n})();function w6(n){return n==null||C6(n)===0}function C6(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var kl=new H(""),sx=new H("");function b6(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function T6(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function D6(n){return w6(n.value)?{required:!0}:null}function YO(n){return null}function ax(n){return n!=null}function cx(n){return _i(n)?ke(n):n}function ux(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function lx(n,e){return e.map(t=>t(n))}function S6(n){return!n.validate}function dx(n){return n.map(e=>S6(e)?e:t=>e.validate(t))}function A6(n){if(!n)return null;let e=n.filter(ax);return e.length==0?null:function(t){return ux(lx(t,e))}}function HC(n){return n!=null?A6(dx(n)):null}function M6(n){if(!n)return null;let e=n.filter(ax);return e.length==0?null:function(t){let r=lx(t,e).map(cx);return Lm(r).pipe(te(ux))}}function qC(n){return n!=null?M6(dx(n)):null}function JO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R6(n){return n._rawValidators}function P6(n){return n._rawAsyncValidators}function jC(n){return n?Array.isArray(n)?n:[n]:[]}function Dg(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZO(n,e){let t=jC(e);return jC(n).forEach(i=>{Dg(t,i)||t.push(i)}),t}function XO(n,e){return jC(e).filter(t=>!Dg(n,t))}var Sg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Za=class extends Sg{name;get formDirective(){return null}get path(){return null}},Ol=class extends Sg{_parent=null;name=null;valueAccessor=null},Ag=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cle=ae(V({},N6),{"[class.ng-submitted]":"isSubmitted"}),Ng=(()=>{class n extends Ag{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(Ol,2))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$t("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Rt]})}return n})(),Og=(()=>{class n extends Ag{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(Za,10))};static \u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$t("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Rt]})}return n})();var Al="VALID",Tg="INVALID",Ya="PENDING",Ml="DISABLED",Xi=class{},Mg=class extends Xi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Pl=class extends Xi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Nl=class extends Xi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ja=class extends Xi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},UC=class extends Xi{source;constructor(e){super(),this.source=e}},BC=class extends Xi{source;constructor(e){super(),this.source=e}};function hx(n){return(xg(n)?n.validators:n)||null}function O6(n){return Array.isArray(n)?HC(n):n||null}function fx(n,e){return(xg(e)?e.asyncValidators:n)||null}function x6(n){return Array.isArray(n)?qC(n):n||null}function xg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function k6(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function F6(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Rg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}_status=Js(()=>this.statusReactive());statusReactive=Yn(void 0);get valid(){return this.status===Al}get invalid(){return this.status===Tg}get pending(){return this.status==Ya}get disabled(){return this.status===Ml}get enabled(){return this.status!==Ml}errors;get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}_pristine=Js(()=>this.pristineReactive());pristineReactive=Yn(!0);get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}_touched=Js(()=>this.touchedReactive());touchedReactive=Yn(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XO(e,this._rawAsyncValidators))}hasValidator(e){return Dg(this._rawValidators,e)}hasAsyncValidator(e){return Dg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pl(!0,r))}markAsPending(e={}){this.status=Ya;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ja(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ml,this.errors=null,this._forEachChild(i=>{i.disable(ae(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mg(this.value,r)),this._events.next(new Ja(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Al,this._forEachChild(r=>{r.enable(ae(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===Ya)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mg(this.value,t)),this._events.next(new Ja(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ml:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ya,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=cx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ja(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Ml:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ya)?Ya:this._anyControlsHaveStatus(Tg)?Tg:Al}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Pl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=O6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=x6(this._rawAsyncValidators)}},Pg=class extends Rg{constructor(e,t,r){super(hx(t),fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){F6(this,!0,e),Object.keys(e).forEach(r=>{k6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zC=new H("",{providedIn:"root",factory:()=>GC}),GC="always";function L6(n,e){return[...e.path,n]}function px(n,e,t=GC){gx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),j6(n,e),B6(n,e),U6(n,e),V6(n,e)}function ex(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function V6(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function gx(n,e){let t=R6(n);e.validator!==null?n.setValidators(JO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=P6(n);e.asyncValidator!==null?n.setAsyncValidators(JO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ex(e._rawValidators,i),ex(e._rawAsyncValidators,i)}function j6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mx(n,e)})}function U6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function mx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B6(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $6(n,e){n==null,gx(n,e)}function H6(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function q6(n){return Object.getPrototypeOf(n.constructor)===xl}function z6(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function G6(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ec?t=o:q6(o)?r=o:i=o}),i||r||t||null}var W6={provide:Za,useExisting:jt(()=>Fl)},Rl=Promise.resolve(),Fl=(()=>{class n extends Za{callSetDisabledState;get submitted(){return bn(this.submittedReactive)}_submitted=Js(()=>this.submittedReactive());submittedReactive=Yn(!1);_directives=new Set;form;ngSubmit=new ze;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Pg({},HC(t),qC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),px(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rl.then(()=>{let r=this._findContainer(t.path),i=new Pg({});$6(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),z6(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new UC(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new BC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(K(kl,10),K(sx,10),K(zC,8))};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xt([W6]),Rt]})}return n})();function tx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function nx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var K6=class extends Rg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(hx(t),fx(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(nx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q6={provide:Ol,useExisting:jt(()=>Ll)},rx=Promise.resolve(),Ll=(()=>{class n extends Ol{_changeDetectorRef;callSetDisabledState;control=new K6;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=G6(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),H6(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){px(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){rx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ii(r);rx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?L6(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(K(Za,9),K(kl,10),K(sx,10),K(Xa,10),K(Lo,8),K(zC,8))};static \u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xt([Q6]),Rt,kr]})}return n})();var kg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Y6={provide:Xa,useExisting:jt(()=>WC),multi:!0},WC=(()=>{class n extends xl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xt([Y6]),Rt]})}return n})();var J6={provide:Xa,useExisting:jt(()=>Fg),multi:!0};function yx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Z6(n){return n.split(":")[0]}var Fg=(()=>{class n extends xl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=yx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Z6(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([J6]),Rt]})}return n})(),vx=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(yx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(K(kn),K(Xn),K(Fg,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),X6={provide:Xa,useExisting:jt(()=>_x),multi:!0};function ix(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function e5(n){return n.split(":")[0]}var _x=(()=>{class n extends xl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=e5(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([X6]),Rt]})}return n})(),Ex=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ix(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ix(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(K(kn),K(Xn),K(_x,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Ix(n){return typeof n=="number"?n:parseFloat(n)}var KC=(()=>{class n{_validator=YO;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):YO,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,features:[kr]})}return n})(),t5={provide:kl,useExisting:jt(()=>QC),multi:!0},QC=(()=>{class n extends KC{max;inputName="max";normalizeInput=t=>Ix(t);createValidator=t=>T6(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ei("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Xt([t5]),Rt]})}return n})(),n5={provide:kl,useExisting:jt(()=>YC),multi:!0},YC=(()=>{class n extends KC{min;inputName="min";normalizeInput=t=>Ix(t);createValidator=t=>b6(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ei("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Xt([n5]),Rt]})}return n})(),r5={provide:kl,useExisting:jt(()=>Vl),multi:!0};var Vl=(()=>{class n extends KC{required;inputName="required";normalizeInput=Ii;createValidator=t=>D6;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ei("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Xt([r5]),Rt]})}return n})();var i5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fn({type:n});static \u0275inj=vn({})}return n})();var Lg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zC,useValue:t.callSetDisabledState??GC}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fn({type:n});static \u0275inj=vn({imports:[i5]})}return n})();function o5(n,e){if(n&1&&(b(0,"option",35),R(1),w()),n&2){let t=e.$implicit;Y("value",t),F(),Oe(t)}}function s5(n,e){if(n&1&&(b(0,"option",35),R(1),w()),n&2){let t=e.$implicit;Y("value",t),F(),Oe(t)}}function a5(n,e){if(n&1){let t=Lr();b(0,"div",36)(1,"input",37),We("ngModelChange",function(i){let o=Qt(t).index,s=be();return Xe(s.product.caracteristicas[o],i)||(s.product.caracteristicas[o]=i),Yt(i)}),w(),b(2,"button",32),Re("click",function(){let i=Qt(t).index,o=be();return Yt(o.removeFeature(i))}),R(3,"\xD7"),w()()}if(n&2){let t=e.index,r=be();F(),Ge("ngModel",r.product.caracteristicas[t]),Y("name","feature"+t)}}function c5(n,e){if(n&1){let t=Lr();b(0,"div",36)(1,"input",37),We("ngModelChange",function(i){let o=Qt(t).index,s=be();return Xe(s.product.paquete[o],i)||(s.product.paquete[o]=i),Yt(i)}),w(),b(2,"button",32),Re("click",function(){let i=Qt(t).index,o=be();return Yt(o.removePackageItem(i))}),R(3,"\xD7"),w()()}if(n&2){let t=e.index,r=be();F(),Ge("ngModel",r.product.paquete[t]),Y("name","item"+t)}}function u5(n,e){if(n&1){let t=Lr();b(0,"div",36)(1,"input",38),We("ngModelChange",function(i){let o=Qt(t).index,s=be();return Xe(s.product.imagenes[o],i)||(s.product.imagenes[o]=i),Yt(i)}),w(),b(2,"button",32),Re("click",function(){let i=Qt(t).index,o=be();return Yt(o.removeImage(i))}),R(3,"\xD7"),w()()}if(n&2){let t=e.index,r=be();F(),Ge("ngModel",r.product.imagenes[t]),Y("name","image"+t)}}var Vg=class n{product;submitProduct=new ze;nichos=["domotica","tecnologia","segunda-mano"];categorias=["Aistentes","TomaCorriente","Interruptor","Iluminacion","Pin","Rele","Reloj","Control_Remoto","Audifonos","Airpots","Adaptador"];submit(){this.submitProduct.emit(this.product)}addFeature(){this.product.caracteristicas.push("")}removeFeature(e){this.product.caracteristicas.splice(e,1)}addPackageItem(){this.product.paquete.push("")}removePackageItem(e){this.product.paquete.splice(e,1)}addImage(){this.product.imagenes.push("")}removeImage(e){this.product.imagenes.splice(e,1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-product-form"]],inputs:{product:"product"},outputs:{submitProduct:"submitProduct"},decls:84,vars:18,consts:[[1,"product-form",3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","required","",3,"ngModelChange","ngModel"],[1,"form-row"],["for","precio"],["type","number","id","precio","name","precio","min","0","step","0.01","required","",3,"ngModelChange","ngModel"],["for","descuento"],["type","number","id","descuento","name","descuento","min","0","max","100","required","",3,"ngModelChange","ngModel"],["for","nicho"],["id","nicho","name","nicho","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","categoria","name","categoria","required","",3,"ngModelChange","ngModel"],["for","stock"],["type","number","id","stock","name","stock","min","0","required","",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",3,"ngModelChange","ngModel"],["value","nuevo"],["value","usado"],["value","reacondicionado"],["for","marca"],["type","text","id","marca","name","marca","required","",3,"ngModelChange","ngModel"],["for","modelo"],["type","text","id","modelo","name","modelo","required","",3,"ngModelChange","ngModel"],["for","link"],["type","text","id","link","name","link","required","",3,"ngModelChange","ngModel"],["for","video"],["type","url","id","video","name","video",3,"ngModelChange","ngModel"],["class","array-item",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","checkbox","name","destacado",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn"],[3,"value"],[1,"array-item"],["type","text",3,"ngModelChange","ngModel","name"],["type","url",3,"ngModelChange","ngModel","name"]],template:function(t,r){t&1&&(b(0,"form",0),Re("ngSubmit",function(){return r.submit()}),b(1,"div",1)(2,"label",2),R(3,"Nombre del Producto:"),w(),b(4,"input",3),We("ngModelChange",function(o){return Xe(r.product.nombre,o)||(r.product.nombre=o),o}),w()(),b(5,"div",1)(6,"label",4),R(7,"Descripci\xF3n:"),w(),b(8,"textarea",5),We("ngModelChange",function(o){return Xe(r.product.descripcion,o)||(r.product.descripcion=o),o}),w()(),b(9,"div",6)(10,"div",1)(11,"label",7),R(12,"Precio ($):"),w(),b(13,"input",8),We("ngModelChange",function(o){return Xe(r.product.precio,o)||(r.product.precio=o),o}),w()(),b(14,"div",1)(15,"label",9),R(16,"Descuento (%):"),w(),b(17,"input",10),We("ngModelChange",function(o){return Xe(r.product.descuento,o)||(r.product.descuento=o),o}),w()()(),b(18,"div",6)(19,"div",1)(20,"label",11),R(21,"Nicho:"),w(),b(22,"select",12),We("ngModelChange",function(o){return Xe(r.product.nicho,o)||(r.product.nicho=o),o}),ye(23,o5,2,2,"option",13),w()(),b(24,"div",1)(25,"label",14),R(26,"Categor\xEDa:"),w(),b(27,"select",15),We("ngModelChange",function(o){return Xe(r.product.categoria,o)||(r.product.categoria=o),o}),ye(28,s5,2,2,"option",13),w()()(),b(29,"div",6)(30,"div",1)(31,"label",16),R(32,"Stock:"),w(),b(33,"input",17),We("ngModelChange",function(o){return Xe(r.product.stock,o)||(r.product.stock=o),o}),w()(),b(34,"div",1)(35,"label",18),R(36,"Estado:"),w(),b(37,"select",19),We("ngModelChange",function(o){return Xe(r.product.estado,o)||(r.product.estado=o),o}),b(38,"option",20),R(39,"Nuevo"),w(),b(40,"option",21),R(41,"Usado"),w(),b(42,"option",22),R(43,"Reacondicionado"),w()()()(),b(44,"div",1)(45,"label",23),R(46,"Marca:"),w(),b(47,"input",24),We("ngModelChange",function(o){return Xe(r.product.marca,o)||(r.product.marca=o),o}),w()(),b(48,"div",1)(49,"label",25),R(50,"Modelo:"),w(),b(51,"input",26),We("ngModelChange",function(o){return Xe(r.product.modelo,o)||(r.product.modelo=o),o}),w()(),b(52,"div",1)(53,"label",27),R(54,"Enlace \xFAnico:"),w(),b(55,"input",28),We("ngModelChange",function(o){return Xe(r.product.link,o)||(r.product.link=o),o}),w()(),b(56,"div",1)(57,"label",29),R(58,"URL Video Review (opcional):"),w(),b(59,"input",30),We("ngModelChange",function(o){return Xe(r.product.url_video_review,o)||(r.product.url_video_review=o),o}),w()(),b(60,"div",1)(61,"label"),R(62,"Caracter\xEDsticas:"),w(),ye(63,a5,4,2,"div",31),b(64,"button",32),Re("click",function(){return r.addFeature()}),R(65,"+ A\xF1adir Caracter\xEDstica"),w()(),b(66,"div",1)(67,"label"),R(68,"Contenido del Paquete:"),w(),ye(69,c5,4,2,"div",31),b(70,"button",32),Re("click",function(){return r.addPackageItem()}),R(71,"+ A\xF1adir Item"),w()(),b(72,"div",1)(73,"label"),R(74,"Im\xE1genes (URLs):"),w(),ye(75,u5,4,2,"div",31),b(76,"button",32),Re("click",function(){return r.addImage()}),R(77,"+ A\xF1adir Imagen"),w()(),b(78,"div",1)(79,"label")(80,"input",33),We("ngModelChange",function(o){return Xe(r.product.destacado,o)||(r.product.destacado=o),o}),w(),R(81," Producto Destacado "),w()(),b(82,"button",34),R(83,"Guardar Producto"),w()()),t&2&&(F(4),Ge("ngModel",r.product.nombre),F(4),Ge("ngModel",r.product.descripcion),F(5),Ge("ngModel",r.product.precio),F(4),Ge("ngModel",r.product.descuento),F(5),Ge("ngModel",r.product.nicho),F(),Y("ngForOf",r.nichos),F(4),Ge("ngModel",r.product.categoria),F(),Y("ngForOf",r.categorias),F(5),Ge("ngModel",r.product.stock),F(4),Ge("ngModel",r.product.estado),F(10),Ge("ngModel",r.product.marca),F(4),Ge("ngModel",r.product.modelo),F(4),Ge("ngModel",r.product.link),F(4),Ge("ngModel",r.product.url_video_review),F(4),Y("ngForOf",r.product.caracteristicas),F(6),Y("ngForOf",r.product.paquete),F(6),Y("ngForOf",r.product.imagenes),F(5),Ge("ngModel",r.product.destacado))},dependencies:[Le,Pt,Lg,kg,vx,Ex,ec,WC,$C,Fg,Ng,Og,Vl,YC,QC,Ll,Fl],styles:[".product-form[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px}.product-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:15px}.product-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.product-form[_ngcontent-%COMP%]   .array-item[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:5px}.product-form[_ngcontent-%COMP%]   .array-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.product-form[_ngcontent-%COMP%]   .array-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f44;color:#fff;border:none;border-radius:4px;cursor:pointer;padding:0 10px}.product-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;margin-top:5px}.product-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer;font-size:16px;margin-top:10px;width:100%}.product-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background:#0b7dda}"]})};var _r=class n{constructor(e){this.auth=e}login(e,t){return v(this,null,function*(){try{return yield lP(this.auth,e,t),!0}catch(r){return console.error("Error al iniciar sesi\xF3n:",r),!1}})}logout(){return dP(this.auth)}isLoggedIn(){return!!this.auth.currentUser}static \u0275fac=function(t){return new(t||n)(G(ns))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function l5(n,e){if(n&1){let t=Lr();b(0,"div",6)(1,"app-product-form",4),Re("submitProduct",function(i){Qt(t);let o=be();return Yt(o.updateProduct(i))}),w(),b(2,"button",1),Re("click",function(){let i=Qt(t).$implicit,o=be();return Yt(o.deleteProduct(i.id))}),R(3,"Eliminar"),w()()}if(n&2){let t=e.$implicit;F(),Y("product",t)}}var jg=class n{constructor(e,t){this.authService=e;this.productService=t;this.loadProducts()}newProduct=this.getEmptyProduct();products=[];getEmptyProduct(){return{nombre:"",descripcion:"",caracteristicas:[],paquete:[],descuento:0,precio:0,estado:"nuevo",nicho:"domotica",categoria:"kits",stock:0,imagenes:[],marca:"",modelo:"",fecha_publicacion:new Date,destacado:!1,link:""}}loadProducts(){return v(this,null,function*(){this.productService.getProducts().subscribe(e=>{this.products=e})})}addProduct(e){return v(this,null,function*(){try{yield this.productService.addProduct(e),this.newProduct=this.getEmptyProduct(),this.loadProducts()}catch(t){console.error("Error adding product:",t)}})}updateProduct(e){return v(this,null,function*(){if("id"in e)try{yield this.productService.updateProduct(e.id,e),this.loadProducts()}catch(t){console.error("Error updating product:",t)}})}deleteProduct(e){return v(this,null,function*(){try{yield this.productService.deleteProduct(e),this.loadProducts()}catch(t){console.error("Error deleting product:",t)}})}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(K(_r),K(vr))};static \u0275cmp=Me({type:n,selectors:[["app-admin-panel"]],decls:16,vars:2,consts:[[1,"admin-panel"],[3,"click"],[1,"product-management"],[1,"product-forms"],[3,"submitProduct","product"],["class","product-edit",4,"ngFor","ngForOf"],[1,"product-edit"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"header")(2,"h1"),R(3,"Panel de Administraci\xF3n"),w(),b(4,"button",1),Re("click",function(){return r.logout()}),R(5,"Cerrar Sesi\xF3n"),w()(),b(6,"section",2)(7,"h2"),R(8,"Gesti\xF3n de Productos"),w(),b(9,"div",3)(10,"h3"),R(11,"A\xF1adir Nuevo Producto"),w(),b(12,"app-product-form",4),Re("submitProduct",function(o){return r.addProduct(o)}),w(),b(13,"h3"),R(14,"Editar Productos Existentes"),w(),ye(15,l5,4,1,"div",5),w()()()),t&2&&(F(12),Y("product",r.newProduct),F(3),Y("ngForOf",r.products))},dependencies:[Le,Pt,Vg],styles:[".admin-panel[_ngcontent-%COMP%]{padding:2rem}.admin-panel[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.admin-panel[_ngcontent-%COMP%]   .product-management[_ngcontent-%COMP%]   .product-forms[_ngcontent-%COMP%]{display:grid;gap:2rem}.admin-panel[_ngcontent-%COMP%]   .product-management[_ngcontent-%COMP%]   .product-forms[_ngcontent-%COMP%]   .product-edit[_ngcontent-%COMP%]{border:1px solid #ddd;padding:1rem;border-radius:4px}"]})};function d5(n,e){if(n&1&&(b(0,"div",9),R(1),w()),n&2){let t=be();F(),Oe(t.error)}}var Ug=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";error="";onSubmit(){return v(this,null,function*(){(yield this.authService.login(this.email,this.password))?this.router.navigate(["/admin"]):this.error="Credenciales incorrectas"})}static \u0275fac=function(t){return new(t||n)(K(_r),K(Nt))};static \u0275cmp=Me({type:n,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"h1"),R(2,"Iniciar Sesi\xF3n"),w(),b(3,"form",1),Re("ngSubmit",function(){return r.onSubmit()}),b(4,"div",2)(5,"label",3),R(6,"Email:"),w(),b(7,"input",4),We("ngModelChange",function(o){return Xe(r.email,o)||(r.email=o),o}),w()(),b(8,"div",2)(9,"label",5),R(10,"Contrase\xF1a:"),w(),b(11,"input",6),We("ngModelChange",function(o){return Xe(r.password,o)||(r.password=o),o}),w()(),ye(12,d5,2,1,"div",7),b(13,"button",8),R(14,"Ingresar"),w()()()),t&2&&(F(7),Ge("ngModel",r.email),F(4),Ge("ngModel",r.password),F(),Y("ngIf",r.error))},dependencies:[Le,dn,Lg,kg,ec,Ng,Og,Vl,Ll,Fl],encapsulation:2})};var tc=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:this.router.createUrlTree(["/admin/login"])}static \u0275fac=function(t){return new(t||n)(G(_r),G(Nt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cx=[{path:"",component:yg,title:"Inicio - DomoTechSV"},{path:"productos/:nicho",component:vg,title:"Productos - DomoTechSV"},{path:"producto/:id",component:_g,title:"Detalle de Producto - DomoTechSV"},{path:"que-es-domotica",component:Eg,title:"\xBFQu\xE9 es la Dom\xF3tica? - DomoTechSV"},{path:"about",component:wg,title:"Sobre Nosotros - DomoTechSV"},{path:"admin",component:jg,canActivate:[tc],title:"Panel de Administraci\xF3n - DomoTechSV"},{path:"admin/login",component:Ug,title:"Iniciar Sesi\xF3n"},{path:"logros",component:bg,title:"Logros - DomoTechSV"},{path:"**",redirectTo:""}];var bx={production:!1,firebase:{apiKey:"AIzaSyC9STkLXflVVj5cQIKphJq4_kyDaqK105g",authDomain:"domotechsv-90961.firebaseapp.com",projectId:"domotechsv-90961",storageBucket:"domotechsv-90961.firebasestorage.app",messagingSenderId:"331679421186",appId:"1:331679421186:web:8e3f83d9c324b56120681b",measurementId:"G-X6YW70T8HD"}};var Tx={providers:[K_(Cx),E_(),nR(()=>rR(bx.firebase)),cP(()=>uP()),zO(()=>KO()),_r,tc]};var Bg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-footer"]],decls:21,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"contact-info"],[1,"social-links"],["href","https://facebook.com/domotechsv","target","_blank"],["href","https://instagram.com/domotechsv","target","_blank"],["href","https://wa.me/573XXXXXXX","target","_blank"],[1,"copyright"]],template:function(t,r){t&1&&(b(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),R(4,"Contacto"),w(),b(5,"p"),R(6,"Email: contacto&:64domotechsv.com"),w(),b(7,"p"),R(8,"Tel\xE9fono: +57 313389"),w()(),b(9,"div",3)(10,"h3"),R(11,"Redes Sociales"),w(),b(12,"a",4),R(13,"Facebook"),w(),b(14,"a",5),R(15,"Instagram"),w(),b(16,"a",6),R(17,"WhatsApp"),w()()(),b(18,"div",7)(19,"p"),R(20,"\xA9 2025 DomoTechSV. Todos los derechos reservados."),w()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;padding:2rem 1rem;margin-top:auto}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;gap:2rem;margin-bottom:1rem}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#3498db}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0;color:#fff}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;transition:color .3s}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3498db}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{text-align:center;padding-top:1rem;border-top:1px solid #34495e;margin-top:1rem}"]})};var $g=class n{isActive(e){return window.location.pathname===e||e!=="/"&&window.location.pathname.startsWith(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-header"]],decls:28,vars:14,consts:[[1,"header"],[1,"logo-container"],["routerLink","/",1,"logo-link"],[1,"logo-text"],[1,"nav-menu"],[1,"nav-list"],[1,"nav-item"],["routerLink","/"],["routerLink","/productos/domotica"],["routerLink","/productos/tecnologia"],["routerLink","/productos/segunda-mano"],["routerLink","/que-es-domotica"],["routerLink","/about"],["routerLink","/logros"]],template:function(t,r){t&1&&(b(0,"header",0)(1,"div",1)(2,"a",2)(3,"span",3),R(4,"DomoTechSV"),w()()(),b(5,"nav",4)(6,"ul",5)(7,"li",6)(8,"a",7),R(9,"Inicio"),w()(),b(10,"li",6)(11,"a",8),R(12,"Productos Dom\xF3ticos"),w()(),b(13,"li",6)(14,"a",9),R(15,"Productos Tecnol\xF3gicos"),w()(),b(16,"li",6)(17,"a",10),R(18,"Segunda Mano"),w()(),b(19,"li",6)(20,"a",11),R(21,"\xBFQu\xE9 es la Dom\xF3tica?"),w()(),b(22,"li",6)(23,"a",12),R(24,"Sobre Nosotros"),w()(),b(25,"li",6)(26,"a",13),R(27,"Logros"),w()()()()()),t&2&&(F(8),$t("active",r.isActive("/")),F(3),$t("active",r.isActive("/productos/domotica")),F(3),$t("active",r.isActive("/productos/tecnologia")),F(3),$t("active",r.isActive("/productos/segunda-mano")),F(3),$t("active",r.isActive("/que-es-domotica")),F(3),$t("active",r.isActive("/about")),F(3),$t("active",r.isActive("/logros")))},dependencies:[Le,ju,Mi],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#2c3e50;color:#fff}.header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.header[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem;margin:0;padding:0}.header[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:4px;transition:all .3s ease;font-weight:500}.header[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#3498db;box-shadow:0 2px 5px #0003}"]})};var Hg=class n{constructor(e){this.router=e;this.router.events.pipe(ht(t=>t instanceof en)).subscribe(t=>{this.activeRouteSource.next(t.urlAfterRedirects||t.url)})}activeRouteSource=new dt("");activeRoute$=this.activeRouteSource.asObservable();static \u0275fac=function(t){return new(t||n)(G(Nt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var qg=class n{title="DomoTechSV";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-root"]],features:[Xt([Hg])],decls:3,vars:0,template:function(t,r){t&1&&Bt(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Le,Bg,$g,ju,xu],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;min-height:100vh;display:flex;flex-direction:column}router-outlet[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{flex:1}']})};y_(qg,Tx).catch(n=>console.error(n));
